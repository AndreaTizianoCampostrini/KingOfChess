"use strict";(self.webpackChunkKingOfChess=self.webpackChunkKingOfChess||[]).push([[179],{2011:(T1,Ie,F)=>{F.d(Ie,{Dh:()=>Pe,GT:()=>ve,cc:()=>Ee,hO:()=>Ye,on:()=>Z,pX:()=>ye,xv:()=>He});var h=F(4650),U=F(9260),X=F(1157);T1=F.hmd(T1);const pe=["ngOnDestroy"],ye=(Ve,Re,$e,xe={})=>new Proxy(Ve,{get:(Te,Le)=>$e.runOutsideAngular(()=>{var qe;if(Ve[Le])return!(null===(qe=xe?.spy)||void 0===qe)&&qe.get&&xe.spy.get(Le,Ve[Le]),Ve[Le];if(pe.indexOf(Le)>-1)return()=>{};const Fe=Re.toPromise().then(ue=>{const u1=ue&&ue[Le];return"function"==typeof u1?u1.bind(ue):u1&&u1.then?u1.then(O1=>$e.run(()=>O1)):$e.run(()=>u1)});return new Proxy(()=>{},{get:(ue,u1)=>Fe[u1],apply:(ue,u1,O1)=>Fe.then(h1=>{var st;const p1=h1&&h1(...O1);return!(null===(st=xe?.spy)||void 0===st)&&st.apply&&xe.spy.apply(Le,O1,p1),p1})})})}),ve=(Ve,Re)=>{Re.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(xe=>{Object.defineProperty(Ve.prototype,xe,Object.getOwnPropertyDescriptor($e.prototype||$e,xe))})})};class Ge{constructor(Re){return Re}}const Pe=new h.OlP("angularfire2.app.options"),He=new h.OlP("angularfire2.app.name");function Z(Ve,Re,$e){const Te="object"==typeof $e&&$e||{};Te.name=Te.name||"string"==typeof $e&&$e||"[DEFAULT]";const qe=U.Z.apps.filter(Fe=>Fe&&Fe.name===Te.name)[0]||Re.runOutsideAngular(()=>U.Z.initializeApp(Ve,Te));try{JSON.stringify(Ve)!==JSON.stringify(qe.options)&&q("error",`${qe.name} Firebase App already initialized with different options${T1.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ge(qe)}const q=(Ve,...Re)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ve](...Re)},te={provide:Ge,useFactory:Z,deps:[Pe,h.R0b,[new h.FiY,He]]};let Ye=(()=>{class Ve{constructor($e){U.Z.registerVersion("angularfire",X.q4.full,"core"),U.Z.registerVersion("angularfire",X.q4.full,"app-compat"),U.Z.registerVersion("angular",h.q4F.full,$e.toString())}static initializeApp($e,xe){return{ngModule:Ve,providers:[{provide:Pe,useValue:$e},{provide:He,useValue:xe}]}}}return Ve.\u0275fac=function($e){return new($e||Ve)(h.LFG(h.Lbi))},Ve.\u0275mod=h.oAB({type:Ve}),Ve.\u0275inj=h.cJS({providers:[te]}),Ve})();function Ee(Ve,Re,$e,xe,Te){const[,Le,qe]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Ve)||[];if(Le)return function n1(Ve,Re){try{return Ve.toString()===Re.toString()}catch{return Ve===Re}}(Te,qe)||(be("error",`${Re} was already initialized on the ${$e} Firebase App with different settings.${d1?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Te,was:qe})),Le;{const Fe=xe();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Fe,Te]),Fe}}const d1=!!T1.hot,be=(Ve,...Re)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ve](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1157:(T1,Ie,F)=>{F.d(Ie,{q4:()=>l4,iC:()=>ns,HU:()=>no,vb:()=>Lt,JM:()=>J0,u3:()=>S3});var h=F(4650),U=F(259),X=F(5861),pe=F(6881),ye=F(2090),ve=F(4859),Ge=F(1877);const Pe=(w,x)=>x.some(V=>w instanceof V);let He,Z;const Ye=new WeakMap,Ee=new WeakMap,n1=new WeakMap,d1=new WeakMap,be=new WeakMap;let $e={get(w,x,V){if(w instanceof IDBTransaction){if("done"===x)return Ee.get(w);if("objectStoreNames"===x)return w.objectStoreNames||n1.get(w);if("store"===x)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return qe(w[x])},set:(w,x,V)=>(w[x]=V,!0),has:(w,x)=>w instanceof IDBTransaction&&("done"===x||"store"===x)||x in w};function Le(w){return"function"==typeof w?function Te(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...x){return w.apply(Fe(this),x),qe(Ye.get(this))}:function(...x){return qe(w.apply(Fe(this),x))}:function(x,...V){const k=w.call(Fe(this),x,...V);return n1.set(k,x.sort?x.sort():[x]),qe(k)}}(w):(w instanceof IDBTransaction&&function Re(w){if(Ee.has(w))return;const x=new Promise((V,k)=>{const j=()=>{w.removeEventListener("complete",Q),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},Q=()=>{V(),j()},fe=()=>{k(w.error||new DOMException("AbortError","AbortError")),j()};w.addEventListener("complete",Q),w.addEventListener("error",fe),w.addEventListener("abort",fe)});Ee.set(w,x)}(w),Pe(w,function q(){return He||(He=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,$e):w)}function qe(w){if(w instanceof IDBRequest)return function Ve(w){const x=new Promise((V,k)=>{const j=()=>{w.removeEventListener("success",Q),w.removeEventListener("error",fe)},Q=()=>{V(qe(w.result)),j()},fe=()=>{k(w.error),j()};w.addEventListener("success",Q),w.addEventListener("error",fe)});return x.then(V=>{V instanceof IDBCursor&&Ye.set(V,w)}).catch(()=>{}),be.set(x,w),x}(w);if(d1.has(w))return d1.get(w);const x=Le(w);return x!==w&&(d1.set(w,x),be.set(x,w)),x}const Fe=w=>be.get(w),O1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],st=new Map;function p1(w,x){if(!(w instanceof IDBDatabase)||x in w||"string"!=typeof x)return;if(st.get(x))return st.get(x);const V=x.replace(/FromIndex$/,""),k=x!==V,j=h1.includes(V);if(!(V in(k?IDBIndex:IDBObjectStore).prototype)||!j&&!O1.includes(V))return;const Q=function(){var fe=(0,X.Z)(function*(e1,...Xe){const f1=this.transaction(e1,j?"readwrite":"readonly");let F1=f1.store;return k&&(F1=F1.index(Xe.shift())),(yield Promise.all([F1[V](...Xe),j&&f1.done]))[0]});return function(Xe){return fe.apply(this,arguments)}}();return st.set(x,Q),Q}!function xe(w){$e=w($e)}(w=>({...w,get:(x,V,k)=>p1(x,V)||w.get(x,V,k),has:(x,V)=>!!p1(x,V)||w.has(x,V)}));const _e="@firebase/installations",Ce="0.6.4",ze=1e4,Ae=`w:${Ce}`,t1="FIS_v2",Qe="https://firebaseinstallations.googleapis.com/v1",y1=36e5,tt=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function L1(w){return w instanceof ye.ZR&&w.code.includes("request-failed")}function nt({projectId:w}){return`${Qe}/projects/${w}/installations`}function Qt(w){return{token:w.token,requestStatus:2,expiresIn:li(w.expiresIn),creationTime:Date.now()}}function Yt(w,x){return xn.apply(this,arguments)}function xn(){return(xn=(0,X.Z)(function*(w,x){const k=(yield x.json()).error;return tt.create("request-failed",{requestName:w,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function A2({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Tr(w){return jr.apply(this,arguments)}function jr(){return(jr=(0,X.Z)(function*(w){const x=yield w();return x.status>=500&&x.status<600?w():x})).apply(this,arguments)}function li(w){return Number(w.replace("s","000"))}function _1(){return(_1=(0,X.Z)(function*({appConfig:w,heartbeatServiceProvider:x},{fid:V}){const k=nt(w),j=A2(w),Q=x.getImmediate({optional:!0});if(Q){const f1=yield Q.getHeartbeatsHeader();f1&&j.append("x-firebase-client",f1)}const e1={method:"POST",headers:j,body:JSON.stringify({fid:V,authVersion:t1,appId:w.appId,sdkVersion:Ae})},Xe=yield Tr(()=>fetch(k,e1));if(Xe.ok){const f1=yield Xe.json();return{fid:f1.fid||V,registrationStatus:2,refreshToken:f1.refreshToken,authToken:Qt(f1.authToken)}}throw yield Yt("Create Installation",Xe)})).apply(this,arguments)}function xi(w){return new Promise(x=>{setTimeout(x,w)})}const L2=/^[cdef][\w-]{21}$/,En="";function xr(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const V=function Ct(w){return function Es(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return L2.test(V)?V:En}catch{return En}}function J1(w){return`${w.appName}!${w.appId}`}const C1=new Map;function j1(w,x){const V=J1(w);a2(V,x),function Gn(w,x){const V=function mn(){return!c2&&"BroadcastChannel"in self&&(c2=new BroadcastChannel("[Firebase] FID Change"),c2.onmessage=w=>{a2(w.data.key,w.data.fid)}),c2}();V&&V.postMessage({key:w,fid:x}),function Nt(){0===C1.size&&c2&&(c2.close(),c2=null)}()}(V,x)}function a2(w,x){const V=C1.get(w);if(V)for(const k of V)k(x)}let c2=null;const ui="firebase-installations-database",ot=1,or="firebase-installations-store";let dt=null;function gn(){return dt||(dt=function ue(w,x,{blocked:V,upgrade:k,blocking:j,terminated:Q}={}){const fe=indexedDB.open(w,x),e1=qe(fe);return k&&fe.addEventListener("upgradeneeded",Xe=>{k(qe(fe.result),Xe.oldVersion,Xe.newVersion,qe(fe.transaction))}),V&&fe.addEventListener("blocked",()=>V()),e1.then(Xe=>{Q&&Xe.addEventListener("close",()=>Q()),j&&Xe.addEventListener("versionchange",()=>j())}).catch(()=>{}),e1}(ui,ot,{upgrade:(w,x)=>{0===x&&w.createObjectStore(or)}})),dt}function l2(w,x){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,X.Z)(function*(w,x){const V=J1(w),j=(yield gn()).transaction(or,"readwrite"),Q=j.objectStore(or),fe=yield Q.get(V);return yield Q.put(x,V),yield j.done,(!fe||fe.fid!==x.fid)&&j1(w,x.fid),x})).apply(this,arguments)}function _2(w){return Er.apply(this,arguments)}function Er(){return(Er=(0,X.Z)(function*(w){const x=J1(w),k=(yield gn()).transaction(or,"readwrite");yield k.objectStore(or).delete(x),yield k.done})).apply(this,arguments)}function An(w,x){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,X.Z)(function*(w,x){const V=J1(w),j=(yield gn()).transaction(or,"readwrite"),Q=j.objectStore(or),fe=yield Q.get(V),e1=x(fe);return void 0===e1?yield Q.delete(V):yield Q.put(e1,V),yield j.done,e1&&(!fe||fe.fid!==e1.fid)&&j1(w,e1.fid),e1})).apply(this,arguments)}function W(w){return B.apply(this,arguments)}function B(){return B=(0,X.Z)(function*(w){let x;const V=yield An(w.appConfig,k=>{const j=function Y(w){return It(w||{fid:xr(),registrationStatus:0})}(k),Q=function Me(w,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(tt.create("app-offline"))};const V={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},k=function oe(w,x){return Oe.apply(this,arguments)}(w,V);return{installationEntry:V,registrationPromise:k}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:P1(w)}:{installationEntry:x}}(w,j);return x=Q.registrationPromise,Q.installationEntry});return V.fid===En?{installationEntry:yield x}:{installationEntry:V,registrationPromise:x}}),B.apply(this,arguments)}function Oe(){return Oe=(0,X.Z)(function*(w,x){try{const V=yield function I2(w,x){return _1.apply(this,arguments)}(w,x);return l2(w.appConfig,V)}catch(V){throw L1(V)&&409===V.customData.serverCode?yield _2(w.appConfig):yield l2(w.appConfig,{fid:x.fid,registrationStatus:0}),V}}),Oe.apply(this,arguments)}function P1(w){return gt.apply(this,arguments)}function gt(){return(gt=(0,X.Z)(function*(w){let x=yield u2(w.appConfig);for(;1===x.registrationStatus;)yield xi(100),x=yield u2(w.appConfig);if(0===x.registrationStatus){const{installationEntry:V,registrationPromise:k}=yield W(w);return k||V}return x})).apply(this,arguments)}function u2(w){return An(w,x=>{if(!x)throw tt.create("installation-not-found");return It(x)})}function It(w){return function Pt(w){return 1===w.registrationStatus&&w.registrationTime+ze<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function vn(){return(vn=(0,X.Z)(function*({appConfig:w,heartbeatServiceProvider:x},V){const k=function ar(w,{fid:x}){return`${nt(w)}/${x}/authTokens:generate`}(w,V),j=function ir(w,{refreshToken:x}){const V=A2(w);return V.append("Authorization",function H4(w){return`${t1} ${w}`}(x)),V}(w,V),Q=x.getImmediate({optional:!0});if(Q){const f1=yield Q.getHeartbeatsHeader();f1&&j.append("x-firebase-client",f1)}const e1={method:"POST",headers:j,body:JSON.stringify({installation:{sdkVersion:Ae,appId:w.appId}})},Xe=yield Tr(()=>fetch(k,e1));if(Xe.ok)return Qt(yield Xe.json());throw yield Yt("Generate Auth Token",Xe)})).apply(this,arguments)}function fi(w){return G3.apply(this,arguments)}function G3(){return G3=(0,X.Z)(function*(w,x=!1){let V;const k=yield An(w.appConfig,Q=>{if(!Y1(Q))throw tt.create("not-registered");const fe=Q.authToken;if(!x&&function M1(w){return 2===w.requestStatus&&!function vt(w){const x=Date.now();return x<w.creationTime||w.creationTime+w.expiresIn<x+y1}(w)}(fe))return Q;if(1===fe.requestStatus)return V=function me(w,x){return ae.apply(this,arguments)}(w,x),Q;{if(!navigator.onLine)throw tt.create("app-offline");const e1=function at(w){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:x})}(Q);return V=function b1(w,x){return k1.apply(this,arguments)}(w,e1),e1}});return V?yield V:k.authToken}),G3.apply(this,arguments)}function ae(){return(ae=(0,X.Z)(function*(w,x){let V=yield ke(w.appConfig);for(;1===V.authToken.requestStatus;)yield xi(100),V=yield ke(w.appConfig);const k=V.authToken;return 0===k.requestStatus?fi(w,x):k})).apply(this,arguments)}function ke(w){return An(w,x=>{if(!Y1(x))throw tt.create("not-registered");return function en(w){return 1===w.requestStatus&&w.requestTime+ze<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function k1(){return k1=(0,X.Z)(function*(w,x){try{const V=yield function rt(w,x){return vn.apply(this,arguments)}(w,x),k=Object.assign(Object.assign({},x),{authToken:V});return yield l2(w.appConfig,k),V}catch(V){if(!L1(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const k=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield l2(w.appConfig,k)}else yield _2(w.appConfig);throw V}}),k1.apply(this,arguments)}function Y1(w){return void 0!==w&&2===w.registrationStatus}function Hs(){return(Hs=(0,X.Z)(function*(w){const x=w,{installationEntry:V,registrationPromise:k}=yield W(x);return k?k.catch(console.error):fi(x).catch(console.error),V.fid})).apply(this,arguments)}function Ei(){return Ei=(0,X.Z)(function*(w,x=!1){const V=w;return yield function N2(w){return o1.apply(this,arguments)}(V),(yield fi(V,x)).token}),Ei.apply(this,arguments)}function o1(){return(o1=(0,X.Z)(function*(w){const{registrationPromise:x}=yield W(w);x&&(yield x)})).apply(this,arguments)}function Hr(w){return tt.create("missing-app-config-values",{valueName:w})}const q1="installations",cr=w=>{const x=w.getProvider("app").getImmediate(),V=function A4(w){if(!w||!w.options)throw Hr("App Configuration");if(!w.name)throw Hr("App Name");const x=["projectId","apiKey","appId"];for(const V of x)if(!w.options[V])throw Hr(V);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(x);return{app:x,appConfig:V,heartbeatServiceProvider:(0,pe._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},I4=w=>{const x=w.getProvider("app").getImmediate(),V=(0,pe._getProvider)(x,q1).getImmediate();return{getId:()=>function D2(w){return Hs.apply(this,arguments)}(V),getToken:j=>function I0(w){return Ei.apply(this,arguments)}(V,j)}};(function Vi(){(0,pe._registerComponent)(new ve.wA(q1,cr,"PUBLIC")),(0,pe._registerComponent)(new ve.wA("installations-internal",I4,"PRIVATE"))})(),(0,pe.registerVersion)(_e,Ce),(0,pe.registerVersion)(_e,Ce,"esm2017");const C2="@firebase/remote-config",tn=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $5{constructor(x,V,k,j){this.client=x,this.storage=V,this.storageCache=k,this.logger=j}isCachedDataFresh(x,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-V,j=k<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${j}.`),j}fetch(x){var V=this;return(0,X.Z)(function*(){const[k,j]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(j&&V.isCachedDataFresh(x.cacheMaxAgeMillis,k))return j;x.eTag=j&&j.eTag;const Q=yield V.client.fetch(x),fe=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&fe.push(V.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(fe),Q})()}}function uc(w=navigator){return w.languages&&w.languages[0]||w.language}class L0{constructor(x,V,k,j,Q,fe){this.firebaseInstallations=x,this.sdkVersion=V,this.namespace=k,this.projectId=j,this.apiKey=Q,this.appId=fe}fetch(x){var V=this;return(0,X.Z)(function*(){const[k,j]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,e1={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Xe={sdk_version:V.sdkVersion,app_instance_id:k,app_instance_id_token:j,app_id:V.appId,language_code:uc()},f1={method:"POST",headers:e1,body:JSON.stringify(Xe)},F1=fetch(fe,f1),R1=new Promise((on,ei)=>{x.signal.addEventListener(()=>{const z3=new Error("The operation was aborted.");z3.name="AbortError",ei(z3)})});let Pn;try{yield Promise.race([F1,R1]),Pn=yield F1}catch(on){let ei="fetch-client-network";throw"AbortError"===on?.name&&(ei="fetch-timeout"),tn.create(ei,{originalErrorMessage:on?.message})}let Ft=Pn.status;const h4=Pn.headers.get("ETag")||void 0;let io,Jr;if(200===Pn.status){let on;try{on=yield Pn.json()}catch(ei){throw tn.create("fetch-client-parse",{originalErrorMessage:ei?.message})}io=on.entries,Jr=on.state}if("INSTANCE_STATE_UNSPECIFIED"===Jr?Ft=500:"NO_CHANGE"===Jr?Ft=304:("NO_TEMPLATE"===Jr||"EMPTY_CONFIG"===Jr)&&(io={}),304!==Ft&&200!==Ft)throw tn.create("fetch-status",{httpStatus:Ft});return{status:Ft,eTag:h4,config:io}})()}}class dc{constructor(x,V){this.client=x,this.storage=V}fetch(x){var V=this;return(0,X.Z)(function*(){const k=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(x,k)})()}attemptFetch(x,{throttleEndTimeMillis:V,backoffCount:k}){var j=this;return(0,X.Z)(function*(){yield function fc(w,x){return new Promise((V,k)=>{const j=Math.max(x-Date.now(),0),Q=setTimeout(V,j);w.addEventListener(()=>{clearTimeout(Q),k(tn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,V);try{const Q=yield j.client.fetch(x);return yield j.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function q5(w){if(!(w instanceof ye.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Q))throw Q;const fe={throttleEndTimeMillis:Date.now()+(0,ye.$s)(k),backoffCount:k+1};return yield j.storage.setThrottleMetadata(fe),j.attemptFetch(x,fe)}})()}}class D0{constructor(x,V,k,j,Q){this.app=x,this._client=V,this._storageCache=k,this._storage=j,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Di(w,x){const V=w.target.error||void 0;return tn.create(x,{originalErrorMessage:V&&V?.message})}const h3="app_namespace_store";class mc{constructor(x,V,k,j=function P0(){return new Promise((w,x)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=k=>{x(Di(k,"storage-open"))},V.onsuccess=k=>{w(k.target.result)},V.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(h3,{keyPath:"compositeKey"})}}catch(V){x(tn.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=x,this.appName=V,this.namespace=k,this.openDbPromise=j}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var V=this;return(0,X.Z)(function*(){const k=yield V.openDbPromise;return new Promise((j,Q)=>{const e1=k.transaction([h3],"readonly").objectStore(h3),Xe=V.createCompositeKey(x);try{const f1=e1.get(Xe);f1.onerror=F1=>{Q(Di(F1,"storage-get"))},f1.onsuccess=F1=>{const R1=F1.target.result;j(R1?R1.value:void 0)}}catch(f1){Q(tn.create("storage-get",{originalErrorMessage:f1?.message}))}})})()}set(x,V){var k=this;return(0,X.Z)(function*(){const j=yield k.openDbPromise;return new Promise((Q,fe)=>{const Xe=j.transaction([h3],"readwrite").objectStore(h3),f1=k.createCompositeKey(x);try{const F1=Xe.put({compositeKey:f1,value:V});F1.onerror=R1=>{fe(Di(R1,"storage-set"))},F1.onsuccess=()=>{Q()}}catch(F1){fe(tn.create("storage-set",{originalErrorMessage:F1?.message}))}})})()}delete(x){var V=this;return(0,X.Z)(function*(){const k=yield V.openDbPromise;return new Promise((j,Q)=>{const e1=k.transaction([h3],"readwrite").objectStore(h3),Xe=V.createCompositeKey(x);try{const f1=e1.delete(Xe);f1.onerror=F1=>{Q(Di(F1,"storage-delete"))},f1.onsuccess=()=>{j()}}catch(f1){Q(tn.create("storage-delete",{originalErrorMessage:f1?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class qr{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,X.Z)(function*(){const V=x.storage.getLastFetchStatus(),k=x.storage.getLastSuccessfulFetchTimestampMillis(),j=x.storage.getActiveConfig(),Q=yield V;Q&&(x.lastFetchStatus=Q);const fe=yield k;fe&&(x.lastSuccessfulFetchTimestampMillis=fe);const e1=yield j;e1&&(x.activeConfig=e1)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function vc(){return Is.apply(this,arguments)}function Is(){return(Is=(0,X.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}!function $3(){(0,pe._registerComponent)(new ve.wA("remote-config",function w(x,{instanceIdentifier:V}){const k=x.getProvider("app").getImmediate(),j=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tn.create("registration-window");if(!(0,ye.hl)())throw tn.create("indexed-db-unavailable");const{projectId:Q,apiKey:fe,appId:e1}=k.options;if(!Q)throw tn.create("registration-project-id");if(!fe)throw tn.create("registration-api-key");if(!e1)throw tn.create("registration-app-id");const Xe=new mc(e1,k.name,V=V||"firebase"),f1=new qr(Xe),F1=new Ge.Yd(C2);F1.logLevel=Ge.in.ERROR;const R1=new L0(j,pe.SDK_VERSION,V,Q,fe,e1),Pn=new dc(R1,Xe),Ft=new $5(Pn,Xe,f1,F1),h4=new D0(k,Ft,f1,Xe,F1);return function yn(w){const x=(0,ye.m9)(w);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(h4),h4},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(C2,"0.4.4"),(0,pe.registerVersion)(C2,"0.4.4","esm2017")}();const k0=(w,x)=>x.some(V=>w instanceof V);let Ni,Wo;const q3=new WeakMap,p3=new WeakMap,Gt=new WeakMap,P4=new WeakMap,Ds=new WeakMap;let g3={get(w,x,V){if(w instanceof IDBTransaction){if("done"===x)return p3.get(w);if("objectStoreNames"===x)return w.objectStoreNames||Gt.get(w);if("store"===x)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return _n(w[x])},set:(w,x,V)=>(w[x]=V,!0),has:(w,x)=>w instanceof IDBTransaction&&("done"===x||"store"===x)||x in w};function Ns(w){return"function"==typeof w?function R0(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yc(){return Wo||(Wo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...x){return w.apply(k2(this),x),_n(q3.get(this))}:function(...x){return _n(w.apply(k2(this),x))}:function(x,...V){const k=w.call(k2(this),x,...V);return Gt.set(k,x.sort?x.sort():[x]),_n(k)}}(w):(w instanceof IDBTransaction&&function m3(w){if(p3.has(w))return;const x=new Promise((V,k)=>{const j=()=>{w.removeEventListener("complete",Q),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},Q=()=>{V(),j()},fe=()=>{k(w.error||new DOMException("AbortError","AbortError")),j()};w.addEventListener("complete",Q),w.addEventListener("error",fe),w.addEventListener("abort",fe)});p3.set(w,x)}(w),k0(w,function Ls(){return Ni||(Ni=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,g3):w)}function _n(w){if(w instanceof IDBRequest)return function b2(w){const x=new Promise((V,k)=>{const j=()=>{w.removeEventListener("success",Q),w.removeEventListener("error",fe)},Q=()=>{V(_n(w.result)),j()},fe=()=>{k(w.error),j()};w.addEventListener("success",Q),w.addEventListener("error",fe)});return x.then(V=>{V instanceof IDBCursor&&q3.set(V,w)}).catch(()=>{}),Ds.set(x,w),x}(w);if(P4.has(w))return P4.get(w);const x=Ns(w);return x!==w&&(P4.set(w,x),Ds.set(x,w)),x}const k2=w=>Ds.get(w);function k4(w,x,{blocked:V,upgrade:k,blocking:j,terminated:Q}={}){const fe=indexedDB.open(w,x),e1=_n(fe);return k&&fe.addEventListener("upgradeneeded",Xe=>{k(_n(fe.result),Xe.oldVersion,Xe.newVersion,_n(fe.transaction))}),V&&fe.addEventListener("blocked",()=>V()),e1.then(Xe=>{Q&&Xe.addEventListener("close",()=>Q()),j&&Xe.addEventListener("versionchange",()=>j())}).catch(()=>{}),e1}function Pi(w,{blocked:x}={}){const V=indexedDB.deleteDatabase(w);return x&&V.addEventListener("blocked",()=>x()),_n(V).then(()=>{})}const _c=["get","getKey","getAll","getAllKeys","count"],hi=["put","add","delete","clear"],R4=new Map;function Z3(w,x){if(!(w instanceof IDBDatabase)||x in w||"string"!=typeof x)return;if(R4.get(x))return R4.get(x);const V=x.replace(/FromIndex$/,""),k=x!==V,j=hi.includes(V);if(!(V in(k?IDBIndex:IDBObjectStore).prototype)||!j&&!_c.includes(V))return;const Q=function(){var fe=(0,X.Z)(function*(e1,...Xe){const f1=this.transaction(e1,j?"readwrite":"readonly");let F1=f1.store;return k&&(F1=F1.index(Xe.shift())),(yield Promise.all([F1[V](...Xe),j&&f1.done]))[0]});return function(Xe){return fe.apply(this,arguments)}}();return R4.set(x,Q),Q}!function W2(w){g3=w(g3)}(w=>({...w,get:(x,V,k)=>Z3(x,V)||w.get(x,V,k),has:(x,V)=>!!Z3(x,V)||w.has(x,V)}));const B1="/firebase-messaging-sw.js",Ps="/firebase-cloud-messaging-push-scope",O0="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jo="https://fcmregistrations.googleapis.com/v1",$o="google.c.a.c_id",qo="google.c.a.c_l",Cc="google.c.a.ts",bc="google.c.a.e";var ge=(()=>{return(w=ge||(ge={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",ge;var w})();function U1(w){const x=new Uint8Array(w);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zo(w){const V=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(V),j=new Uint8Array(k.length);for(let Q=0;Q<k.length;++Q)j[Q]=k.charCodeAt(Q);return j}const O4="fcm_token_details_db",Jt=5,Mc="fcm_token_object_Store";function ur(){return ur=(0,X.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(O4))return null;let x=null;return(yield k4(O4,Jt,{upgrade:(k=(0,X.Z)(function*(j,Q,fe,e1){var Xe;if(Q<2||!j.objectStoreNames.contains(Mc))return;const f1=e1.objectStore(Mc),F1=yield f1.index("fcmSenderId").get(w);if(yield f1.clear(),F1)if(2===Q){const R1=F1;if(!R1.auth||!R1.p256dh||!R1.endpoint)return;x={token:R1.fcmToken,createTime:null!==(Xe=R1.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:R1.auth,p256dh:R1.p256dh,endpoint:R1.endpoint,swScope:R1.swScope,vapidKey:"string"==typeof R1.vapidKey?R1.vapidKey:U1(R1.vapidKey)}}}else if(3===Q){const R1=F1;x={token:R1.fcmToken,createTime:R1.createTime,subscriptionOptions:{auth:U1(R1.auth),p256dh:U1(R1.p256dh),endpoint:R1.endpoint,swScope:R1.swScope,vapidKey:U1(R1.vapidKey)}}}else if(4===Q){const R1=F1;x={token:R1.fcmToken,createTime:R1.createTime,subscriptionOptions:{auth:U1(R1.auth),p256dh:U1(R1.p256dh),endpoint:R1.endpoint,swScope:R1.swScope,vapidKey:U1(R1.vapidKey)}}}}),function(Q,fe,e1,Xe){return k.apply(this,arguments)})})).close(),yield Pi(O4),yield Pi("fcm_vapid_details_db"),yield Pi("undefined"),function ks(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:x}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var k}),ur.apply(this,arguments)}const wc="firebase-messaging-database",Sc=1,ki="firebase-messaging-store";let Y3=null;function j2(){return Y3||(Y3=k4(wc,Sc,{upgrade:(w,x)=>{0===x&&w.createObjectStore(ki)}})),Y3}function Ln(w){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,X.Z)(function*(w){const x=Tc(w),k=yield(yield j2()).transaction(ki).objectStore(ki).get(x);if(k)return k;{const j=yield function K3(w){return ur.apply(this,arguments)}(w.appConfig.senderId);if(j)return yield pi(w,j),j}}),Ri.apply(this,arguments)}function pi(w,x){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,X.Z)(function*(w,x){const V=Tc(w),j=(yield j2()).transaction(ki,"readwrite");return yield j.objectStore(ki).put(x,V),yield j.done,x})).apply(this,arguments)}function v3(){return(v3=(0,X.Z)(function*(w){const x=Tc(w),k=(yield j2()).transaction(ki,"readwrite");yield k.objectStore(ki).delete(x),yield k.done})).apply(this,arguments)}function Tc({appConfig:w}){return w.appId}const e2=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rs(w,x){return F4.apply(this,arguments)}function F4(){return(F4=(0,X.Z)(function*(w,x){const V=yield B4(w),k=Fs(x),j={method:"POST",headers:V,body:JSON.stringify(k)};let Q;try{Q=yield(yield fetch(Ko(w.appConfig),j)).json()}catch(fe){throw e2.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(Q.error)throw e2.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw e2.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function Os(){return(Os=(0,X.Z)(function*(w,x){const V=yield B4(w),k=Fs(x.subscriptionOptions),j={method:"PATCH",headers:V,body:JSON.stringify(k)};let Q;try{Q=yield(yield fetch(`${Ko(w.appConfig)}/${x.token}`,j)).json()}catch(fe){throw e2.create("token-update-failed",{errorInfo:fe?.toString()})}if(Q.error)throw e2.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw e2.create("token-update-no-token");return Q.token})).apply(this,arguments)}function Ec(w,x){return X3.apply(this,arguments)}function X3(){return(X3=(0,X.Z)(function*(w,x){const k={method:"DELETE",headers:yield B4(w)};try{const Q=yield(yield fetch(`${Ko(w.appConfig)}/${x}`,k)).json();if(Q.error)throw e2.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(j){throw e2.create("token-unsubscribe-failed",{errorInfo:j?.toString()})}})).apply(this,arguments)}function Ko({projectId:w}){return`${jo}/projects/${w}/registrations`}function B4(w){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,X.Z)(function*({appConfig:w,installations:x}){const V=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function Fs({p256dh:w,auth:x,endpoint:V,vapidKey:k}){const j={web:{endpoint:V,auth:x,p256dh:w}};return k!==O0&&(j.web.applicationPubKey=k),j}const Hc=6048e5;function Vc(){return Vc=(0,X.Z)(function*(w){const x=yield function Y5(w,x){return Ic.apply(this,arguments)}(w.swRegistration,w.vapidKey),V={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:x.endpoint,auth:U1(x.getKey("auth")),p256dh:U1(x.getKey("p256dh"))},k=yield Ln(w.firebaseDependencies);if(k){if(function X5(w,x){return x.vapidKey===w.vapidKey&&x.endpoint===w.endpoint&&x.auth===w.auth&&x.p256dh===w.p256dh}(k.subscriptionOptions,V))return Date.now()>=k.createTime+Hc?function Rt(w,x){return Ac.apply(this,arguments)}(w,{token:k.token,createTime:Date.now(),subscriptionOptions:V}):k.token;try{yield Ec(w.firebaseDependencies,k.token)}catch(j){console.warn(j)}return Q3(w.firebaseDependencies,V)}return Q3(w.firebaseDependencies,V)}),Vc.apply(this,arguments)}function Kr(){return Kr=(0,X.Z)(function*(w){const x=yield Ln(w.firebaseDependencies);x&&(yield Ec(w.firebaseDependencies,x.token),yield function zc(w){return v3.apply(this,arguments)}(w.firebaseDependencies));const V=yield w.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()}),Kr.apply(this,arguments)}function Ac(){return Ac=(0,X.Z)(function*(w,x){try{const V=yield function xc(w,x){return Os.apply(this,arguments)}(w.firebaseDependencies,x),k=Object.assign(Object.assign({},x),{token:V,createTime:Date.now()});return yield pi(w.firebaseDependencies,k),V}catch(V){throw yield function nn(w){return Kr.apply(this,arguments)}(w),V}}),Ac.apply(this,arguments)}function Q3(w,x){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,X.Z)(function*(w,x){const k={token:yield Rs(w,x),createTime:Date.now(),subscriptionOptions:x};return yield pi(w,k),k.token})).apply(this,arguments)}function Ic(){return(Ic=(0,X.Z)(function*(w,x){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zo(x)})})).apply(this,arguments)}function Bs(w){const x={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Jo(w,x){if(!x.notification)return;w.notification={};const V=x.notification.title;V&&(w.notification.title=V);const k=x.notification.body;k&&(w.notification.body=k);const j=x.notification.image;j&&(w.notification.image=j);const Q=x.notification.icon;Q&&(w.notification.icon=Q)}(x,w),function Lc(w,x){x.data&&(w.data=x.data)}(x,w),function Dc(w,x){var V,k,j,Q,fe;if(!(x.fcmOptions||null!==(V=x.notification)&&void 0!==V&&V.click_action))return;w.fcmOptions={};const e1=null!==(j=null===(k=x.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==j?j:null===(Q=x.notification)||void 0===Q?void 0:Q.click_action;e1&&(w.fcmOptions.link=e1);const Xe=null===(fe=x.fcmOptions)||void 0===fe?void 0:fe.analytics_label;Xe&&(w.fcmOptions.analyticsLabel=Xe)}(x,w),x}function J3(w,x){const V=[];for(let k=0;k<w.length;k++)V.push(w.charAt(k)),k<x.length&&V.push(x.charAt(k));return V.join("")}function mi(w){return e2.create("missing-app-config-values",{valueName:w})}J3("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),J3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Q5{constructor(x,V,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const j=function U4(w){if(!w||!w.options)throw mi("App Configuration Object");if(!w.name)throw mi("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:V}=w;for(const k of x)if(!V[k])throw mi(k);return{appName:w.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:j,installations:V,analyticsProvider:k}}_delete(){return Promise.resolve()}}function F0(w){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,X.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(B1,{scope:Ps}),w.swRegistration.update().catch(()=>{})}catch(x){throw e2.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function gi(){return(gi=(0,X.Z)(function*(w,x){if(!x&&!w.swRegistration&&(yield F0(w)),x||!w.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw e2.create("invalid-sw-registration");w.swRegistration=x}})).apply(this,arguments)}function G4(){return(G4=(0,X.Z)(function*(w,x){x?w.vapidKey=x:w.vapidKey||(w.vapidKey=O0)})).apply(this,arguments)}function e4(){return e4=(0,X.Z)(function*(w,x){if(!navigator)throw e2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw e2.create("permission-blocked");return yield function ea(w,x){return G4.apply(this,arguments)}(w,x?.vapidKey),yield function Nc(w,x){return gi.apply(this,arguments)}(w,x?.serviceWorkerRegistration),function Xo(w){return Vc.apply(this,arguments)}(w)}),e4.apply(this,arguments)}function Oi(){return(Oi=(0,X.Z)(function*(w,x,V){const k=function y3(w){switch(w){case ge.NOTIFICATION_CLICKED:return"notification_open";case ge.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:V[$o],message_name:V[qo],message_time:V[Cc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _3(){return _3=(0,X.Z)(function*(w,x){const V=x.data;if(!V.isFirebaseMessaging)return;w.onMessageHandler&&V.messageType===ge.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Bs(V)):w.onMessageHandler.next(Bs(V)));const k=V.data;(function Us(w){return"object"==typeof w&&!!w&&$o in w})(k)&&"1"===k[bc]&&(yield function Pc(w,x,V){return Oi.apply(this,arguments)}(w,V.messageType,k))}),_3.apply(this,arguments)}const n4="@firebase/messaging",j4=w=>{const x=new Q5(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function t4(w,x){return _3.apply(this,arguments)}(x,V)),x},ta=w=>{const x=w.getProvider("messaging").getImmediate();return{getToken:k=>function Ws(w,x){return e4.apply(this,arguments)}(x,k)}};function B0(){return na.apply(this,arguments)}function na(){return(na=(0,X.Z)(function*(){try{yield(0,ye.eu)()}catch{return!1}return typeof window<"u"&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $4(){(0,pe._registerComponent)(new ve.wA("messaging",j4,"PUBLIC")),(0,pe._registerComponent)(new ve.wA("messaging-internal",ta,"PRIVATE")),(0,pe.registerVersion)(n4,"0.12.4"),(0,pe.registerVersion)(n4,"0.12.4","esm2017")}();const Fi="analytics",$s="firebase_id",Oc="origin",q4=6e4,Fc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qs="https://www.googletagmanager.com/gtag/js",M2=new Ge.Yd("@firebase/analytics"),Wt=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function U0(w){if(!w.startsWith(qs)){const x=Wt.create("invalid-gtag-resource",{gtagURL:w});return M2.warn(x.message),""}return w}function Bi(w){return Promise.all(w.map(x=>x.catch(V=>V)))}function Ui(){return(Ui=(0,X.Z)(function*(w,x,V,k,j,Q){const fe=k[j];try{if(fe)yield x[fe];else{const Xe=(yield Bi(V)).find(f1=>f1.measurementId===j);Xe&&(yield x[Xe.appId])}}catch(e1){M2.error(e1)}w("config",j,Q)})).apply(this,arguments)}function C3(){return(C3=(0,X.Z)(function*(w,x,V,k,j){try{let Q=[];if(j&&j.send_to){let fe=j.send_to;Array.isArray(fe)||(fe=[fe]);const e1=yield Bi(V);for(const Xe of fe){const f1=e1.find(R1=>R1.measurementId===Xe),F1=f1&&x[f1.appId];if(!F1){Q=[];break}Q.push(F1)}}0===Q.length&&(Q=Object.values(x)),yield Promise.all(Q),w("event",k,j||{})}catch(Q){M2.error(Q)}})).apply(this,arguments)}const Ks=30,M3=new class Bc{constructor(x={},V=1e3){this.throttleMetadata=x,this.intervalMillis=V}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,V){this.throttleMetadata[x]=V}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function W0(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function ut(){return(ut=(0,X.Z)(function*(w){var x;const{appId:V,apiKey:k}=w,j={method:"GET",headers:W0(k)},Q=Fc.replace("{app-id}",V),fe=yield fetch(Q,j);if(200!==fe.status&&304!==fe.status){let e1="";try{const Xe=yield fe.json();null!==(x=Xe.error)&&void 0!==x&&x.message&&(e1=Xe.error.message)}catch{}throw Wt.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:e1})}return fe.json()})).apply(this,arguments)}function Gc(){return(Gc=(0,X.Z)(function*(w,x=M3,V){const{appId:k,apiKey:j,measurementId:Q}=w.options;if(!k)throw Wt.create("no-app-id");if(!j){if(Q)return{measurementId:Q,appId:k};throw Wt.create("no-api-key")}const fe=x.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},e1=new _9;return setTimeout((0,X.Z)(function*(){e1.abort()}),void 0!==V?V:q4),la({appId:k,apiKey:j,measurementId:Q},fe,e1,x)})).apply(this,arguments)}function la(w,x,V){return ua.apply(this,arguments)}function ua(){return ua=(0,X.Z)(function*(w,{throttleEndTimeMillis:x,backoffCount:V},k,j=M3){var Q;const{appId:fe,measurementId:e1}=w;try{yield function j0(w,x){return new Promise((V,k)=>{const j=Math.max(x-Date.now(),0),Q=setTimeout(V,j);w.addEventListener(()=>{clearTimeout(Q),k(Wt.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(k,x)}catch(Xe){if(e1)return M2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${e1} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:fe,measurementId:e1};throw Xe}try{const Xe=yield function Uc(w){return ut.apply(this,arguments)}(w);return j.deleteThrottleMetadata(fe),Xe}catch(Xe){const f1=Xe;if(!function y9(w){if(!(w instanceof ye.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}(f1)){if(j.deleteThrottleMetadata(fe),e1)return M2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${e1} provided in the "measurementId" field in the local Firebase config. [${f1?.message}]`),{appId:fe,measurementId:e1};throw Xe}const F1=503===Number(null===(Q=f1?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,ye.$s)(V,j.intervalMillis,Ks):(0,ye.$s)(V,j.intervalMillis),R1={throttleEndTimeMillis:Date.now()+F1,backoffCount:V+1};return j.setThrottleMetadata(fe,R1),M2.debug(`Calling attemptFetch again in ${F1} millis`),la(w,R1,k,j)}}),ua.apply(this,arguments)}class _9{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let w3,Y4;function $0(){return($0=(0,X.Z)(function*(w,x,V,k,j){if(j&&j.global)w("event",V,k);else{const Q=yield x;w("event",V,Object.assign(Object.assign({},k),{send_to:Q}))}})).apply(this,arguments)}function $2(){return($2=(0,X.Z)(function*(){if(!(0,ye.hl)())return M2.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(w){return M2.warn(Wt.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function jt(){return jt=(0,X.Z)(function*(w,x,V,k,j,Q,fe){var e1;const Xe=function ca(w){return Gc.apply(this,arguments)}(w);Xe.then(Ft=>{V[Ft.measurementId]=Ft.appId,w.options.measurementId&&Ft.measurementId!==w.options.measurementId&&M2.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Ft.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ft=>M2.error(Ft)),x.push(Xe);const f1=function fr(){return $2.apply(this,arguments)}().then(Ft=>{if(Ft)return k.getId()}),[F1,R1]=yield Promise.all([Xe,f1]);(function s4(w){const x=window.document.getElementsByTagName("script");for(const V of Object.values(x))if(V.src&&V.src.includes(qs)&&V.src.includes(w))return V;return null})(Q)||function i4(w,x){const V=function Zs(w,x){let V;return window.trustedTypes&&(V=window.trustedTypes.createPolicy(w,x)),V}("firebase-js-sdk-policy",{createScriptURL:U0}),k=document.createElement("script"),j=`${qs}?l=${w}&id=${x}`;k.src=V?V?.createScriptURL(j):j,k.async=!0,document.head.appendChild(k)}(Q,F1.measurementId),Y4&&(j("consent","default",Y4),function X4(w){Y4=w}(void 0)),j("js",new Date);const Pn=null!==(e1=fe?.config)&&void 0!==e1?e1:{};return Pn[Oc]="firebase",Pn.update=!0,null!=R1&&(Pn[$s]=R1),j("config",F1.measurementId,Pn),w3&&(j("set",w3),function Qs(w){w3=w}(void 0)),F1.measurementId}),jt.apply(this,arguments)}class dr{constructor(x){this.app=x}_delete(){return delete $t[this.app.options.appId],Promise.resolve()}}let $t={},rn=[];const a4={};let ne,hr,c4="dataLayer",ha="gtag",f2=!1;function Js(w,x,V){!function Wi(){const w=[];if((0,ye.ru)()&&w.push("This is a browser extension environment."),(0,ye.zI)()||w.push("Cookies are not available."),w.length>0){const x=w.map((k,j)=>`(${j+1}) ${k}`).join(" "),V=Wt.create("invalid-analytics-context",{errorInfo:x});M2.warn(V.message)}}();const k=w.options.appId;if(!k)throw Wt.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Wt.create("no-api-key");M2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$t[k])throw Wt.create("already-exists",{id:k});if(!f2){!function sa(w){let x=[];Array.isArray(window[w])?x=window[w]:window[w]=x}(c4);const{wrappedGtag:Q,gtagCore:fe}=function b3(w,x,V,k,j){let Q=function(...fe){window[k].push(arguments)};return window[j]&&"function"==typeof window[j]&&(Q=window[j]),window[j]=function Z4(w,x,V,k){function Q(){return Q=(0,X.Z)(function*(fe,...e1){try{if("event"===fe){const[Xe,f1]=e1;yield function G0(w,x,V,k,j){return C3.apply(this,arguments)}(w,x,V,Xe,f1)}else if("config"===fe){const[Xe,f1]=e1;yield function oa(w,x,V,k,j,Q){return Ui.apply(this,arguments)}(w,x,V,k,Xe,f1)}else if("consent"===fe){const[Xe]=e1;w("consent","update",Xe)}else if("get"===fe){const[Xe,f1,F1]=e1;w("get",Xe,f1,F1)}else if("set"===fe){const[Xe]=e1;w("set",Xe)}else w(fe,...e1)}catch(Xe){M2.error(Xe)}}),Q.apply(this,arguments)}return function j(fe){return Q.apply(this,arguments)}}(Q,w,x,V),{gtagCore:Q,wrappedGtag:window[j]}}($t,rn,a4,c4,ha);hr=Q,ne=fe,f2=!0}return $t[k]=function Et(w,x,V,k,j,Q,fe){return jt.apply(this,arguments)}(w,rn,a4,x,ne,c4,V),new dr(w)}function q0(){return E1.apply(this,arguments)}function E1(){return(E1=(0,X.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}const d2="@firebase/analytics";!function ma(){(0,pe._registerComponent)(new ve.wA(Fi,(x,{options:V})=>Js(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,pe._registerComponent)(new ve.wA("analytics-internal",function w(x){try{const V=x.getProvider(Fi).getImmediate();return{logEvent:(k,j,Q)=>function vi(w,x,V,k){w=(0,ye.m9)(w),function C9(w,x,V,k,j){return $0.apply(this,arguments)}(hr,$t[w.app.options.appId],x,V,k).catch(j=>M2.error(j))}(V,k,j,Q)}}catch(V){throw Wt.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,pe.registerVersion)(d2,"0.10.0"),(0,pe.registerVersion)(d2,"0.10.0","esm2017")}();var jc=F(727);class K0 extends jc.w0{constructor(x,V){super()}schedule(x,V=0){return this}}const Xr={setInterval(w,x,...V){const{delegate:k}=Xr;return k?.setInterval?k.setInterval(w,x,...V):setInterval(w,x,...V)},clearInterval(w){const{delegate:x}=Xr;return(x?.clearInterval||clearInterval)(w)},delegate:void 0};var ga=F(8737);class va extends K0{constructor(x,V){super(x,V),this.scheduler=x,this.work=V,this.pending=!1}schedule(x,V=0){var k;if(this.closed)return this;this.state=x;const j=this.id,Q=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(Q,j,V)),this.pending=!0,this.delay=V,this.id=null!==(k=this.id)&&void 0!==k?k:this.requestAsyncId(Q,this.id,V),this}requestAsyncId(x,V,k=0){return Xr.setInterval(x.flush.bind(x,this),k)}recycleAsyncId(x,V,k=0){if(null!=k&&this.delay===k&&!1===this.pending)return V;null!=V&&Xr.clearInterval(V)}execute(x,V){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const k=this._execute(x,V);if(k)return k;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,V){let j,k=!1;try{this.work(x)}catch(Q){k=!0,j=Q||new Error("Scheduled action threw falsy error")}if(k)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:x,scheduler:V}=this,{actions:k}=V;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ga.P)(k,this),null!=x&&(this.id=this.recycleAsyncId(V,x,null)),this.delay=null,super.unsubscribe()}}}var Y0=F(6063);class yi{constructor(x,V=yi.now){this.schedulerActionCtor=x,this.now=V}schedule(x,V=0,k){return new this.schedulerActionCtor(this,x).schedule(k,V)}}yi.now=Y0.l.now;class _a extends yi{constructor(x,V=yi.now){super(x,V),this.actions=[],this._active=!1}flush(x){const{actions:V}=this;if(this._active)return void V.push(x);let k;this._active=!0;do{if(k=x.execute(x.state,x.delay))break}while(x=V.shift());if(this._active=!1,k){for(;x=V.shift();)x.unsubscribe();throw k}}}const $c=new class _i extends _a{}(class ya extends va{constructor(x,V){super(x,V),this.scheduler=x,this.work=V}schedule(x,V=0){return V>0?super.schedule(x,V):(this.delay=V,this.state=x,this.scheduler.flush(this),this)}execute(x,V){return V>0||this.closed?super.execute(x,V):this._execute(x,V)}requestAsyncId(x,V,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(x,V,k):(x.flush(this),0)}}),J5=new _a(va);var Mt=F(9751),X0=F(8505),Ca=F(9468),ba=F(5363);const l4=new h.GfV("7.5.0"),u4="__angularfire_symbol__analyticsIsSupportedValue",Ma="__angularfire_symbol__analyticsIsSupported",ji="__angularfire_symbol__remoteConfigIsSupportedValue",Vt="__angularfire_symbol__remoteConfigIsSupported",f4="__angularfire_symbol__messagingIsSupportedValue",d4="__angularfire_symbol__messagingIsSupported";function J0(w,x,V){if(x){if(1===x.length)return x[0];const Q=x.filter(fe=>fe.app===V);if(1===Q.length)return Q[0]}return V.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ma]||(globalThis[Ma]=q0().then(w=>globalThis[u4]=w).catch(()=>globalThis[u4]=!1)),globalThis[d4]||(globalThis[d4]=B0().then(w=>globalThis[f4]=w).catch(()=>globalThis[f4]=!1)),globalThis[Vt]||(globalThis[Vt]=vc().then(w=>globalThis[ji]=w).catch(()=>globalThis[ji]=!1));const Lt=(w,x)=>{const V=x?[x]:(0,U.C6)(),k=[];return V.forEach(j=>{j.container.getProvider(w).instances.forEach(fe=>{k.includes(fe)||k.push(fe)})}),k};function S2(){}class wa{constructor(x,V=$c){this.zone=x,this.delegate=V}now(){return this.delegate.now()}schedule(x,V,k){const j=this.zone;return this.delegate.schedule(function(fe){j.runGuarded(()=>{x.apply(this,[fe])})},V,k)}}class to{constructor(x){this.zone=x,this.task=null}call(x,V){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S2,{},S2,S2)),V.pipe((0,X0.b)({next:k,complete:k,error:k})).subscribe(x).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let no=(()=>{class w{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new wa(Zone.current)),this.insideAngular=V.run(()=>new wa(Zone.current,J5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(V){return new(V||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ir(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Ci(w){return Ir().ngZone.run(()=>w())}function ns(w){return Ir(),function qc(w){return function(V){return(V=V.lift(new to(w.ngZone))).pipe((0,Ca.R)(w.outsideAngular),(0,ba.Q)(w.insideAngular))}}(Ir())(w)}const Ot=(w,x)=>function(){const k=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Ci(()=>w.apply(void 0,k))},S3=(w,x)=>function(){let V;const k=arguments;for(let Q=0;Q<arguments.length;Q++)"function"==typeof k[Q]&&(x&&(V||(V=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S2,{},S2,S2)))),k[Q]=Ot(k[Q],V));const j=function ro(w){return Ir().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,k));if(!x){if(j instanceof Mt.y){const Q=Ir();return j.pipe((0,Ca.R)(Q.outsideAngular),(0,ba.Q)(Q.insideAngular))}return Ci(()=>j)}return j instanceof Mt.y?j.pipe(ns):j instanceof Promise?Ci(()=>new Promise((Q,fe)=>j.then(e1=>Ci(()=>Q(e1)),e1=>Ci(()=>fe(e1))))):"function"==typeof j&&V?function(){return setTimeout(()=>{V&&"scheduled"===V.state&&V.invoke()},10),j.apply(this,arguments)}:Ci(()=>j)}},1389:(T1,Ie,F)=>{F.d(Ie,{$:()=>B1,A:()=>q,D:()=>Ee,I:()=>Xt,J:()=>cr,L:()=>$r,N:()=>An,P:()=>Et,Q:()=>mc,R:()=>Xs,U:()=>gc,V:()=>vc,W:()=>Is,X:()=>di,Y:()=>Ls,Z:()=>yc,_:()=>Ds,a:()=>Dn,a0:()=>O0,a1:()=>$o,a2:()=>Z5,a3:()=>Mc,a4:()=>ur,a5:()=>wc,a6:()=>ki,a7:()=>j2,a8:()=>Ri,a9:()=>Zr,aA:()=>ue,aB:()=>el,aC:()=>_2,aD:()=>Wn,aE:()=>_a,aF:()=>H1,aG:()=>Zn,aH:()=>yt,aL:()=>Yr,aO:()=>Ni,aa:()=>zc,ab:()=>Tc,ac:()=>K5,ad:()=>xc,ae:()=>Ec,af:()=>Ko,ai:()=>Hc,aj:()=>Vc,ak:()=>nn,an:()=>R0,ao:()=>Jo,aq:()=>G4,ar:()=>n4,as:()=>O1,at:()=>It,au:()=>P1,av:()=>xe,aw:()=>j,ax:()=>ba,ay:()=>Pt,az:()=>Te,b:()=>js,c:()=>hr,d:()=>Js,e:()=>Ht,f:()=>d2,g:()=>ga,h:()=>jc,i:()=>aa,j:()=>Y0,k:()=>f1,l:()=>K4,m:()=>Pn,o:()=>M9,p:()=>Pe,r:()=>Wc,s:()=>Gi,u:()=>fr});var h=F(5861),U=F(2090),X=F(6881),pe=F(655),ye=F(1877),ve=F(4859);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},n1=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d1=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new ye.Yd("@firebase/auth");function $e(M,...g){Ve.logLevel<=ye.in.ERROR&&Ve.error(`Auth (${X.SDK_VERSION}): ${M}`,...g)}function xe(M,...g){throw Fe(M,...g)}function Te(M,...g){return Fe(M,...g)}function Le(M,g,_){const S=Object.assign(Object.assign({},n1()),{[g]:_});return new U.LL("auth","Firebase",S).create(g,{appName:M.name})}function qe(M,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&xe(M,"argument-error"),Le(M,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(M,...g){if("string"!=typeof M){const _=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=M.name),M._errorFactory.create(_,...S)}return d1.create(M,...g)}function ue(M,g,..._){if(!M)throw Fe(g,..._)}function u1(M){const g="INTERNAL ASSERTION FAILED: "+M;throw $e(g),new Error(g)}function O1(M,g){M||u1(g)}function h1(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function st(){return"http:"===p1()||"https:"===p1()}function p1(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class ze{constructor(g,_){this.shortDelay=g,this.longDelay=_,O1(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function _e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ae(M,g){O1(M.emulator,"Emulator should always be set here");const{url:_}=M.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class t1{static initialize(g,_,S){this.fetchImpl=g,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void u1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void u1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void u1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},y1=new ze(3e4,6e4);function Je(M,g){return M.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:M.tenantId}):g}function W1(M,g,_,S){return x1.apply(this,arguments)}function x1(){return(x1=(0,h.Z)(function*(M,g,_,S,L={}){return tt(M,L,(0,h.Z)(function*(){let P={},J={};S&&("GET"===g?J=S:P={body:JSON.stringify(S)});const de=(0,U.xO)(Object.assign({key:M.config.apiKey},J)).slice(1),Ze=yield M._getAdditionalHeaders();return Ze["Content-Type"]="application/json",M.languageCode&&(Ze["X-Firebase-Locale"]=M.languageCode),t1.fetch()(Yt(M,M.config.apiHost,_,de),Object.assign({method:g,headers:Ze,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function tt(M,g,_){return L1.apply(this,arguments)}function L1(){return(L1=(0,h.Z)(function*(M,g,_){M._canInitEmulator=!1;const S=Object.assign(Object.assign({},Qe),g);try{const L=new xn(M),P=yield Promise.race([_(),L.promise]);L.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw A2(M,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const de=P.ok?J.errorMessage:J.error.message,[Ze,i1]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw A2(M,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ze)throw A2(M,"email-already-in-use",J);if("USER_DISABLED"===Ze)throw A2(M,"user-disabled",J);const w1=S[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(i1)throw Le(M,w1,i1);xe(M,w1)}}catch(L){if(L instanceof U.ZR)throw L;xe(M,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function nt(M,g,_,S){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(M,g,_,S,L={}){const P=yield W1(M,g,_,S,L);return"mfaPendingCredential"in P&&xe(M,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Yt(M,g,_,S){const L=`${g}${_}?${S}`;return M.config.emulator?Ae(M.config,L):`${M.config.apiScheme}://${L}`}class xn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(Te(this.auth,"network-request-failed")),y1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function A2(M,g,_){const S={appName:M.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const L=Te(M,g,S);return L.customData._tokenResponse=_,L}function Tr(){return(Tr=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function I2(){return(I2=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function _1(M){if(M)try{const g=new Date(Number(M));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function L2(){return(L2=(0,h.Z)(function*(M,g=!1){const _=(0,U.m9)(M),S=yield _.getIdToken(g),L=xr(S);ue(L&&L.exp&&L.auth_time&&L.iat,_.auth,"internal-error");const P="object"==typeof L.firebase?L.firebase:void 0,J=P?.sign_in_provider;return{claims:L,token:S,authTime:_1(En(L.auth_time)),issuedAtTime:_1(En(L.iat)),expirationTime:_1(En(L.exp)),signInProvider:J||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function En(M){return 1e3*Number(M)}function xr(M){const[g,_,S]=M.split(".");if(void 0===g||void 0===_||void 0===S)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,U.tV)(_);return L?JSON.parse(L):($e("Failed to decode base64 JWT payload"),null)}catch(L){return $e("Caught error parsing JWT payload as JSON",L?.toString()),null}}function J1(M,g){return C1.apply(this,arguments)}function C1(){return(C1=(0,h.Z)(function*(M,g,_=!1){if(_)return g;try{return yield g}catch(S){throw S instanceof U.ZR&&function j1({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}(S)&&M.auth.currentUser===M&&(yield M.auth.signOut()),S}})).apply(this,arguments)}class sr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const L=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield _.iteration()}),S)}iteration(){var g=this;return(0,h.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Hn{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=_1(this.lastLoginAt),this.creationTime=_1(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function a2(M){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,h.Z)(function*(M){var g;const _=M.auth,S=yield M.getIdToken(),L=yield J1(M,function H4(M,g){return I2.apply(this,arguments)}(_,{idToken:S}));ue(L?.users.length,_,"internal-error");const P=L.users[0];M._notifyReloadListener(P);const J=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?function ui(M){return M.map(g=>{var{providerId:_}=g,S=(0,pe._T)(g,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(P.providerUserInfo):[],de=function Nt(M,g){return[...M.filter(S=>!g.some(L=>L.providerId===S.providerId)),...g]}(M.providerData,J),w1=!!M.isAnonymous&&!(M.email&&P.passwordHash||de?.length),A1={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:de,metadata:new Hn(P.createdAt,P.lastLoginAt),isAnonymous:w1};Object.assign(M,A1)}),Gn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(M){const g=(0,U.m9)(M);yield a2(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(M,g){const _=yield tt(M,{},(0,h.Z)(function*(){const S=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:P}=M.config,J=Yt(M,L,"/v1/token",`key=${P}`),de=yield M._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",t1.fetch()(J,{method:"POST",headers:de,body:S})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ue(g.idToken,"internal-error"),ue(typeof g.idToken<"u","internal-error"),ue(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ct(M){const g=xr(M);return ue(g,"internal-error"),ue(typeof g.exp<"u","internal-error"),ue(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var S=this;return(0,h.Z)(function*(){return ue(!S.accessToken||S.refreshToken,g,"user-token-expired"),_||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var S=this;return(0,h.Z)(function*(){const{accessToken:L,refreshToken:P,expiresIn:J}=yield function ot(M,g){return or.apply(this,arguments)}(g,_);S.updateTokensAndExpiration(L,P,Number(J))})()}updateTokensAndExpiration(g,_,S){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,_){const{refreshToken:S,accessToken:L,expirationTime:P}=_,J=new dt;return S&&(ue("string"==typeof S,"internal-error",{appName:g}),J.refreshToken=S),L&&(ue("string"==typeof L,"internal-error",{appName:g}),J.accessToken=L),P&&(ue("number"==typeof P,"internal-error",{appName:g}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return u1("not implemented")}}function gn(M,g){ue("string"==typeof M||typeof M>"u","internal-error",{appName:g})}class l2{constructor(g){var{uid:_,auth:S,stsTokenManager:L}=g,P=(0,pe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Hn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,h.Z)(function*(){const S=yield J1(_,_.stsTokenManager.getToken(_.auth,g));return ue(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(g){return function Es(M){return L2.apply(this,arguments)}(this,g)}reload(){return function c2(M){return mn.apply(this,arguments)}(this)}_assign(g){this!==g&&(ue(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new l2(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var S=this;return(0,h.Z)(function*(){let L=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),L=!0),_&&(yield a2(S)),yield S.auth._persistUserIfCurrent(S),L&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,h.Z)(function*(){const _=yield g.getIdToken();return yield J1(g,function ir(M,g){return Tr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var S,L,P,J,de,Ze,i1,w1;const A1=null!==(S=_.displayName)&&void 0!==S?S:void 0,Yn=null!==(L=_.email)&&void 0!==L?L:void 0,T3=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,Zc=null!==(J=_.photoURL)&&void 0!==J?J:void 0,h2=null!==(de=_.tenantId)&&void 0!==de?de:void 0,oo=null!==(Ze=_._redirectEventId)&&void 0!==Ze?Ze:void 0,rl=null!==(i1=_.createdAt)&&void 0!==i1?i1:void 0,n8=null!==(w1=_.lastLoginAt)&&void 0!==w1?w1:void 0,{uid:Kc,emailVerified:r8,isAnonymous:Sa,providerData:Yc,stsTokenManager:za}=_;ue(Kc&&za,g,"internal-error");const Xc=dt.fromJSON(this.name,za);ue("string"==typeof Kc,g,"internal-error"),gn(A1,g.name),gn(Yn,g.name),ue("boolean"==typeof r8,g,"internal-error"),ue("boolean"==typeof Sa,g,"internal-error"),gn(T3,g.name),gn(Zc,g.name),gn(h2,g.name),gn(oo,g.name),gn(rl,g.name),gn(n8,g.name);const Qc=new l2({uid:Kc,auth:g,email:Yn,emailVerified:r8,displayName:A1,isAnonymous:Sa,photoURL:Zc,phoneNumber:T3,tenantId:h2,stsTokenManager:Xc,createdAt:rl,lastLoginAt:n8});return Yc&&Array.isArray(Yc)&&(Qc.providerData=Yc.map(i8=>Object.assign({},i8))),oo&&(Qc._redirectEventId=oo),Qc}static _fromIdTokenResponse(g,_,S=!1){return(0,h.Z)(function*(){const L=new dt;L.updateFromServerResponse(_);const P=new l2({uid:_.localId,auth:g,stsTokenManager:L,isAnonymous:S});return yield a2(P),P})()}}const Vn=new Map;function _2(M){O1(M instanceof Function,"Expected a class definition");let g=Vn.get(M);return g?(O1(g instanceof M,"Instance stored in cache mismatched with class"),g):(g=new M,Vn.set(M,g),g)}const An=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(_,S){var L=this;return(0,h.Z)(function*(){L.storage[_]=S})()}_get(_){var S=this;return(0,h.Z)(function*(){const L=S.storage[_];return void 0===L?null:L})()}_remove(_){var S=this;return(0,h.Z)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return M.type="NONE",M})();function Wn(M,g,_){return`firebase:${M}:${g}:${_}`}class W{constructor(g,_,S){this.persistence=g,this.auth=_,this.userKey=S;const{config:L,name:P}=this.auth;this.fullUserKey=Wn(this.userKey,L.apiKey,P),this.fullPersistenceKey=Wn("persistence",L.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?l2._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,h.Z)(function*(){if(_.persistence===g)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,S="authUser"){return(0,h.Z)(function*(){if(!_.length)return new W(_2(An),g,S);const L=(yield Promise.all(_.map(function(){var i1=(0,h.Z)(function*(w1){if(yield w1._isAvailable())return w1});return function(w1){return i1.apply(this,arguments)}}()))).filter(i1=>i1);let P=L[0]||_2(An);const J=Wn(S,g.config.apiKey,g.name);let de=null;for(const i1 of _)try{const w1=yield i1._get(J);if(w1){const A1=l2._fromJSON(g,w1);i1!==P&&(de=A1),P=i1;break}}catch{}const Ze=L.filter(i1=>i1._shouldAllowMigration);return P._shouldAllowMigration&&Ze.length?(P=Ze[0],de&&(yield P._set(J,de.toJSON())),yield Promise.all(_.map(function(){var i1=(0,h.Z)(function*(w1){if(w1!==P)try{yield w1._remove(J)}catch{}});return function(w1){return i1.apply(this,arguments)}}())),new W(P,g,S)):new W(P,g,S)})()}}function B(M){const g=M.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Oe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Y(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(gt(g))return"Blackberry";if(u2(g))return"Webos";if(Me(g))return"Safari";if((g.includes("chrome/")||oe(g))&&!g.includes("edge/"))return"Chrome";if(P1(g))return"Android";{const S=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Y(M=(0,U.z$)()){return/firefox\//i.test(M)}function Me(M=(0,U.z$)()){const g=M.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function oe(M=(0,U.z$)()){return/crios\//i.test(M)}function Oe(M=(0,U.z$)()){return/iemobile/i.test(M)}function P1(M=(0,U.z$)()){return/android/i.test(M)}function gt(M=(0,U.z$)()){return/blackberry/i.test(M)}function u2(M=(0,U.z$)()){return/webos/i.test(M)}function It(M=(0,U.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function Pt(M=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function ar(M=(0,U.z$)()){return It(M)||P1(M)||u2(M)||gt(M)||/windows phone/i.test(M)||Oe(M)}function G3(M,g=[]){let _;switch(M){case"Browser":_=B((0,U.z$)());break;case"Worker":_=`${B((0,U.z$)())}-${M}`;break;default:_=M}const S=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${X.SDK_VERSION}/${S}`}function ae(){return(ae=(0,h.Z)(function*(M){return(yield W1(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ke(M,g){return b1.apply(this,arguments)}function b1(){return(b1=(0,h.Z)(function*(M,g){return W1(M,"GET","/v2/recaptchaConfig",Je(M,g))})).apply(this,arguments)}function k1(M){return void 0!==M&&void 0!==M.getResponse}function Y1(M){return void 0!==M&&void 0!==M.enterprise}class M1{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function at(M){return new Promise((g,_)=>{const S=document.createElement("script");S.setAttribute("src",M),S.onload=g,S.onerror=L=>{const P=Te("internal-error");P.customData=L,_(P)},S.type="text/javascript",S.charset="UTF-8",function vt(){var M,g;return null!==(g=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==g?g:document}().appendChild(S)})}function en(M){return`__${M}${Math.floor(1e6*Math.random())}`}const I0="NO_RECAPTCHA";class Ei{constructor(g){this.type="recaptcha-enterprise",this.auth=yt(g)}verify(g="verify",_=!1){var S=this;return(0,h.Z)(function*(){function P(){return P=(0,h.Z)(function*(de){if(!_){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var Ze=(0,h.Z)(function*(i1,w1){ke(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A1=>{if(void 0!==A1.recaptchaKey){const Yn=new M1(A1);return null==de.tenantId?de._agentRecaptchaConfig=Yn:de._tenantRecaptchaConfigs[de.tenantId]=Yn,i1(Yn.siteKey)}w1(new Error("recaptcha Enterprise site key undefined"))}).catch(A1=>{w1(A1)})});return function(i1,w1){return Ze.apply(this,arguments)}}())}),P.apply(this,arguments)}function J(de,Ze,i1){const w1=window.grecaptcha;Y1(w1)?w1.enterprise.ready(()=>{w1.enterprise.execute(de,{action:g}).then(A1=>{Ze(A1)}).catch(()=>{Ze(I0)})}):i1(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,Ze)=>{(function L(de){return P.apply(this,arguments)})(S.auth).then(i1=>{if(!_&&Y1(window.grecaptcha))J(i1,de,Ze);else{if(typeof window>"u")return void Ze(new Error("RecaptchaVerifier is only supported in browser"));at("https://www.google.com/recaptcha/enterprise.js?render="+i1).then(()=>{J(i1,de,Ze)}).catch(w1=>{Ze(w1)})}}).catch(i1=>{Ze(i1)})})})()}}function N2(M,g,_){return o1.apply(this,arguments)}function o1(){return(o1=(0,h.Z)(function*(M,g,_,S=!1){const L=new Ei(M);let P;try{P=yield L.verify(_)}catch{P=yield L.verify(_,!0)}const J=Object.assign({},g);return Object.assign(J,S?{captchaResp:P}:{captchaResponse:P}),Object.assign(J,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(J,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),J})).apply(this,arguments)}class $1{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const S=P=>new Promise((J,de)=>{try{J(g(P))}catch(Ze){de(Ze)}});S.onAbort=_,this.queue.push(S);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,h.Z)(function*(){if(_.auth.currentUser===g)return;const S=[];try{for(const L of _.queue)yield L(g),L.onAbort&&S.push(L.onAbort)}catch(L){S.reverse();for(const P of S)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class kt{constructor(g,_,S,L){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=S,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hi(this),this.idTokenSubscription=new Hi(this),this.beforeStateQueue=new $1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(g,_){var S=this;return _&&(this._popupRedirectResolver=_2(_)),this._initializationPromise=this.queue((0,h.Z)(function*(){var L,P;if(!S._deleted&&(S.persistenceManager=yield W.create(S,g),!S._deleted)){if(null!==(L=S._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(_),S.lastNotifiedUid=(null===(P=S.currentUser)||void 0===P?void 0:P.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,h.Z)(function*(){var S;const L=yield _.assertedPersistence.getCurrentUser();let P=L,J=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const de=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,Ze=P?._redirectEventId,i1=yield _.tryRedirectSignIn(g);(!de||de===Ze)&&i1?.user&&(P=i1.user,J=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(P)}catch(de){P=L,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(de))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return ue(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,h.Z)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,h.Z)(function*(){try{yield a2(g)}catch(S){if("auth/network-request-failed"!==S?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ce(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,h.Z)(function*(){const S=g?(0,U.m9)(g):null;return S&&ue(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(g,_=!1){var S=this;return(0,h.Z)(function*(){if(!S._deleted)return g&&ue(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),_||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,h.Z)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,h.Z)(function*(){yield _.assertedPersistence.setPersistence(_2(g))}))}initializeRecaptchaConfig(){var g=this;return(0,h.Z)(function*(){const _=yield ke(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),S=new M1(_);null==g.tenantId?g._agentRecaptchaConfig=S:g._tenantRecaptchaConfigs[g.tenantId]=S,S.emailPasswordEnabled&&new Ei(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,_,S){return this.registerStateListener(this.authStateSubscription,g,_,S)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,S){return this.registerStateListener(this.idTokenSubscription,g,_,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var S=this;return(0,h.Z)(function*(){const L=yield S.getOrInitRedirectPersistenceManager(_);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,h.Z)(function*(){if(!_.redirectPersistenceManager){const S=g&&_2(g)||_._popupRedirectResolver;ue(S,_,"argument-error"),_.redirectPersistenceManager=yield W.create(_,[_2(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,h.Z)(function*(){var S,L;return _._isInitialized&&(yield _.queue((0,h.Z)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===g?_._currentUser:(null===(L=_.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,h.Z)(function*(){if(g===_.currentUser)return _.queue((0,h.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,S,L){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,S,L):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,h.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=G3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var _;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const L=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();L&&(S["X-Firebase-Client"]=L);const P=yield g._getAppCheckToken();return P&&(S["X-Firebase-AppCheck"]=P),S})()}_getAppCheckToken(){var g=this;return(0,h.Z)(function*(){var _;const S=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return S?.error&&function Re(M,...g){Ve.logLevel<=ye.in.WARN&&Ve.warn(`Auth (${X.SDK_VERSION}): ${M}`,...g)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function yt(M){return(0,U.m9)(M)}class Hi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(_=>this.observer=_)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xt(M,g,_){const S=yt(M);ue(S._canInitEmulator,S,"emulator-config-failed"),ue(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const L=!!_?.disableWarnings,P=A4(g),{host:J,port:de}=function Hr(M){const g=A4(M),_=/(\/\/)?([^?#/]+)/.exec(M.substr(g.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(S);if(L){const P=L[1];return{host:P,port:q1(S.substr(P.length+1))}}{const[P,J]=S.split(":");return{host:P,port:q1(J)}}}(g);S.config.emulator={url:`${P}//${J}${null===de?"":`:${de}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:J,port:de,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Vs(){function M(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function A4(M){const g=M.indexOf(":");return g<0?"":M.substr(0,g+1)}function q1(M){if(!M)return null;const g=Number(M);return isNaN(g)?null:g}class cr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return u1("not implemented")}_getIdTokenResponse(g){return u1("not implemented")}_linkToIdToken(g,_){return u1("not implemented")}_getReauthenticationResolver(g){return u1("not implemented")}}function I4(M,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:resetPassword",Je(M,g))})).apply(this,arguments)}function C2(M,g){return l3.apply(this,arguments)}function l3(){return(l3=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:update",Je(M,g))})).apply(this,arguments)}function Ai(M,g){return tn.apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signInWithPassword",Je(M,g))})).apply(this,arguments)}function xt(M,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:sendOobCode",Je(M,g))})).apply(this,arguments)}function L4(){return(L4=(0,h.Z)(function*(M,g){return xt(M,g)})).apply(this,arguments)}function W3(M,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(M,g){return xt(M,g)})).apply(this,arguments)}function f3(M,g){return G2.apply(this,arguments)}function G2(){return(G2=(0,h.Z)(function*(M,g){return xt(M,g)})).apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(M,g){return xt(M,g)})).apply(this,arguments)}function d3(){return(d3=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signInWithEmailLink",Je(M,g))})).apply(this,arguments)}function D4(){return(D4=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signInWithEmailLink",Je(M,g))})).apply(this,arguments)}class In extends cr{constructor(g,_,S,L=null){super("password",S),this._email=g,this._password=_,this._tenantId=L}static _fromEmailAndPassword(g,_){return new In(g,_,"password")}static _fromEmailAndCode(g,_,S=null){return new In(g,_,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,h.Z)(function*(){var S;switch(_.signInMethod){case"password":const L={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=g._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const P=yield N2(g,L,"signInWithPassword");return Ai(g,P)}return Ai(g,L).catch(function(){var P=(0,h.Z)(function*(J){if("auth/missing-recaptcha-token"===J.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield N2(g,L,"signInWithPassword");return Ai(g,de)}return Promise.reject(J)});return function(J){return P.apply(this,arguments)}}());case"emailLink":return function Vr(M,g){return d3.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:xe(g,"internal-error")}})()}_linkToIdToken(g,_){var S=this;return(0,h.Z)(function*(){switch(S.signInMethod){case"password":return C2(g,{idToken:_,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function As(M,g){return D4.apply(this,arguments)}(g,{idToken:_,email:S._email,oobCode:S._password});default:xe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Li(M,g){return N4.apply(this,arguments)}function N4(){return(N4=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signInWithIdp",Je(M,g))})).apply(this,arguments)}class $r extends cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new $r(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):xe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:L}=_,P=(0,pe._T)(_,["providerId","signInMethod"]);if(!S||!L)return null;const J=new $r(S,L);return J.idToken=P.idToken||void 0,J.accessToken=P.accessToken||void 0,J.secret=P.secret,J.nonce=P.nonce,J.pendingToken=P.pendingToken||null,J}_getIdTokenResponse(g){return Li(g,this.buildRequest())}_linkToIdToken(g,_){const S=this.buildRequest();return S.idToken=_,Li(g,S)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Li(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,U.xO)(_)}return g}}function uc(){return(uc=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:sendVerificationCode",Je(M,g))})).apply(this,arguments)}function fc(){return(fc=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signInWithPhoneNumber",Je(M,g))})).apply(this,arguments)}function dc(){return(dc=(0,h.Z)(function*(M,g){const _=yield nt(M,"POST","/v1/accounts:signInWithPhoneNumber",Je(M,g));if(_.temporaryProof)throw A2(M,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const hc={USER_NOT_FOUND:"user-not-found"};function D0(){return(D0=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signInWithPhoneNumber",Je(M,Object.assign(Object.assign({},g),{operation:"REAUTH"})),hc)})).apply(this,arguments)}class Di extends cr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Di({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Di({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function L0(M,g){return fc.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function q5(M,g){return dc.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function pc(M,g){return D0.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:S,verificationCode:L}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:S,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:S,phoneNumber:L,temporaryProof:P}=g;return S||_||L||P?new Di({verificationId:_,verificationCode:S,phoneNumber:L,temporaryProof:P}):null}}class j3{constructor(g){var _,S,L,P,J,de;const Ze=(0,U.zd)((0,U.pd)(g)),i1=null!==(_=Ze.apiKey)&&void 0!==_?_:null,w1=null!==(S=Ze.oobCode)&&void 0!==S?S:null,A1=function h3(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Ze.mode)&&void 0!==L?L:null);ue(i1&&w1&&A1,"argument-error"),this.apiKey=i1,this.operation=A1,this.code=w1,this.continueUrl=null!==(P=Ze.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=Ze.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(de=Ze.tenantId)&&void 0!==de?de:null}static parseLink(g){const _=function N0(M){const g=(0,U.zd)((0,U.pd)(M)).link,_=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,S=(0,U.zd)((0,U.pd)(M)).deep_link_id;return(S?(0,U.zd)((0,U.pd)(S)).link:null)||S||_||g||M}(g);try{return new j3(_)}catch{return null}}}let mc=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(_,S){return In._fromEmailAndPassword(_,S)}static credentialWithLink(_,S){const L=j3.parseLink(S);return ue(L,"argument-error"),In._fromEmailAndCode(_,L.code,L.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class qr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class $3 extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class di extends $3{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ue("providerId"in _&&"signInMethod"in _,"argument-error"),$r._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ue(g.idToken||g.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return di.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return di.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:S,oauthTokenSecret:L,pendingToken:P,nonce:J,providerId:de}=g;if(!S&&!L&&!_&&!P||!de)return null;try{return new di(de)._credential({idToken:_,accessToken:S,nonce:J,pendingToken:P})}catch{return null}}}let gc=(()=>{class M extends $3{constructor(){super("facebook.com")}static credential(_){return $r._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return M.credential(_.oauthAccessToken)}catch{return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),vc=(()=>{class M extends $3{constructor(){super("google.com"),this.addScope("profile")}static credential(_,S){return $r._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:S})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:S,oauthAccessToken:L}=_;if(!S&&!L)return null;try{return M.credential(S,L)}catch{return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),Is=(()=>{class M extends $3{constructor(){super("github.com")}static credential(_){return $r._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return M.credential(_.oauthAccessToken)}catch{return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class Ni extends cr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Li(g,this.buildRequest())}_linkToIdToken(g,_){const S=this.buildRequest();return S.idToken=_,Li(g,S)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Li(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:L,pendingToken:P}=_;return S&&L&&P&&S===L?new Ni(S,P):null}static _create(g,_){return new Ni(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ls extends qr{constructor(g){ue(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ls.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ls.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ni.fromJSON(g);return ue(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:S}=g;if(!_||!S)return null;try{return Ni._create(S,_)}catch{return null}}}let yc=(()=>{class M extends $3{constructor(){super("twitter.com")}static credential(_,S){return $r._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:S})}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:S,oauthTokenSecret:L}=_;if(!S||!L)return null;try{return M.credential(S,L)}catch{return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function q3(M,g){return p3.apply(this,arguments)}function p3(){return(p3=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signUp",Je(M,g))})).apply(this,arguments)}class Gt{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,S,L=!1){return(0,h.Z)(function*(){const P=yield l2._fromIdTokenResponse(g,S,L),J=P4(S);return new Gt({user:P,providerId:J,_tokenResponse:S,operationType:_})})()}static _forOperation(g,_,S){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const L=P4(S);return new Gt({user:g,providerId:L,_tokenResponse:S,operationType:_})})()}}function P4(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function Ds(M){return b2.apply(this,arguments)}function b2(){return(b2=(0,h.Z)(function*(M){var g;const _=yt(M);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Gt({user:_.currentUser,providerId:null,operationType:"signIn"});const S=yield q3(_,{returnSecureToken:!0}),L=yield Gt._fromIdTokenResponse(_,"signIn",S,!0);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}class m3 extends U.ZR{constructor(g,_,S,L){var P;super(_.code,_.message),this.operationType=S,this.user=L,Object.setPrototypeOf(this,m3.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,_,S,L){return new m3(g,_,S,L)}}function g3(M,g,_,S){return("reauthenticate"===g?_._getReauthenticationResolver(M):_._getIdTokenResponse(M)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?m3._fromErrorAndOperation(M,P,g,S):P})}function W2(M){return new Set(M.map(({providerId:g})=>g).filter(g=>!!g))}function R0(M,g){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,h.Z)(function*(M,g){const _=(0,U.m9)(M);yield k4(!0,_,g);const{providerUserInfo:S}=yield function jr(M,g){return li.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),L=W2(S||[]);return _.providerData=_.providerData.filter(P=>L.has(P.providerId)),L.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Ns.apply(this,arguments)}function _n(M,g){return k2.apply(this,arguments)}function k2(){return(k2=(0,h.Z)(function*(M,g,_=!1){const S=yield J1(M,g._linkToIdToken(M.auth,yield M.getIdToken()),_);return Gt._forOperation(M,"link",S)})).apply(this,arguments)}function k4(M,g,_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(M,g,_){yield a2(g);const L=!1===M?"provider-already-linked":"no-such-provider";ue(W2(g.providerData).has(_)===M,g.auth,L)})).apply(this,arguments)}function _c(M,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(M,g,_=!1){const{auth:S}=M,L="reauthenticate";try{const P=yield J1(M,g3(S,L,g,M),_);ue(P.idToken,S,"internal-error");const J=xr(P.idToken);ue(J,S,"internal-error");const{sub:de}=J;return ue(M.uid===de,S,"user-mismatch"),Gt._forOperation(M,L,P)}catch(P){throw"auth/user-not-found"===P?.code&&xe(S,"user-mismatch"),P}})).apply(this,arguments)}function R4(M,g){return Z3.apply(this,arguments)}function Z3(){return(Z3=(0,h.Z)(function*(M,g,_=!1){const S="signIn",L=yield g3(M,S,g),P=yield Gt._fromIdTokenResponse(M,S,L);return _||(yield M._updateCurrentUser(P.user)),P})).apply(this,arguments)}function B1(M,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,h.Z)(function*(M,g){return R4(yt(M),g)})).apply(this,arguments)}function O0(M,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,h.Z)(function*(M,g){const _=(0,U.m9)(M);return yield k4(!1,_,g.providerId),_n(_,g)})).apply(this,arguments)}function $o(M,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(M,g){return _c((0,U.m9)(M),g)})).apply(this,arguments)}function bc(){return(bc=(0,h.Z)(function*(M,g){return nt(M,"POST","/v1/accounts:signInWithCustomToken",Je(M,g))})).apply(this,arguments)}function Z5(M,g){return ge.apply(this,arguments)}function ge(){return ge=(0,h.Z)(function*(M,g){const _=yt(M),S=yield function Cc(M,g){return bc.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),L=yield Gt._fromIdTokenResponse(_,"signIn",S);return yield _._updateCurrentUser(L.user),L}),ge.apply(this,arguments)}class U1{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Zo._fromServerResponse(g,_):"totpInfo"in _?O4._fromServerResponse(g,_):xe(g,"internal-error")}}class Zo extends U1{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Zo(_)}}class O4 extends U1{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new O4(_)}}function Jt(M,g,_){var S;ue((null===(S=_.url)||void 0===S?void 0:S.length)>0,M,"invalid-continue-uri"),ue(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ue(_.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ue(_.android.packageName.length>0,M,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Mc(M,g,_){return K3.apply(this,arguments)}function K3(){return K3=(0,h.Z)(function*(M,g,_){var S;const L=yt(M),P={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=L._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const J=yield N2(L,P,"getOobCode",!0);_&&Jt(L,J,_),yield W3(L,J)}else _&&Jt(L,P,_),yield W3(L,P).catch(function(){var J=(0,h.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ze=yield N2(L,P,"getOobCode",!0);_&&Jt(L,Ze,_),yield W3(L,Ze)}});return function(de){return J.apply(this,arguments)}}())}),K3.apply(this,arguments)}function ur(M,g,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(M,g,_){yield I4((0,U.m9)(M),{oobCode:g,newPassword:_})})).apply(this,arguments)}function wc(M,g){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,h.Z)(function*(M,g){yield function u3(M,g){return jn.apply(this,arguments)}((0,U.m9)(M),{oobCode:g})}),Sc.apply(this,arguments)}function ki(M,g){return Y3.apply(this,arguments)}function Y3(){return(Y3=(0,h.Z)(function*(M,g){const _=(0,U.m9)(M),S=yield I4(_,{oobCode:g}),L=S.requestType;switch(ue(L,_,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(S.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(S.mfaInfo,_,"internal-error");default:ue(S.email,_,"internal-error")}let P=null;return S.mfaInfo&&(P=U1._fromServerResponse(yt(_),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:P},operation:L}})).apply(this,arguments)}function j2(M,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(M,g){const{data:_}=yield ki((0,U.m9)(M),g);return _.email})).apply(this,arguments)}function Ri(M,g,_){return pi.apply(this,arguments)}function pi(){return pi=(0,h.Z)(function*(M,g,_){var S;const L=yt(M),P={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let J;if(null!==(S=L._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const i1=yield N2(L,P,"signUpPassword");J=q3(L,i1)}else J=q3(L,P).catch(function(){var i1=(0,h.Z)(function*(w1){if("auth/missing-recaptcha-token"===w1.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const A1=yield N2(L,P,"signUpPassword");return q3(L,A1)}return Promise.reject(w1)});return function(w1){return i1.apply(this,arguments)}}());const de=yield J.catch(i1=>Promise.reject(i1)),Ze=yield Gt._fromIdTokenResponse(L,"signIn",de);return yield L._updateCurrentUser(Ze.user),Ze}),pi.apply(this,arguments)}function Zr(M,g,_){return B1((0,U.m9)(M),mc.credential(g,_))}function zc(M,g,_){return v3.apply(this,arguments)}function v3(){return v3=(0,h.Z)(function*(M,g,_){var S;const L=yt(M),P={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function J(de,Ze){ue(Ze.handleCodeInApp,L,"argument-error"),Ze&&Jt(L,de,Ze)}if(null!==(S=L._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const de=yield N2(L,P,"getOobCode",!0);J(de,_),yield f3(L,de)}else J(P,_),yield f3(L,P).catch(function(){var de=(0,h.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i1=yield N2(L,P,"getOobCode",!0);J(i1,_),yield f3(L,i1)}});return function(Ze){return de.apply(this,arguments)}}())}),v3.apply(this,arguments)}function Tc(M,g){return"EMAIL_SIGNIN"===j3.parseLink(g)?.operation}function K5(M,g,_){return e2.apply(this,arguments)}function e2(){return(e2=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M),L=mc.credentialWithLink(g,_||h1());return ue(L._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),B1(S,L)})).apply(this,arguments)}function F4(){return(F4=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:createAuthUri",Je(M,g))})).apply(this,arguments)}function xc(M,g){return Os.apply(this,arguments)}function Os(){return Os=(0,h.Z)(function*(M,g){const S={identifier:g,continueUri:st()?h1():"http://localhost"},{signinMethods:L}=yield function Rs(M,g){return F4.apply(this,arguments)}((0,U.m9)(M),S);return L||[]}),Os.apply(this,arguments)}function Ec(M,g){return X3.apply(this,arguments)}function X3(){return X3=(0,h.Z)(function*(M,g){const _=(0,U.m9)(M),L={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};g&&Jt(_.auth,L,g);const{email:P}=yield function Go(M,g){return L4.apply(this,arguments)}(_.auth,L);P!==M.email&&(yield M.reload())}),X3.apply(this,arguments)}function Ko(M,g,_){return B4.apply(this,arguments)}function B4(){return B4=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:g};_&&Jt(S.auth,P,_);const{email:J}=yield function lc(M,g){return yn.apply(this,arguments)}(S.auth,P);J!==M.email&&(yield M.reload())}),B4.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(M,g){return W1(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Hc(M,g){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,h.Z)(function*(M,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const S=(0,U.m9)(M),P={idToken:yield S.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},J=yield J1(S,function Yo(M,g){return Fs.apply(this,arguments)}(S.auth,P));S.displayName=J.displayName||null,S.photoURL=J.photoUrl||null;const de=S.providerData.find(({providerId:Ze})=>"password"===Ze);de&&(de.displayName=S.displayName,de.photoURL=S.photoURL),yield S._updateTokensIfNecessary(J)}),Xo.apply(this,arguments)}function Vc(M,g){return Kr((0,U.m9)(M),g,null)}function nn(M,g){return Kr((0,U.m9)(M),null,g)}function Kr(M,g,_){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,h.Z)(function*(M,g,_){const{auth:S}=M,P={idToken:yield M.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const J=yield J1(M,C2(S,P));yield M._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Q3{constructor(g,_,S={}){this.isNewUser=g,this.providerId=_,this.profile=S}}class Qo extends Q3{constructor(g,_,S,L){super(g,_,S),this.username=L}}class Y5 extends Q3{constructor(g,_){super(g,"facebook.com",_)}}class Ic extends Qo{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class X5 extends Q3{constructor(g,_){super(g,"google.com",_)}}class Bs extends Qo{constructor(g,_,S){super(g,"twitter.com",_,S)}}function Jo(M){const{user:g,_tokenResponse:_}=M;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ac(M){var g,_;if(!M)return null;const{providerId:S}=M,L=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},P=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!S&&M?.idToken){const J=null===(_=null===(g=xr(M.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new Q3(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!S)return null;switch(S){case"facebook.com":return new Y5(P,L);case"github.com":return new Ic(P,L);case"google.com":return new X5(P,L);case"twitter.com":return new Bs(P,L,M.screenName||null);case"custom":case"anonymous":return new Q3(P,null);default:return new Q3(P,S,L)}}(_)}class gi{constructor(g,_,S){this.type=g,this.credential=_,this.auth=S}static _fromIdtoken(g,_){return new gi("enroll",g,_)}static _fromMfaPendingCredential(g){return new gi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,S;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return gi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(S=g.multiFactorSession)&&void 0!==S&&S.idToken)return gi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ea{constructor(g,_,S){this.session=g,this.hints=_,this.signInResolver=S}static _fromError(g,_){const S=yt(g),L=_.customData._serverResponse,P=(L.mfaInfo||[]).map(de=>U1._fromServerResponse(S,de));ue(L.mfaPendingCredential,S,"internal-error");const J=gi._fromMfaPendingCredential(L.mfaPendingCredential);return new ea(J,P,function(){var de=(0,h.Z)(function*(Ze){const i1=yield Ze._process(S,J);delete L.mfaInfo,delete L.mfaPendingCredential;const w1=Object.assign(Object.assign({},L),{idToken:i1.idToken,refreshToken:i1.refreshToken});switch(_.operationType){case"signIn":const A1=yield Gt._fromIdTokenResponse(S,_.operationType,w1);return yield S._updateCurrentUser(A1.user),A1;case"reauthenticate":return ue(_.user,S,"internal-error"),Gt._forOperation(_.user,_.operationType,w1);default:xe(S,"internal-error")}});return function(Ze){return de.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,h.Z)(function*(){return _.signInResolver(g)})()}}function G4(M,g){var _;const S=(0,U.m9)(M),L=g;return ue(g.customData.operationType,S,"argument-error"),ue(null===(_=L.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,S,"argument-error"),ea._fromError(S,L)}class t4{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(S=>U1._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new t4(g)}getSession(){var g=this;return(0,h.Z)(function*(){return gi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var S=this;return(0,h.Z)(function*(){const L=g,P=yield S.getSession(),J=yield J1(S.user,L._process(S.user.auth,P,_));return yield S.user._updateTokensIfNecessary(J),S.user.reload()})()}unenroll(g){var _=this;return(0,h.Z)(function*(){const S="string"==typeof g?g:g.uid,L=yield _.user.getIdToken();try{const P=yield J1(_.user,function y3(M,g){return W1(M,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(M,g))}(_.user.auth,{idToken:L,mfaEnrollmentId:S}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==S),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const _3=new WeakMap;function n4(M){const g=(0,U.m9)(M);return _3.has(g)||_3.set(g,t4._fromUser(g)),_3.get(g)}const W4="__sak";class j4{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(W4,"1"),this.storage.removeItem(W4),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const js=(()=>{class M extends j4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,S)=>this.onStorageEvent(_,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ta(){const M=(0,U.z$)();return Me(M)||It(M)}()&&function fi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ar(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const L=this.storage.getItem(S),P=this.localCache[S];L!==P&&_(S,P,L)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((de,Ze,i1)=>{this.notifyListeners(de,i1)});const L=_.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(L);if(_.newValue!==de)null!==_.newValue?this.storage.setItem(L,_.newValue):this.storage.removeItem(L);else if(this.localCache[L]===_.newValue&&!S)return}const P=()=>{const de=this.storage.getItem(L);!S&&this.localCache[L]===de||this.notifyListeners(L,de)},J=this.storage.getItem(L);!function vn(){return(0,U.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,S){this.localCache[_]=S;const L=this.listeners[_];if(L)for(const P of Array.from(L))P(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var L=()=>super._set,P=this;return(0,h.Z)(function*(){yield L().call(P,_,S),P.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,L=this;return(0,h.Z)(function*(){const P=yield S().call(L,_);return L.localCache[_]=JSON.stringify(P),P})()}_remove(_){var S=()=>super._remove,L=this;return(0,h.Z)(function*(){yield S().call(L,_),delete L.localCache[_]})()}}return M.type="LOCAL",M})(),Dn=(()=>{class M extends j4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return M.type="SESSION",M})();let ia=(()=>{class M{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(P=>P.isListeningto(_));if(S)return S;const L=new M(_);return this.receivers.push(L),L}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,h.Z)(function*(){const L=_,{eventId:P,eventType:J,data:de}=L.data,Ze=S.handlersMap[J];if(!Ze?.size)return;L.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const i1=Array.from(Ze).map(function(){var A1=(0,h.Z)(function*(Yn){return Yn(L.origin,de)});return function(Yn){return A1.apply(this,arguments)}}()),w1=yield function kc(M){return Promise.all(M.map(function(){var g=(0,h.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return g.apply(this,arguments)}}()))}(i1);L.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:w1})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function Yr(M="",g=10){let _="";for(let S=0;S<g;S++)_+=Math.floor(10*Math.random());return M+_}class Rc{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,S=50){var L=this;return(0,h.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,de;return new Promise((Ze,i1)=>{const w1=Yr("",20);P.port1.start();const A1=setTimeout(()=>{i1(new Error("unsupported_event"))},S);de={messageChannel:P,onMessage(Yn){const T3=Yn;if(T3.data.eventId===w1)switch(T3.data.status){case"ack":clearTimeout(A1),J=setTimeout(()=>{i1(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ze(T3.data.response);break;default:clearTimeout(A1),clearTimeout(J),i1(new Error("invalid_response"))}}},L.handlers.add(de),P.port1.addEventListener("message",de.onMessage),L.target.postMessage({eventType:g,eventId:w1,data:_},[P.port2])}).finally(()=>{de&&L.removeMessageHandler(de)})})()}}function t2(){return window}function $s(){return typeof t2().WorkerGlobalScope<"u"&&"function"==typeof t2().importScripts}function q4(){return(q4=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const M2="firebaseLocalStorageDb",r4=1,Wt="firebaseLocalStorage",U0="fbase_key";class Bi{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zs(M,g){return M.transaction([Wt],g?"readwrite":"readonly").objectStore(Wt)}function sa(){const M=indexedDB.open(M2,r4);return new Promise((g,_)=>{M.addEventListener("error",()=>{_(M.error)}),M.addEventListener("upgradeneeded",()=>{const S=M.result;try{S.createObjectStore(Wt,{keyPath:U0})}catch(L){_(L)}}),M.addEventListener("success",(0,h.Z)(function*(){const S=M.result;S.objectStoreNames.contains(Wt)?g(S):(S.close(),yield function i4(){const M=indexedDB.deleteDatabase(M2);return new Bi(M).toPromise()}(),g(yield sa()))}))})}function oa(M,g,_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(M,g,_){const S=Zs(M,!0).put({[U0]:g,value:_});return new Bi(S).toPromise()})).apply(this,arguments)}function C3(){return(C3=(0,h.Z)(function*(M,g){const _=Zs(M,!1).get(g),S=yield new Bi(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Z4(M,g){const _=Zs(M,!0).delete(g);return new Bi(_).toPromise()}const aa=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,h.Z)(function*(){return _.db||(_.db=yield sa()),_.db})()}_withRetries(_){var S=this;return(0,h.Z)(function*(){let L=0;for(;;)try{const P=yield S._openDb();return yield _(P)}catch(P){if(L++>3)throw P;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,h.Z)(function*(){return $s()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,h.Z)(function*(){_.receiver=ia._getInstance(function qs(){return $s()?self:null}()),_.receiver._subscribe("keyChanged",function(){var S=(0,h.Z)(function*(L,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(L,P){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,h.Z)(function*(L,P){return["keyChanged"]});return function(L,P){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,h.Z)(function*(){var S,L;if(_.activeServiceWorker=yield function Oc(){return q4.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Rc(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);P&&null!==(S=P[0])&&void 0!==S&&S.fulfilled&&null!==(L=P[0])&&void 0!==L&&L.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,h.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Fc(){var M;return(null===(M=navigator?.serviceWorker)||void 0===M?void 0:M.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const _=yield sa();return yield oa(_,W4,"1"),yield Z4(_,W4),!0}catch{}return!1})()}_withPendingWrite(_){var S=this;return(0,h.Z)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var L=this;return(0,h.Z)(function*(){return L._withPendingWrite((0,h.Z)(function*(){return yield L._withRetries(P=>oa(P,_,S)),L.localCache[_]=S,L.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,h.Z)(function*(){const L=yield S._withRetries(P=>function G0(M,g){return C3.apply(this,arguments)}(P,_));return S.localCache[_]=L,L})()}_remove(_){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(L=>Z4(L,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,h.Z)(function*(){const S=yield _._withRetries(J=>{const de=Zs(J,!1).getAll();return new Bi(de).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const L=[],P=new Set;for(const{fbase_key:J,value:de}of S)P.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(de)&&(_.notifyListeners(J,de),L.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!P.has(J)&&(_.notifyListeners(J,null),L.push(J));return L})()}notifyListeners(_,S){this.localCache[_]=S;const L=this.listeners[_];if(L)for(const P of Array.from(L))P(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})(),ca=1e12;class Gc{constructor(g){this.auth=g,this.counter=ca,this._widgets=new Map}render(g,_){const S=this.counter;return this._widgets.set(S,new la(g,this.auth.name,_||{})),this.counter++,S}reset(g){var _;const S=g||ca;null===(_=this._widgets.get(S))||void 0===_||_.delete(),this._widgets.delete(S)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ca))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,h.Z)(function*(){var S;return null===(S=_._widgets.get(g||ca))||void 0===S||S.execute(),""})()}}class la{constructor(g,_,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;ue(L,"argument-error",{appName:_}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ua(M){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<M;S++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const j0=en("rcb"),y9=new ze(3e4,6e4);class w3{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=t2().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ue(function C9(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&k1(t2().grecaptcha)?Promise.resolve(t2().grecaptcha):new Promise((S,L)=>{const P=t2().setTimeout(()=>{L(Te(g,"network-request-failed"))},y9.get());t2()[j0]=()=>{t2().clearTimeout(P),delete t2()[j0];const de=t2().grecaptcha;if(!de||!k1(de))return void L(Te(g,"internal-error"));const Ze=de.render;de.render=(i1,w1)=>{const A1=Ze(i1,w1);return this.counter++,A1},this.hostLanguage=_,S(de)},at(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:j0,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),L(Te(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=t2().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $0{load(g){return(0,h.Z)(function*(){return new Gc(g)})()}clearedOneInstance(){}}const w2="recaptcha",Ys={theme:"light",type:"image"};class Xs{constructor(g,_=Object.assign({},Ys),S){this.parameters=_,this.type=w2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(S),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;ue(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $0:new w3,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(_)||new Promise(P=>{const J=de=>{de&&(g.tokenChangeListeners.delete(J),P(de))};g.tokenChangeListeners.add(J),g.isInvisible&&S.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(S=>S(_)),"function"==typeof g)g(_);else if("string"==typeof g){const S=t2()[g];"function"==typeof S&&S(_)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const S=document.createElement("div");_.appendChild(S),_=S}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){ue(st()&&!$s(),g.auth,"internal-error"),yield function fa(){let M=null;return new Promise(g=>{"complete"!==document.readyState?(M=()=>g(),window.addEventListener("load",M)):g()}).catch(g=>{throw M&&window.removeEventListener("load",M),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function me(M){return ae.apply(this,arguments)}(g.auth);ue(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $n{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Di._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Gi(M,g,_){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(M,g,_){const S=yt(M),L=yield X4(S,g,(0,U.m9)(_));return new $n(L,P=>B1(S,P))})).apply(this,arguments)}function K4(M,g,_){return o4.apply(this,arguments)}function o4(){return(o4=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M);yield k4(!1,S,"phone");const L=yield X4(S.auth,g,(0,U.m9)(_));return new $n(L,P=>O0(S,P))})).apply(this,arguments)}function Wc(M,g,_){return Y4.apply(this,arguments)}function Y4(){return(Y4=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M),L=yield X4(S.auth,g,(0,U.m9)(_));return new $n(L,P=>$o(S,P))})).apply(this,arguments)}function X4(M,g,_){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,h.Z)(function*(M,g,_){var S;const L=yield _.verify();try{let P;if(ue("string"==typeof L,M,"argument-error"),ue(_.type===w2,M,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const J=P.session;if("phoneNumber"in P)return ue("enroll"===J.type,M,"internal-error"),(yield function Ws(M,g){return W1(M,"POST","/v2/accounts/mfaEnrollment:start",Je(M,g))}(M,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{ue("signin"===J.type,M,"internal-error");const de=(null===(S=P.multiFactorHint)||void 0===S?void 0:S.uid)||P.multiFactorUid;return ue(de,M,"missing-multi-factor-info"),(yield function Bc(M,g){return W1(M,"POST","/v2/accounts/mfaSignIn:start",Je(M,g))}(M,{mfaPendingCredential:J.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield function $5(M,g){return uc.apply(this,arguments)}(M,{phoneNumber:P.phoneNumber,recaptchaToken:L});return J}}finally{_._reset()}}),Qs.apply(this,arguments)}function fr(M,g){return $2.apply(this,arguments)}function $2(){return($2=(0,h.Z)(function*(M,g){yield _n((0,U.m9)(M),g)})).apply(this,arguments)}let Et=(()=>{class M{constructor(_){this.providerId=M.PROVIDER_ID,this.auth=yt(_)}verifyPhoneNumber(_,S){return X4(this.auth,_,(0,U.m9)(S))}static credential(_,S){return Di._fromVerification(_,S)}static credentialFromResult(_){return M.credentialFromTaggedObject(_)}static credentialFromError(_){return M.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:S,temporaryProof:L}=_;return S&&L?Di._fromTokenResponse(S,L):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function jt(M,g){return g?_2(g):(ue(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class dr extends cr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Li(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Li(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Li(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function $t(M){return R4(M.auth,new dr(M),M.bypassAuthState)}function rn(M){const{auth:g,user:_}=M;return ue(_,g,"internal-error"),_c(_,new dr(M),M.bypassAuthState)}function a4(M){return c4.apply(this,arguments)}function c4(){return(c4=(0,h.Z)(function*(M){const{auth:g,user:_}=M;return ue(_,g,"internal-error"),_n(_,new dr(M),M.bypassAuthState)})).apply(this,arguments)}class ha{constructor(g,_,S,L,P=!1){this.auth=g,this.resolver=S,this.user=L,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,h.Z)(function*(S,L){g.pendingPromise={resolve:S,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(S,L){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,h.Z)(function*(){const{urlResponse:S,sessionId:L,postBody:P,tenantId:J,error:de,type:Ze}=g;if(de)return void _.reject(de);const i1={auth:_.auth,requestUri:S,sessionId:L,tenantId:J||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ze)(i1))}catch(w1){_.reject(w1)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return $t;case"linkViaPopup":case"linkViaRedirect":return a4;case"reauthViaPopup":case"reauthViaRedirect":return rn;default:xe(this.auth,"internal-error")}}resolve(g){O1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){O1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ne=new ze(2e3,1e4);function hr(M,g,_){return f2.apply(this,arguments)}function f2(){return(f2=(0,h.Z)(function*(M,g,_){const S=yt(M);qe(M,g,qr);const L=jt(S,_);return new eo(S,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function Ht(M,g,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M);qe(S.auth,g,qr);const L=jt(S.auth,_);return new eo(S.auth,"reauthViaPopup",g,L,S).executeNotNull()})).apply(this,arguments)}function Js(M,g,_){return Q4.apply(this,arguments)}function Q4(){return(Q4=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M);qe(S.auth,g,qr);const L=jt(S.auth,_);return new eo(S.auth,"linkViaPopup",g,L,S).executeNotNull()})).apply(this,arguments)}let eo=(()=>{class M extends ha{constructor(_,S,L,P,J){super(_,S,P,J),this.provider=L,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var _=this;return(0,h.Z)(function*(){const S=yield _.execute();return ue(S,_.auth,"internal-error"),S})()}onExecution(){var _=this;return(0,h.Z)(function*(){O1(1===_.filter.length,"Popup operations only handle one event");const S=Yr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],S),_.authWindow.associatedEvent=S,_.resolver._originValidation(_.auth).catch(L=>{_.reject(L)}),_.resolver._isIframeWebStorageSupported(_.auth,L=>{L||_.reject(Te(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const _=()=>{var S,L;this.pollId=null!==(L=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ne.get())};_()}}return M.currentPopupAction=null,M})();const q0="pendingRedirect",E1=new Map;class qn extends ha{constructor(g,_,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,h.Z)(function*(){let S=E1.get(_.auth._key());if(!S){try{const P=(yield function pa(M,g){return qt.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;S=()=>Promise.resolve(P)}catch(L){S=()=>Promise.reject(L)}E1.set(_.auth._key(),S)}return _.bypassAuthState||E1.set(_.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,S=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(S,g);if("unknown"!==g.type){if(g.eventId){const L=yield S.auth._redirectUserForId(g.eventId);if(L)return S.user=L,_().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function qt(){return(qt=(0,h.Z)(function*(M,g){const _=sn(g),S=vi(M);if(!(yield S._isAvailable()))return!1;const L="true"===(yield S._get(_));return yield S._remove(_),L})).apply(this,arguments)}function r1(M,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(M,g){return vi(M)._set(sn(g),"true")})).apply(this,arguments)}function Zn(){E1.clear()}function H1(M,g){E1.set(M._key(),g)}function vi(M){return _2(M._redirectPersistence)}function sn(M){return Wn(q0,M.config.apiKey,M.name)}function d2(M,g,_){return function Z0(M,g,_){return ma.apply(this,arguments)}(M,g,_)}function ma(){return(ma=(0,h.Z)(function*(M,g,_){const S=yt(M);qe(M,g,qr),yield S._initializationPromise;const L=jt(S,_);return yield r1(L,S),L._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function jc(M,g,_){return function K0(M,g,_){return Xr.apply(this,arguments)}(M,g,_)}function Xr(){return(Xr=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M);qe(S.auth,g,qr),yield S.auth._initializationPromise;const L=jt(S.auth,_);yield r1(L,S.auth);const P=yield $c(S);return L._openRedirect(S.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function ga(M,g,_){return function va(M,g,_){return ya.apply(this,arguments)}(M,g,_)}function ya(){return(ya=(0,h.Z)(function*(M,g,_){const S=(0,U.m9)(M);qe(S.auth,g,qr),yield S.auth._initializationPromise;const L=jt(S.auth,_);yield k4(!1,S,g.providerId),yield r1(L,S.auth);const P=yield $c(S);return L._openRedirect(S.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function Y0(M,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(M,g){return yield yt(M)._initializationPromise,_a(M,g,!1)})).apply(this,arguments)}function _a(M,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(M,g,_=!1){const S=yt(M),L=jt(S,g),J=yield new qn(S,L,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield S._persistUserIfCurrent(J.user),yield S._setRedirectUser(null,g)),J})).apply(this,arguments)}function $c(M){return J4.apply(this,arguments)}function J4(){return(J4=(0,h.Z)(function*(M){const g=Yr(`${M.uid}:::`);return M._redirectEventId=g,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),g})).apply(this,arguments)}class el{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(_=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ca(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(M);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var S;if(g.error&&!X0(g)){const L=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(Te(this.auth,L))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const S=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mt(g))}saveEventToCache(g){this.cachedEventUids.add(Mt(g)),this.lastProcessedEventTime=Date.now()}}function Mt(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(g=>g).join("-")}function X0({type:M,error:g}){return"unknown"===M&&"auth/no-auth-event"===g?.code}function ba(M){return l4.apply(this,arguments)}function l4(){return(l4=(0,h.Z)(function*(M,g={}){return W1(M,"GET","/v1/projects",g)})).apply(this,arguments)}const u4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ma=/^https?/;function Vt(){return(Vt=(0,h.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:g}=yield ba(M);for(const _ of g)try{if(f4(_))return}catch{}xe(M,"unauthorized-domain")})).apply(this,arguments)}function f4(M){const g=h1(),{protocol:_,hostname:S}=new URL(g);if(M.startsWith("chrome-extension://")){const J=new URL(M);return""===J.hostname&&""===S?"chrome-extension:"===_&&M.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===S}if(!Ma.test(_))return!1;if(u4.test(M))return S===M;const L=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(S)}const d4=new ze(3e4,6e4);function es(){const M=t2().___jsl;if(M?.H)for(const g of Object.keys(M.H))if(M.H[g].r=M.H[g].r||[],M.H[g].L=M.H[g].L||[],M.H[g].r=[...M.H[g].L],M.CP)for(let _=0;_<M.CP.length;_++)M.CP[_]=null}let ts=null;const J0=new ze(5e3,15e3),Lt="__/auth/iframe",S2="emulator/auth/iframe",wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},to=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function no(M){const g=M.config;ue(g.authDomain,M,"auth-domain-config-required");const _=g.emulator?Ae(g,S2):`https://${M.config.authDomain}/${Lt}`,S={apiKey:g.apiKey,appName:M.name,v:X.SDK_VERSION},L=to.get(M.config.apiHost);L&&(S.eid=L);const P=M._getFrameworks();return P.length&&(S.fw=P.join(",")),`${_}?${(0,U.xO)(S).slice(1)}`}function ro(){return ro=(0,h.Z)(function*(M){const g=yield function Q0(M){return ts=ts||function Qr(M){return new Promise((g,_)=>{var S,L,P;function J(){es(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{es(),_(Te(M,"network-request-failed"))},timeout:d4.get()})}if(null!==(L=null===(S=t2().gapi)||void 0===S?void 0:S.iframes)&&void 0!==L&&L.Iframe)g(gapi.iframes.getContext());else{if(null===(P=t2().gapi)||void 0===P||!P.load){const de=en("iframefcb");return t2()[de]=()=>{gapi.load?J():_(Te(M,"network-request-failed"))},at(`https://apis.google.com/js/api.js?onload=${de}`).catch(Ze=>_(Ze))}J()}}).catch(g=>{throw ts=null,g})}(M),ts}(M),_=t2().gapi;return ue(_,M,"internal-error"),g.open({where:document.body,url:no(M),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wa,dontclear:!0},S=>new Promise(function(){var L=(0,h.Z)(function*(P,J){yield S.restyle({setHideOnLeave:!1});const de=Te(M,"network-request-failed"),Ze=t2().setTimeout(()=>{J(de)},J0.get());function i1(){t2().clearTimeout(Ze),P(S)}S.ping(i1).then(i1,()=>{J(de)})});return function(P,J){return L.apply(this,arguments)}}()))}),ro.apply(this,arguments)}const Ci={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nn=500,Kn=600,ns="_blank",qc="http://localhost";class Ot{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const x="__/auth/handler",V="emulator/auth/handler",k=encodeURIComponent("fac");function j(M,g,_,S,L,P){return Q.apply(this,arguments)}function Q(){return(Q=(0,h.Z)(function*(M,g,_,S,L,P){ue(M.config.authDomain,M,"auth-domain-config-required"),ue(M.config.apiKey,M,"invalid-api-key");const J={apiKey:M.config.apiKey,appName:M.name,authType:_,redirectUrl:S,v:X.SDK_VERSION,eventId:L};if(g instanceof qr){g.setDefaultLanguage(M.languageCode),J.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(J.customParameters=JSON.stringify(g.getCustomParameters()));for(const[w1,A1]of Object.entries(P||{}))J[w1]=A1}if(g instanceof $3){const w1=g.getScopes().filter(A1=>""!==A1);w1.length>0&&(J.scopes=w1.join(","))}M.tenantId&&(J.tid=M.tenantId);const de=J;for(const w1 of Object.keys(de))void 0===de[w1]&&delete de[w1];const Ze=yield M._getAppCheckToken(),i1=Ze?`#${k}=${encodeURIComponent(Ze)}`:"";return`${function fe({config:M}){return M.emulator?Ae(M,V):`https://${M.authDomain}/${x}`}(M)}?${(0,U.xO)(de).slice(1)}${i1}`})).apply(this,arguments)}const e1="webStorageSupport",f1=class Xe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dn,this._completeRedirectFn=_a,this._overrideRedirectResult=H1}_openPopup(g,_,S,L){var P=this;return(0,h.Z)(function*(){var J;O1(null===(J=P.eventManagers[g._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const de=yield j(g,_,S,h1(),L);return function S3(M,g,_,S=Nn,L=Kn){const P=Math.max((window.screen.availHeight-L)/2,0).toString(),J=Math.max((window.screen.availWidth-S)/2,0).toString();let de="";const Ze=Object.assign(Object.assign({},Ci),{width:S.toString(),height:L.toString(),top:P,left:J}),i1=(0,U.z$)().toLowerCase();_&&(de=oe(i1)?ns:_),Y(i1)&&(g=g||qc,Ze.scrollbars="yes");const w1=Object.entries(Ze).reduce((Yn,[T3,Zc])=>`${Yn}${T3}=${Zc},`,"");if(function rt(M=(0,U.z$)()){var g;return It(M)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(i1)&&"_self"!==de)return function w(M,g){const _=document.createElement("a");_.href=M,_.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(g||"",de),new Ot(null);const A1=window.open(g||"",de,w1);ue(A1,M,"popup-blocked");try{A1.focus()}catch{}return new Ot(A1)}(g,de,Yr())})()}_openRedirect(g,_,S,L){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(g),function Fi(M){t2().location.href=M}(yield j(g,_,S,h1(),L)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:L,promise:P}=this.eventManagers[_];return L?Promise.resolve(L):(O1(P,"If manager is not set, promise should be"),P)}const S=this.initAndGetManager(g);return this.eventManagers[_]={promise:S},S.catch(()=>{delete this.eventManagers[_]}),S}initAndGetManager(g){var _=this;return(0,h.Z)(function*(){const S=yield function Ir(M){return ro.apply(this,arguments)}(g),L=new el(g);return S.register("authEvent",P=>(ue(P?.authEvent,g,"invalid-auth-event"),{status:L.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:L},_.iframes[g._key()]=S,L})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(e1,{type:e1},L=>{var P;const J=null===(P=L?.[0])||void 0===P?void 0:P[e1];void 0!==J&&_(!!J),xe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ji(M){return Vt.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ar()||Me()||It()}};class F1{constructor(g){this.factorId=g}_process(g,_,S){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,S);case"signin":return this._finalizeSignIn(g,_.credential);default:return u1("unexpected MultiFactorSessionType")}}}class R1 extends F1{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new R1(g)}_finalizeEnroll(g,_,S){return function e4(M,g){return W1(M,"POST","/v2/accounts/mfaEnrollment:finalize",Je(M,g))}(g,{idToken:_,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function M3(M,g){return W1(M,"POST","/v2/accounts/mfaSignIn:finalize",Je(M,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pn=(()=>{class M{constructor(){}static assertion(_){return R1._fromCredential(_)}}return M.FACTOR_ID="phone",M})();var on="@firebase/auth";class z3{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,h.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(S=>{g(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const t8=(0,U.Pz)("authIdTokenMaxAge")||300;let so=null;const nl=M=>function(){var g=(0,h.Z)(function*(_){const S=_&&(yield _.getIdTokenResult()),L=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(L&&L>t8)return;const P=S?.token;so!==P&&(so=P,yield fetch(M,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function M9(M=(0,X.getApp)()){const g=(0,X._getProvider)(M,"auth");if(g.isInitialized())return g.getImmediate();const _=function P2(M,g){const _=(0,X._getProvider)(M,"auth");if(_.isInitialized()){const L=_.getImmediate(),P=_.getOptions();if((0,U.vZ)(P,g??{}))return L;xe(L,"already-initialized")}return _.initialize({options:g})}(M,{popupRedirectResolver:f1,persistence:[aa,js,Dn]}),S=(0,U.Pz)("authTokenSyncURL");if(S){const P=nl(S);(function J3(M,g,_){(0,U.m9)(M).beforeAuthStateChanged(g,_)})(_,P,()=>P(_.currentUser)),function Us(M,g,_,S){(0,U.m9)(M).onIdTokenChanged(g,_,S)}(_,J=>P(J))}const L=(0,U.q4)("auth");return L&&Xt(_,`http://${L}`),_}!function tl(M){(0,X._registerComponent)(new ve.wA("auth",(g,{options:_})=>{const S=g.getProvider("app").getImmediate(),L=g.getProvider("heartbeat"),P=g.getProvider("app-check-internal"),{apiKey:J,authDomain:de}=S.options;ue(J&&!J.includes(":"),"invalid-api-key",{appName:S.name});const Ze={apiKey:J,authDomain:de,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G3(M)},i1=new kt(S,L,P,Ze);return function V4(M,g){const _=g?.persistence||[],S=(Array.isArray(_)?_:[_]).map(_2);g?.errorMap&&M._updateErrorMap(g.errorMap),M._initializeWithPersistence(S,g?.popupRedirectResolver)}(i1,_),i1},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,S)=>{g.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new ve.wA("auth-internal",g=>{const _=yt(g.getProvider("auth").getImmediate());return new z3(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(on,"0.23.2",function e8(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,X.registerVersion)(on,"0.23.2","esm2017")}("Browser")},2090:(T1,Ie,F)=>{F.d(Ie,{$s:()=>_2,BH:()=>Le,DV:()=>li,GJ:()=>Tr,L:()=>He,LL:()=>x1,P0:()=>$e,Pz:()=>Te,Sg:()=>qe,UG:()=>u1,UI:()=>I2,US:()=>ve,Wl:()=>Qt,Yr:()=>ze,ZB:()=>te,ZR:()=>W1,aH:()=>xe,b$:()=>st,cI:()=>nt,dS:()=>ui,eu:()=>Qe,g5:()=>X,gK:()=>Gn,gQ:()=>Ct,h$:()=>Pe,hl:()=>t1,hu:()=>U,jU:()=>O1,m9:()=>Wn,ne:()=>J1,p$:()=>q,pd:()=>xr,q4:()=>Re,r3:()=>jr,ru:()=>h1,tV:()=>Z,uI:()=>ue,ug:()=>ot,vZ:()=>_1,w1:()=>_e,w9:()=>ir,xO:()=>L2,xb:()=>H4,z$:()=>Fe,zI:()=>y1,zd:()=>En});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(W,B){if(!W)throw X(B)},X=function(W){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},pe=function(W){const B=[];let Y=0;for(let Me=0;Me<W.length;Me++){let oe=W.charCodeAt(Me);oe<128?B[Y++]=oe:oe<2048?(B[Y++]=oe>>6|192,B[Y++]=63&oe|128):55296==(64512&oe)&&Me+1<W.length&&56320==(64512&W.charCodeAt(Me+1))?(oe=65536+((1023&oe)<<10)+(1023&W.charCodeAt(++Me)),B[Y++]=oe>>18|240,B[Y++]=oe>>12&63|128,B[Y++]=oe>>6&63|128,B[Y++]=63&oe|128):(B[Y++]=oe>>12|224,B[Y++]=oe>>6&63|128,B[Y++]=63&oe|128)}return B},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,B){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let oe=0;oe<W.length;oe+=3){const Oe=W[oe],P1=oe+1<W.length,gt=P1?W[oe+1]:0,u2=oe+2<W.length,It=u2?W[oe+2]:0;let vn=(15&gt)<<2|It>>6,ar=63&It;u2||(ar=64,P1||(vn=64)),Me.push(Y[Oe>>2],Y[(3&Oe)<<4|gt>>4],Y[vn],Y[ar])}return Me.join("")},encodeString(W,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(W):this.encodeByteArray(pe(W),B)},decodeString(W,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(W):function(W){const B=[];let Y=0,Me=0;for(;Y<W.length;){const oe=W[Y++];if(oe<128)B[Me++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Oe=W[Y++];B[Me++]=String.fromCharCode((31&oe)<<6|63&Oe)}else if(oe>239&&oe<365){const u2=((7&oe)<<18|(63&W[Y++])<<12|(63&W[Y++])<<6|63&W[Y++])-65536;B[Me++]=String.fromCharCode(55296+(u2>>10)),B[Me++]=String.fromCharCode(56320+(1023&u2))}else{const Oe=W[Y++],P1=W[Y++];B[Me++]=String.fromCharCode((15&oe)<<12|(63&Oe)<<6|63&P1)}}return B.join("")}(this.decodeStringToByteArray(W,B))},decodeStringToByteArray(W,B){this.init_();const Y=B?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let oe=0;oe<W.length;){const Oe=Y[W.charAt(oe++)],gt=oe<W.length?Y[W.charAt(oe)]:0;++oe;const It=oe<W.length?Y[W.charAt(oe)]:64;++oe;const rt=oe<W.length?Y[W.charAt(oe)]:64;if(++oe,null==Oe||null==gt||null==It||null==rt)throw new Ge;Me.push(Oe<<2|gt>>4),64!==It&&(Me.push(gt<<4&240|It>>2),64!==rt&&Me.push(It<<6&192|rt))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(W){const B=pe(W);return ve.encodeByteArray(B,!0)},He=function(W){return Pe(W).replace(/\./g,"")},Z=function(W){try{return ve.decodeString(W,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function q(W){return te(void 0,W)}function te(W,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return B}for(const Y in B)!B.hasOwnProperty(Y)||!Ye(Y)||(W[Y]=te(W[Y],B[Y]));return W}function Ye(W){return"__proto__"!==W}const Ve=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=W&&Z(W[1]);return B&&JSON.parse(B)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Re=W=>{var B,Y;return null===(Y=null===(B=Ve())||void 0===B?void 0:B.emulatorHosts)||void 0===Y?void 0:Y[W]},$e=W=>{const B=Re(W);if(!B)return;const Y=B.lastIndexOf(":");if(Y<=0||Y+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const Me=parseInt(B.substring(Y+1),10);return"["===B[0]?[B.substring(1,Y-1),Me]:[B.substring(0,Y),Me]},xe=()=>{var W;return null===(W=Ve())||void 0===W?void 0:W.config},Te=W=>{var B;return null===(B=Ve())||void 0===B?void 0:B[`_${W}`]};class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Y)=>{this.resolve=B,this.reject=Y})}wrapCallback(B){return(Y,Me)=>{Y?this.reject(Y):this.resolve(Me),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Y):B(Y,Me))}}}function qe(W,B){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=B||"demo-project",oe=W.iat||0,Oe=W.sub||W.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const P1=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:oe,exp:oe+3600,auth_time:oe,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},W);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(P1)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function u1(){var W;const B=null===(W=Ve())||void 0===W?void 0:W.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function O1(){return"object"==typeof self&&self.self===self}function h1(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){const W=Fe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function ze(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function t1(){try{return"object"==typeof indexedDB}catch{return!1}}function Qe(){return new Promise((W,B)=>{try{let Y=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(Me);oe.onsuccess=()=>{oe.result.close(),Y||self.indexedDB.deleteDatabase(Me),W(!0)},oe.onupgradeneeded=()=>{Y=!1},oe.onerror=()=>{var Oe;B((null===(Oe=oe.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(Y){B(Y)}})}function y1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class W1 extends Error{constructor(B,Y,Me){super(Y),this.code=B,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,W1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x1.prototype.create)}}class x1{constructor(B,Y,Me){this.service=B,this.serviceName=Y,this.errors=Me}create(B,...Y){const Me=Y[0]||{},oe=`${this.service}/${B}`,Oe=this.errors[B],P1=Oe?function tt(W,B){return W.replace(L1,(Y,Me)=>{const oe=B[Me];return null!=oe?String(oe):`<${Me}?>`})}(Oe,Me):"Error";return new W1(oe,`${this.serviceName}: ${P1} (${oe}).`,Me)}}const L1=/\{\$([^}]+)}/g;function nt(W){return JSON.parse(W)}function Qt(W){return JSON.stringify(W)}const Yt=function(W){let B={},Y={},Me={},oe="";try{const Oe=W.split(".");B=nt(Z(Oe[0])||""),Y=nt(Z(Oe[1])||""),oe=Oe[2],Me=Y.d||{},delete Y.d}catch{}return{header:B,claims:Y,data:Me,signature:oe}},ir=function(W){const Y=Yt(W).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},Tr=function(W){const B=Yt(W).claims;return"object"==typeof B&&!0===B.admin};function jr(W,B){return Object.prototype.hasOwnProperty.call(W,B)}function li(W,B){if(Object.prototype.hasOwnProperty.call(W,B))return W[B]}function H4(W){for(const B in W)if(Object.prototype.hasOwnProperty.call(W,B))return!1;return!0}function I2(W,B,Y){const Me={};for(const oe in W)Object.prototype.hasOwnProperty.call(W,oe)&&(Me[oe]=B.call(Y,W[oe],oe,W));return Me}function _1(W,B){if(W===B)return!0;const Y=Object.keys(W),Me=Object.keys(B);for(const oe of Y){if(!Me.includes(oe))return!1;const Oe=W[oe],P1=B[oe];if(xi(Oe)&&xi(P1)){if(!_1(Oe,P1))return!1}else if(Oe!==P1)return!1}for(const oe of Me)if(!Y.includes(oe))return!1;return!0}function xi(W){return null!==W&&"object"==typeof W}function L2(W){const B=[];for(const[Y,Me]of Object.entries(W))Array.isArray(Me)?Me.forEach(oe=>{B.push(encodeURIComponent(Y)+"="+encodeURIComponent(oe))}):B.push(encodeURIComponent(Y)+"="+encodeURIComponent(Me));return B.length?"&"+B.join("&"):""}function En(W){const B={};return W.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[oe,Oe]=Me.split("=");B[decodeURIComponent(oe)]=decodeURIComponent(Oe)}}),B}function xr(W){const B=W.indexOf("?");if(!B)return"";const Y=W.indexOf("#",B);return W.substring(B,Y>0?Y:void 0)}class Ct{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,Y){Y||(Y=0);const Me=this.W_;if("string"==typeof B)for(let rt=0;rt<16;rt++)Me[rt]=B.charCodeAt(Y)<<24|B.charCodeAt(Y+1)<<16|B.charCodeAt(Y+2)<<8|B.charCodeAt(Y+3),Y+=4;else for(let rt=0;rt<16;rt++)Me[rt]=B[Y]<<24|B[Y+1]<<16|B[Y+2]<<8|B[Y+3],Y+=4;for(let rt=16;rt<80;rt++){const vn=Me[rt-3]^Me[rt-8]^Me[rt-14]^Me[rt-16];Me[rt]=4294967295&(vn<<1|vn>>>31)}let It,Pt,oe=this.chain_[0],Oe=this.chain_[1],P1=this.chain_[2],gt=this.chain_[3],u2=this.chain_[4];for(let rt=0;rt<80;rt++){rt<40?rt<20?(It=gt^Oe&(P1^gt),Pt=1518500249):(It=Oe^P1^gt,Pt=1859775393):rt<60?(It=Oe&P1|gt&(Oe|P1),Pt=2400959708):(It=Oe^P1^gt,Pt=3395469782);const vn=(oe<<5|oe>>>27)+It+u2+Pt+Me[rt]&4294967295;u2=gt,gt=P1,P1=4294967295&(Oe<<30|Oe>>>2),Oe=oe,oe=vn}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+P1&4294967295,this.chain_[3]=this.chain_[3]+gt&4294967295,this.chain_[4]=this.chain_[4]+u2&4294967295}update(B,Y){if(null==B)return;void 0===Y&&(Y=B.length);const Me=Y-this.blockSize;let oe=0;const Oe=this.buf_;let P1=this.inbuf_;for(;oe<Y;){if(0===P1)for(;oe<=Me;)this.compress_(B,oe),oe+=this.blockSize;if("string"==typeof B){for(;oe<Y;)if(Oe[P1]=B.charCodeAt(oe),++P1,++oe,P1===this.blockSize){this.compress_(Oe),P1=0;break}}else for(;oe<Y;)if(Oe[P1]=B[oe],++P1,++oe,P1===this.blockSize){this.compress_(Oe),P1=0;break}}this.inbuf_=P1,this.total_+=Y}digest(){const B=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&Y,Y/=256;this.compress_(this.buf_);let Me=0;for(let oe=0;oe<5;oe++)for(let Oe=24;Oe>=0;Oe-=8)B[Me]=this.chain_[oe]>>Oe&255,++Me;return B}}function J1(W,B){const Y=new C1(W,B);return Y.subscribe.bind(Y)}class C1{constructor(B,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{B(this)}).catch(Me=>{this.error(Me)})}next(B){this.forEachObserver(Y=>{Y.next(B)})}error(B){this.forEachObserver(Y=>{Y.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Y,Me){let oe;if(void 0===B&&void 0===Y&&void 0===Me)throw new Error("Missing Observer.");oe=function sr(W,B){if("object"!=typeof W||null===W)return!1;for(const Y of B)if(Y in W&&"function"==typeof W[Y])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:Y,complete:Me},void 0===oe.next&&(oe.next=Hn),void 0===oe.error&&(oe.error=Hn),void 0===oe.complete&&(oe.complete=Hn);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Oe}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,B)}sendOne(B,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Y(this.observers[B])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}function Gn(W,B){return`${W} failed: ${B} argument `}const ui=function(W){const B=[];let Y=0;for(let Me=0;Me<W.length;Me++){let oe=W.charCodeAt(Me);if(oe>=55296&&oe<=56319){const Oe=oe-55296;Me++,U(Me<W.length,"Surrogate pair missing trail surrogate."),oe=65536+(Oe<<10)+(W.charCodeAt(Me)-56320)}oe<128?B[Y++]=oe:oe<2048?(B[Y++]=oe>>6|192,B[Y++]=63&oe|128):oe<65536?(B[Y++]=oe>>12|224,B[Y++]=oe>>6&63|128,B[Y++]=63&oe|128):(B[Y++]=oe>>18|240,B[Y++]=oe>>12&63|128,B[Y++]=oe>>6&63|128,B[Y++]=63&oe|128)}return B},ot=function(W){let B=0;for(let Y=0;Y<W.length;Y++){const Me=W.charCodeAt(Y);Me<128?B++:Me<2048?B+=2:Me>=55296&&Me<=56319?(B+=4,Y++):B+=3}return B},dt=1e3,gn=2,l2=144e5,Vn=.5;function _2(W,B=dt,Y=gn){const Me=B*Math.pow(Y,W),oe=Math.round(Vn*Me*(Math.random()-.5)*2);return Math.min(l2,Me+oe)}function Wn(W){return W&&W._delegate?W._delegate:W}},5909:(T1,Ie,F)=>{var h=F(4650);let U=null;function X(){return U}class ye{}const ve=new h.OlP("DocumentToken");let Ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Pe(){return(0,h.LFG)(Z)}()},providedIn:"platform"}),n})();const He=new h.OlP("Location Initialized");let Z=(()=>{class n extends Ge{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){q()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){q()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function te(){return new Z((0,h.LFG)(ve))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function Ye(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function n1(n){return n&&"?"!==n[0]?"?"+n:n}let d1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ve)},providedIn:"root"}),n})();const be=new h.OlP("appBaseHref");let Ve=(()=>{class n extends d1{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ye(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+n1(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+n1(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+n1(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ge),h.LFG(be,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends d1{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ye(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+n1(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+n1(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ge),h.LFG(be,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ee(Le(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+n1(r))}normalize(t){return n.stripTrailingSlash(function Te(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Le(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+n1(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+n1(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=n1,n.joinWithSlash=Ye,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(h.LFG(d1))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function xe(){return new $e((0,h.LFG)(d1))}()},providedIn:"root"}),n})();function Le(n){return n.replace(/\/index.html$/,"")}function Ei(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const N2=/\s+/,o1=[];let $1=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=o1,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(N2):o1}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(N2):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(N2).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),Hr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new q1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class q1{constructor(){this.$implicit=null,this.ngIf=null}}function Vs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Ai=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:h.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const N0="browser",j3="server";function qr(n){return n===N0}function $3(n){return n===j3}let Is=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new k0((0,h.LFG)(ve),window)}),n})();class k0{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Wo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ni(this.window.history)||Ni(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ni(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yc{}class Dc extends ye{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Us extends Dc{static makeCurrent(){!function pe(n){U||(U=n)}(new Us)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function U4(){return J3=J3||document.querySelector("base"),J3?J3.getAttribute("href"):null}();return null==t?null:function Q5(n){mi=mi||document.createElement("a"),mi.setAttribute("href",n);const e=mi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){J3=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ei(document.cookie,e)}}let mi,J3=null;const F0=new h.OlP("TRANSITION_ID"),Nc=[{provide:h.ip1,useFactory:function Gs(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=X(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[F0,ve,h.zs3],multi:!0}];let ea=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const G4=new h.OlP("EventManagerPlugins");let Ws=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(G4),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class e4{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=X().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Pc=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Oi=(()=>{class n extends Pc{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const y3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},t4=/%COMP%/g,$4=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function js(n,e){return e.flat(100).map(t=>t.replace(t4,n))}function ra(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dn=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new kc(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof $s?i.applyToHost(t):i instanceof Fi&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:s=new $s(o,u,r,this.appId,d);break;case h.ifc.ShadowDom:return new t2(o,u,t,r);default:s=new Fi(o,u,r,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ws),h.LFG(Oi),h.LFG(h.AFp),h.LFG($4))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class kc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(y3[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Rc(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Rc(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=y3[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=y3[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ra(r)):this.eventManager.addEventListener(e,t,ra(r))}}function Rc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class t2 extends kc{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=js(i.id,i.styles);for(const o of s){const u=document.createElement("style");u.textContent=o,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fi extends kc{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=js(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $s extends Fi{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function B0(n){return"_ngcontent-%COMP%".replace(t4,n)}(o),this.hostAttr=function na(n){return"_nghost-%COMP%".replace(t4,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Oc=(()=>{class n extends e4{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const q4=["alt","control","meta","shift"],Fc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let M2=(()=>{class n extends e4{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),o="code."),q4.forEach(m=>{const y=r.indexOf(m);y>-1&&(r.splice(y,1),o+=m+".")}),o+=s,0!=r.length||0===s.length)return null;const d={};return d.domEventName=i,d.fullKey=o,d}static matchEventFullKeyCode(t,r){let i=Fc[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),q4.forEach(o=>{o!==i&&(0,qs[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const G0=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:N0},{provide:h.g9A,useValue:function i4(){Us.makeCurrent()},multi:!0},{provide:ve,useFactory:function oa(){return(0,h.RDi)(document),document},deps:[]}]),C3=new h.OlP(""),Z4=[{provide:h.rWj,useClass:class gi{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let s=i.length,o=!1;const u=function(d){o=o||d,s--,0==s&&r(o)};i.forEach(function(d){d.whenStable(u)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?X().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],b3=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function sa(){return new h.qLn},deps:[]},{provide:G4,useClass:Oc,multi:!0,deps:[ve,h.R0b,h.Lbi]},{provide:G4,useClass:M2,multi:!0,deps:[ve]},{provide:Dn,useClass:Dn,deps:[Ws,Oi,h.AFp,$4]},{provide:h.FYo,useExisting:Dn},{provide:Pc,useExisting:Oi},{provide:Oi,useClass:Oi,deps:[ve]},{provide:Ws,useClass:Ws,deps:[G4,h.R0b]},{provide:yc,useClass:ea,deps:[]},[]];let s4=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:F0,useExisting:h.AFp},Nc]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(C3,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...b3,...Z4],imports:[h3,h.hGG]}),n})(),W0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function M3(){return new W0((0,h.LFG)(ve))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Y4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(Qs),r},providedIn:"root"}),n})(),Qs=(()=>{class n extends Y4{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${h.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${h.JZr})`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function X4(n){return new Qs(n.get(ve))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var $2=F(7579),Et=F(8996),jt=F(5577),dr=F(515),$t=F(4482),rn=F(5403),a4=F(8421),c4=F(5032),ne=F(5861);class hr{constructor(){this._listeners=new Map}addEventListener(e,t){var r;this.removeEventListener(e,t),this._listeners.get(e)||this._listeners.set(e,[]),null===(r=this._listeners.get(e))||void 0===r||r.push(t)}dispatchEvent(e,t){var r;null===(r=this._listeners.get(e))||void 0===r||r.forEach(i=>i(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const r=this._listeners.get(e);if(!r)return;const i=r.length,s=r.indexOf(t);s<0||(1===i?this._listeners.delete(e):r.splice(s,1))}}class f2{constructor(e,t,r){if("number"!=typeof e&&e)this.x=e.x,this.y=e.y,this.z=e.z?e.z:0;else{if(void 0===e||void 0===t)throw new Error("tsParticles - Vector3d not initialized correctly");this.x=e,this.y=t,this.z=r??0}}static get origin(){return f2.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}static clone(e){return f2.create(e.x,e.y,e.z)}static create(e,t,r){return new f2(e,t,r)}add(e){return f2.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return f2.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return f2.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return f2.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}rotate(e){return f2.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y,this.z=e.z?e.z:0}sub(e){return f2.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}updateFromAngle(e,t){this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}}class Ht extends f2{constructor(e,t){super(e,t,0)}static get origin(){return Ht.create(0,0)}static clone(e){return Ht.create(e.x,e.y)}static create(e,t){return new Ht(e,t)}}let Wi=Math.random;const Js=new Map;function eo(n){return Js.get(n)||(e=>e)}function E1(){return qn(Wi(),0,1-1e-16)}function qn(n,e,t){return Math.min(Math.max(n,e),t)}function pa(n,e,t,r){return Math.floor((n*t+e*r)/(t+r))}function qt(n){const e=Zn(n);let t=Ar(n);return e===t&&(t=0),E1()*(e-t)+t}function r1(n){return"number"==typeof n?n:qt(n)}function Ar(n){return"number"==typeof n?n:n.min}function Zn(n){return"number"==typeof n?n:n.max}function H1(n,e){if(n===e||void 0===e&&"number"==typeof n)return n;const t=Ar(n),r=Zn(n);return void 0!==e?{min:Math.min(t,e),max:Math.max(r,e)}:H1(t,r)}function vi(n){const e=n.random,{enable:t,minimumValue:r}="boolean"==typeof e?{enable:e,minimumValue:0}:e;return r1(t?H1(n.value,r):n.value)}function sn(n,e){const t=n.x-e.x,r=n.y-e.y;return{dx:t,dy:r,distance:Math.sqrt(t**2+r**2)}}function d2(n,e){return sn(n,e).distance}function jc(n,e,t,r){return Ht.create(n.x*(t-r)/(t+r)+2*e.x*r/(t+r),n.y)}function Xr(n){var e,t,r,i;return{x:(null!==(t=null===(e=n.position)||void 0===e?void 0:e.x)&&void 0!==t?t:100*E1())*n.size.width/100,y:(null!==(i=null===(r=n.position)||void 0===r?void 0:r.y)&&void 0!==i?i:100*E1())*n.size.height/100}}function ga(n){var e,t;const r={x:void 0!==(null===(e=n.position)||void 0===e?void 0:e.x)?r1(n.position.x):void 0,y:void 0!==(null===(t=n.position)||void 0===t?void 0:t.y)?r1(n.position.y):void 0};return Xr({size:n.size,position:r})}function Y0(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}function yi(n,e,t,r,i,s){const o={bounced:!1};return e.min<r.min||e.min>r.max||e.max<r.min||e.max>r.max||(n.max>=t.min&&n.max<=(t.max+t.min)/2&&i>0||n.min<=t.max&&n.min>(t.max+t.min)/2&&i<0)&&(o.velocity=i*-s,o.bounced=!0),o}function _i(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function J4(n){if(function $c(){return!_i()&&typeof matchMedia<"u"}())return matchMedia(n)}function Mt(n,e){return n===e||e instanceof Array&&e.indexOf(n)>-1}function Ca(){return(Ca=(0,ne.Z)(function*(n,e){try{yield document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}})).apply(this,arguments)}function ba(n){return Math.floor(E1()*n.length)}function l4(n,e,t=!0){return n[void 0!==e&&t?e%n.length:ba(n)]}function u4(n,e,t,r,i){return function Ma(n,e,t,r){let i=!0;return(!r||"bottom"===r)&&(i=n.top<e.height+t.x),i&&(!r||"left"===r)&&(i=n.right>t.x),i&&(!r||"right"===r)&&(i=n.left<e.width+t.y),i&&(!r||"top"===r)&&(i=n.bottom>t.y),i}(ji(n,r??0),e,t,i)}function ji(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Vt(n,...e){for(const t of e){if(null==t)continue;if("object"!=typeof t){n=t;continue}const r=Array.isArray(t);!r||"object"==typeof n&&n&&Array.isArray(n)?!r&&("object"!=typeof n||!n||Array.isArray(n))&&(n={}):n=[];for(const i in t){if("__proto__"===i)continue;const o=t[i],d=n;d[i]="object"==typeof o&&Array.isArray(o)?o.map(m=>Vt(d[i],m)):Vt(d[i],o)}}return n}function f4(n,e){return!!wa(e,t=>t.enable&&Mt(n,t.mode))}function d4(n,e,t){Lt(e,r=>{r.enable&&Mt(n,r.mode)&&function es(n,e){Lt(n.selectors,r=>{e(r,n)})}(r,t)})}function Qr(n,e){if(e&&n)return wa(n,t=>function _a(n,e){const t=Lt(e,r=>n.matches(r));return t instanceof Array?t.some(r=>r):t}(e,t.selectors))}function ts(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Ht.create(vi(n.options.bounce.horizontal),vi(n.options.bounce.vertical))}}function Q0(n,e){const{x:t,y:r}=n.velocity.sub(e.velocity),[i,s]=[n.position,e.position],{dx:o,dy:u}=sn(s,i);if(t*o+r*u<0)return;const d=-Math.atan2(u,o),m=n.mass,y=e.mass,b=n.velocity.rotate(d),T=e.velocity.rotate(d),H=jc(b,T,m,y),A=jc(T,b,m,y),D=H.rotate(-d),R=A.rotate(-d);n.velocity.x=D.x*n.factor.x,n.velocity.y=D.y*n.factor.y,e.velocity.x=R.x*e.factor.x,e.velocity.y=R.y*e.factor.y}function J0(n,e){const i=ji(n.getPosition(),n.getRadius()),s=yi({min:i.left,max:i.right},{min:i.top,max:i.bottom},{min:e.left,max:e.right},{min:e.top,max:e.bottom},n.velocity.x,vi(n.options.bounce.horizontal));s.bounced&&(void 0!==s.velocity&&(n.velocity.x=s.velocity),void 0!==s.position&&(n.position.x=s.position));const o=yi({min:i.top,max:i.bottom},{min:i.left,max:i.right},{min:e.top,max:e.bottom},{min:e.left,max:e.right},n.velocity.y,vi(n.options.bounce.vertical));o.bounced&&(void 0!==o.velocity&&(n.velocity.y=o.velocity),void 0!==o.position&&(n.position.y=o.position))}function Lt(n,e){return n instanceof Array?n.map((t,r)=>e(t,r)):e(n,0)}function S2(n,e,t){return n instanceof Array?l4(n,e,t):n}function wa(n,e){return n instanceof Array?n.find((t,r)=>e(t,r)):e(n,0)?n:void 0}const to="random",no="mid",Ir=new Map;function ro(n){Ir.set(n.key,n)}function Ci(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Kn(n,e,t=!0){if(!n)return;const r="string"==typeof n?{value:n}:n;if("string"==typeof r.value)return ns(r.value,e,t);if(r.value instanceof Array)return Kn({value:l4(r.value,e,t)});for(const[,i]of Ir){const s=i.handleRangeColor(r);if(s)return s}}function ns(n,e,t=!0){if(!n)return;const r="string"==typeof n?{value:n}:n;if("string"==typeof r.value)return r.value===to?j():function x(n){return function Nn(n){for(const[,s]of Ir)if(n.startsWith(s.stringPrefix))return s.parseString(n);const t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,(s,o,u,d,m)=>o+o+u+u+d+d+(void 0!==m?m+m:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return i?{a:void 0!==i[4]?parseInt(i[4],16)/255:1,b:parseInt(i[3],16),g:parseInt(i[2],16),r:parseInt(i[1],16)}:void 0}(n)}(r.value);if(r.value instanceof Array)return ns({value:l4(r.value,e,t)});for(const[,i]of Ir){const s=i.handleColor(r);if(s)return s}}function Ot(n,e,t=!0){const r=Kn(n,e,t);return r?S3(r):void 0}function S3(n){const e=n.r/255,t=n.g/255,r=n.b/255,i=Math.max(e,t,r),s=Math.min(e,t,r),o={h:0,l:(i+s)/2,s:0};return i!==s&&(o.s=o.l<.5?(i-s)/(i+s):(i-s)/(2-i-s),o.h=e===i?(t-r)/(i-s):o.h=t===i?2+(r-e)/(i-s):4+(e-t)/(i-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function V(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(t.s){const r=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,i=2*t.l-r;e.r=Ci(i,r,t.h+1/3),e.g=Ci(i,r,t.h),e.b=Ci(i,r,t.h-1/3)}else e.b=t.l,e.g=t.l,e.r=t.l;return e.r=Math.floor(255*e.r),e.g=Math.floor(255*e.g),e.b=Math.floor(255*e.b),e}function j(n){const e=n??0;return{b:Math.floor(qt(H1(e,256))),g:Math.floor(qt(H1(e,256))),r:Math.floor(qt(H1(e,256)))}}function Q(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function fe(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function e1(n,e,t,r){let i=n,s=e;return void 0===i.r&&(i=V(n)),void 0===s.r&&(s=V(e)),{b:pa(i.b,s.b,t,r),g:pa(i.g,s.g,t,r),r:pa(i.r,s.r,t,r)}}function Xe(n,e,t){var r,i;if(t===to)return j();if(t!==no)return t;{const s=null!==(r=n.getFillColor())&&void 0!==r?r:n.getStrokeColor(),o=null!==(i=e?.getFillColor())&&void 0!==i?i:e?.getStrokeColor();if(s&&o&&e)return e1(s,o,n.getRadius(),e.getRadius());{const u=s??o;if(u)return V(u)}}}function f1(n,e,t){const r="string"==typeof n?n:n.value;return r===to?t?Kn({value:r}):e?to:no:r===no?no:Kn({value:r})}function F1(n){return void 0!==n?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function R1(n,e,t){const r={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(Pn(r.h,e.h,t),Pn(r.s,e.s,t),Pn(r.l,e.l,t)),r}function Pn(n,e,t){n.enable=e.enable,n.enable?(n.velocity=r1(e.speed)/100*t,n.decay=1-r1(e.decay),n.status="increasing",n.loops=0,n.maxLoops=r1(e.count),e.sync||(n.velocity*=E1(),n.value*=E1()),n.initialValue=n.value):n.velocity=0}function Ft(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function on(n,e){n.clearRect(0,0,e.width,e.height)}const so="generated",nl="touchend",g="pointermove",L="pointerleave";function i1(n,e,t){var r;const i=e[t];void 0!==i&&(n[t]=(null!==(r=n[t])&&void 0!==r?r:1)*i)}class w1{constructor(e){this.container=e,this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._mutationObserver=!_i()&&typeof MutationObserver<"u"?new MutationObserver(t=>{for(const r of t)"attributes"===r.type&&"style"===r.attributeName&&this._repairStyle()}):void 0}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,r=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&r?r.color?this._paintBase(Q(r.color,r.opacity)):r.image&&this._paintImage(r.image,r.opacity):this.draw(i=>{on(i,this.size)})}destroy(){var e,t;null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._generated?null===(t=this.element)||void 0===t||t.remove():this._resetOriginalStyle(),this.stop(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){if(this._context)return e(this._context)}drawParticle(e,t){var r;if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const s=e.getFillColor(),o=null!==(r=e.getStrokeColor())&&void 0!==r?r:s;let[u,d]=this._getPluginParticleColors(e);u||(u=s),d||(d=o),(u||d)&&this.draw(m=>{var y,b,T,H;const A=this.container.actualOptions,D=e.options.zIndex,R=(1-e.zIndexFactor)**D.opacityRate,G=null!==(T=null!==(y=e.bubble.opacity)&&void 0!==y?y:null===(b=e.opacity)||void 0===b?void 0:b.value)&&void 0!==T?T:1,ee=G*R,re=(null!==(H=e.strokeOpacity)&&void 0!==H?H:G)*R,le={},we={fill:u?fe(u,ee):void 0};we.stroke=d?fe(d,re):we.fill,this._applyPreDrawUpdaters(m,e,i,ee,we,le),function ei(n){var e,t,r,i,s;const{container:o,context:u,particle:d,delta:m,colorStyles:y,backgroundMask:b,composite:T,radius:H,opacity:A,shadow:D,transform:R}=n,G=d.getPosition(),$=d.rotation+(d.pathRotation?d.velocity.angle:0),ee_sin=Math.sin($),ee_cos=Math.cos($),re={a:ee_cos*(null!==(e=R.a)&&void 0!==e?e:1),b:ee_sin*(null!==(t=R.b)&&void 0!==t?t:1),c:-ee_sin*(null!==(r=R.c)&&void 0!==r?r:1),d:ee_cos*(null!==(i=R.d)&&void 0!==i?i:1)};u.setTransform(re.a,re.b,re.c,re.d,G.x,G.y),u.beginPath(),b&&(u.globalCompositeOperation=T);const le=d.shadowColor;D.enable&&le&&(u.shadowBlur=D.blur,u.shadowColor=Q(le),u.shadowOffsetX=D.offset.x,u.shadowOffsetY=D.offset.y),y.fill&&(u.fillStyle=y.fill);const we=null!==(s=d.strokeWidth)&&void 0!==s?s:0;u.lineWidth=we,y.stroke&&(u.strokeStyle=y.stroke),function z3(n,e,t,r,i,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o&&o.draw(e,t,r,i,s,n.retina.pixelRatio)}(o,u,d,H,A,m),we>0&&u.stroke(),d.close&&u.closePath(),d.fill&&u.fill(),function e8(n,e,t,r,i,s){if(!t.shape)return;const o=n.drawers.get(t.shape);o?.afterEffect&&o.afterEffect(e,t,r,i,s,n.retina.pixelRatio)}(o,u,d,H,A,m),u.globalCompositeOperation="source-over",u.setTransform(1,0,0,1,0,0)}({container:this.container,context:m,particle:e,delta:t,colorStyles:we,backgroundMask:A.backgroundMask.enable,composite:A.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**D.sizeRate,opacity:ee,shadow:e.options.shadow,transform:le}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,r){this.draw(i=>{!function b9(n,e,t,r){e.drawParticle&&e.drawParticle(n,t,r)}(i,e,t,r)})}drawPlugin(e,t){this.draw(r=>{!function tl(n,e,t){e.draw&&e.draw(n,t)}(r,e,t)})}init(){var e=this;return(0,ne.Z)(function*(){var t;e.resize(),e._initStyle(),e._initCover();try{yield e._initTrail()}catch(r){console.error(r)}e.initBackground(),e.element&&(null===(t=e._mutationObserver)||void 0===t||t.observe(e.element,{attributes:!0})),e.initUpdaters(),e.initPlugins(),e.paint()})()}initBackground(){const t=this.container.actualOptions.background,i=this.element?.style;if(i){if(t.color){const s=Kn(t.color);i.backgroundColor=s?Q(s,t.opacity):""}else i.backgroundColor="";i.backgroundImage=t.image||"",i.backgroundPosition=t.position||"",i.backgroundRepeat=t.repeat||"",i.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){var t,r;this._generated&&(null===(t=this.element)||void 0===t||t.remove()),this._generated=e.dataset&&so in e.dataset?"true"===e.dataset[so]:this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Vt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),null===(r=this._mutationObserver)||void 0===r||r.observe(this.element,{attributes:!0}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(on(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return;const e=this.container,t=e.retina.pixelRatio,r=e.canvas.size,i_width=this.element.offsetWidth*t,i_height=this.element.offsetHeight*t;if(i_height===r.height&&i_width===r.width&&i_height===this.element.height&&i_width===this.element.width)return;const s=Object.assign({},r);this.element.width=r.width=this.element.offsetWidth*t,this.element.height=r.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:r.width/s.width,height:r.height/s.height})}stop(){this.draw(e=>{on(e,this.size)})}windowResize(){var e=this;return(0,ne.Z)(function*(){if(!e.element)return;e.resize();const t=e.container,r=t.updateActualOptions();t.particles.setDensity(),e._applyResizePlugins(),r&&(yield t.refresh())})()}_applyPostDrawUpdaters(e){var t;for(const r of this._postDrawUpdaters)null===(t=r.afterDraw)||void 0===t||t.call(r,e)}_applyPreDrawUpdaters(e,t,r,i,s,o){var u;for(const d of this._preDrawUpdaters){if(d.getColorStyles){const{fill:m,stroke:y}=d.getColorStyles(t,e,r,i);m&&(s.fill=m),y&&(s.stroke=y)}if(d.getTransformValues){const m=d.getTransformValues(t);for(const y in m)i1(o,m,y)}null===(u=d.beforeDraw)||void 0===u||u.call(d,t)}}_applyResizePlugins(){for(const e of this._resizePlugins)e.resize&&e.resize()}_getPluginParticleColors(e){let t,r;for(const i of this._colorPlugins)if(!t&&i.particleFillColor&&(t=Ot(i.particleFillColor(e))),!r&&i.particleStrokeColor&&(r=Ot(i.particleStrokeColor(e))),t&&r)break;return[t,r]}_initCover(){const t=this.container.actualOptions.backgroundMask.cover,i=Kn(t.color);if(i){const s={r:i.r,g:i.g,b:i.b,a:t.opacity};this._coverColorStyle=Q(s,s.a)}}_initStyle(){const e=this.element,t=this.container.actualOptions;if(e){this._fullScreen?(this._originalStyle=Vt({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in t.style){if(!r||!t.style)continue;const i=t.style[r];i&&e.style.setProperty(r,i,"important")}}}_initTrail(){var e=this;return(0,ne.Z)(function*(){const t=e.container.actualOptions,r=t.particles.move.trail,i=r.fill;if(r.enable)if(i.color){const s=Kn(i.color);if(!s)return;const o=t.particles.move.trail;e._trailFill={color:Object.assign({},s),opacity:1/o.length}}else yield new Promise((s,o)=>{if(!i.image)return;const u=document.createElement("img");u.addEventListener("load",()=>{e._trailFill={image:u,opacity:1/r.length},s()}),u.addEventListener("error",d=>{o(d.error)}),u.src=i.image})})()}_paintBase(e){this.draw(t=>{!function io(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}(t,this.size,e)})}_paintImage(e,t){this.draw(r=>{!function Jr(n,e,t,r){t&&(n.globalAlpha=r,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}(r,this.size,e,t)})}_repairStyle(){var e,t;const r=this.element;r&&(null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._initStyle(),this.initBackground(),null===(t=this._mutationObserver)||void 0===t||t.observe(r,{attributes:!0}))}_resetOriginalStyle(){const e=this.element,t=this._originalStyle;e&&t&&(e.style.position=t.position,e.style.zIndex=t.zIndex,e.style.top=t.top,e.style.left=t.left,e.style.width=t.width,e.style.height=t.height)}_setFullScreenStyle(){const e=this.element;if(!e)return;const t="important";e.style.setProperty("position","fixed",t),e.style.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),t),e.style.setProperty("top","0",t),e.style.setProperty("left","0",t),e.style.setProperty("width","100%",t),e.style.setProperty("height","100%",t)}}function A1(n,e,t,r,i){if(r){let s={passive:!0};"boolean"==typeof i?s.capture=i:void 0!==i&&(s=i),n.addEventListener(e,t,s)}else n.removeEventListener(e,t,i)}class Yn{constructor(e){this.container=e,this.canPush=!0,this.handlers={mouseMove:t=>this.mouseTouchMove(t),touchStart:t=>this.mouseTouchMove(t),touchMove:t=>this.mouseTouchMove(t),touchEnd:()=>this.mouseTouchFinish(),mouseLeave:()=>this.mouseTouchFinish(),touchCancel:()=>this.mouseTouchFinish(),touchEndClick:t=>this.mouseTouchClick(t),mouseUp:t=>this.mouseTouchClick(t),mouseDown:()=>this.mouseDown(),visibilityChange:()=>this.handleVisibilityChange(),themeChange:t=>this.handleThemeChange(t),oldThemeChange:t=>this.handleThemeChange(t),resize:()=>this.handleWindowResize()}}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}doMouseTouchClick(e){const t=this.container,r=t.actualOptions;if(this.canPush){const i=t.interactivity.mouse,s=i.position;if(!s)return;i.clickPosition=Object.assign({},s),i.clickTime=(new Date).getTime(),Lt(r.interactivity.events.onClick.mode,u=>this.handleClickMode(u))}"touchend"===e.type&&setTimeout(()=>this.mouseTouchFinish(),500)}handleClickMode(e){this.container.handleClickMode(e)}handleThemeChange(e){const r=this.container,i=r.options,s=i.defaultThemes,o=e.matches?s.dark:s.light,u=i.themes.find(d=>d.name===o);u&&u.default.auto&&r.loadTheme(o)}handleVisibilityChange(){const e=this.container,t=e.actualOptions;this.mouseTouchFinish(),t.pauseOnBlur&&(document?.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}handleWindowResize(){var e=this;this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout((0,ne.Z)(function*(){var t;return null===(t=e.container.canvas)||void 0===t?void 0:t.windowResize()}),1e3*this.container.actualOptions.interactivity.events.resize.delay)}manageListeners(e){var t;const r=this.handlers,i=this.container,s=i.actualOptions,o=s.interactivity.detectsOn;let u=L;if("window"===o)i.interactivity.element=window,u="pointerout";else if("parent"===o&&i.canvas.element){const b=i.canvas.element;i.interactivity.element=null!==(t=b.parentElement)&&void 0!==t?t:b.parentNode}else i.interactivity.element=i.canvas.element;const d=J4("(prefers-color-scheme: dark)");d&&(void 0!==d.addEventListener?A1(d,"change",r.themeChange,e):void 0!==d.addListener&&(e?d.addListener(r.oldThemeChange):d.removeListener(r.oldThemeChange)));const m=i.interactivity.element;if(!m)return;const y=m;(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(A1(m,g,r.mouseMove,e),A1(m,"touchstart",r.touchStart,e),A1(m,"touchmove",r.touchMove,e),s.interactivity.events.onClick.enable?(A1(m,nl,r.touchEndClick,e),A1(m,"pointerup",r.mouseUp,e),A1(m,"pointerdown",r.mouseDown,e)):A1(m,nl,r.touchEnd,e),A1(m,u,r.mouseLeave,e),A1(m,"touchcancel",r.touchCancel,e)),i.canvas.element&&(i.canvas.element.style.pointerEvents=y===i.canvas.element?"initial":"none"),s.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!e?(i.canvas.element&&this.resizeObserver.unobserve(i.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&i.canvas.element&&(this.resizeObserver=new ResizeObserver(b=>{b.find(H=>H.target===i.canvas.element)&&this.handleWindowResize()}),this.resizeObserver.observe(i.canvas.element)):A1(window,"resize",r.resize,e)),document&&A1(document,"visibilitychange",r.visibilityChange,e,!1)}mouseDown(){const e=this.container.interactivity;if(e){const t=e.mouse;t.clicking=!0,t.downPosition=t.position}}mouseTouchClick(e){const t=this.container,r=t.actualOptions,i=t.interactivity.mouse;i.inside=!0;let s=!1;const o=i.position;if(o&&r.interactivity.events.onClick.enable){for(const[,u]of t.plugins)if(u.clickPositionValid&&(s=u.clickPositionValid(o),s))break;s||this.doMouseTouchClick(e),i.clicking=!1}}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=L,t.inside=!1,t.clicking=!1}mouseTouchMove(e){var t,r,i,s,o,u,d;const m=this.container,y=m.actualOptions;if(null===(t=m.interactivity)||void 0===t||!t.element)return;let b;m.interactivity.mouse.inside=!0;const T=m.canvas.element;if(e.type.startsWith("pointer")){this.canPush=!0;const A=e;if(m.interactivity.element===window){if(T){const D=T.getBoundingClientRect();b={x:A.clientX-D.left,y:A.clientY-D.top}}}else if("parent"===y.interactivity.detectsOn){const D=A.target,R=A.currentTarget,G=m.canvas.element;if(D&&R&&G){const $=D.getBoundingClientRect(),ee=R.getBoundingClientRect(),re=G.getBoundingClientRect();b={x:A.offsetX+2*$.left-(ee.left+re.left),y:A.offsetY+2*$.top-(ee.top+re.top)}}else b={x:null!==(r=A.offsetX)&&void 0!==r?r:A.clientX,y:null!==(i=A.offsetY)&&void 0!==i?i:A.clientY}}else A.target===m.canvas.element&&(b={x:null!==(s=A.offsetX)&&void 0!==s?s:A.clientX,y:null!==(o=A.offsetY)&&void 0!==o?o:A.clientY})}else{this.canPush="touchmove"!==e.type;const D=e.touches[e.touches.length-1],R=T?.getBoundingClientRect();b={x:D.clientX-(null!==(u=R?.left)&&void 0!==u?u:0),y:D.clientY-(null!==(d=R?.top)&&void 0!==d?d:0)}}const H=m.retina.pixelRatio;b&&(b.x*=H,b.y*=H),m.interactivity.mouse.position=b,m.interactivity.status=g}}class Zc{constructor(e){this.container=e}nextFrame(e){var t=this;return(0,ne.Z)(function*(){var r;try{const i=t.container;if(!i.smooth&&void 0!==i.lastFrameTime&&e<i.lastFrameTime+1e3/i.fpsLimit)return void i.draw(!1);null!==(r=i.lastFrameTime)&&void 0!==r||(i.lastFrameTime=e);const s=function T3(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}(e-i.lastFrameTime,i.fpsLimit,i.smooth);if(i.lifeTime+=s.value,i.lastFrameTime=e,s.value>1e3)return void i.draw(!1);if(yield i.particles.draw(s),i.duration>0&&i.lifeTime>i.duration)return void i.destroy();i.getAnimationStatus()&&i.draw(!1)}catch(i){console.error("tsParticles error in animation loop",i)}})()}}class h2{constructor(){this.value=""}static create(e,t){const r=new h2;return r.load(e),void 0!==t&&r.load("string"==typeof t||t instanceof Array?{value:t}:t),r}load(e){void 0!==e?.value&&(this.value=e.value)}}class oo{constructor(){this.color=new h2,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}class rl{constructor(){this.color=new h2,this.color.value="#fff",this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.opacity&&(this.opacity=e.opacity))}}class n8{constructor(){this.composite="destination-out",this.cover=new rl,this.enable=!1}load(e){if(e){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){const t=e.cover;this.cover.load(void 0!==t.color?t:{color:"string"==typeof e.cover?{color:e.cover}:e.cover})}void 0!==e.enable&&(this.enable=e.enable)}}}class Kc{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}class r8{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}class Sa{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Lt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Lt(e,t=>`#${t}`)}load(e){var t,r;if(!e)return;const i=null!==(r=null!==(t=e.ids)&&void 0!==t?t:e.elementId)&&void 0!==r?r:e.el;void 0!==i&&(this.ids=i),void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type)}}class Yc{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}class za{constructor(){this.enable=!1,this.mode=[],this.parallax=new Yc}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class Xc{constructor(){this.delay=.5,this.enable=!0}load(e){void 0!==e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.enable&&(this.enable=e.enable))}}class Qc{constructor(){this.onClick=new r8,this.onDiv=new Sa,this.onHover=new za,this.resize=new Xc}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var t,r,i;if(!e)return;this.onClick.load(null!==(t=e.onClick)&&void 0!==t?t:e.onclick);const s=null!==(r=e.onDiv)&&void 0!==r?r:e.ondiv;void 0!==s&&(this.onDiv=Lt(s,o=>{const u=new Sa;return u.load(o),u})),this.onHover.load(null!==(i=e.onHover)&&void 0!==i?i:e.onhover),"boolean"==typeof e.resize?this.resize.enable=e.resize:this.resize.load(e.resize)}}class i8{constructor(e,t){this._engine=e,this._container=t}load(e){if(e&&this._container){const t=this._engine.plugins.interactors.get(this._container);if(t)for(const r of t)r.loadModeOptions&&r.loadModeOptions(this,e)}}}class il{constructor(e,t){this.detectsOn="window",this.events=new Qc,this.modes=new i8(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var t;if(!e)return;const r=null!==(t=e.detectsOn)&&void 0!==t?t:e.detect_on;void 0!==r&&(this.detectsOn=r),this.events.load(e.events),this.modes.load(e.modes)}}class w9{load(e){var t,r;e&&(void 0!==e.position&&(this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(r=e.position.y)&&void 0!==r?r:50}),void 0!==e.options&&(this.options=Vt({},e.options)))}}class s8{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.mode&&(this.mode="screen"===e.mode?"screen":"canvas"),void 0!==e.options&&(this.options=Vt({},e.options)))}}class Xb{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class lm{constructor(){this.name="",this.default=new Xb}load(e){e&&(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=Vt({},e.options)))}}class S9{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.decay=0,this.sync=!0}load(e){e&&(void 0!==e.count&&(this.count=H1(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(this.offset=H1(e.offset)),void 0!==e.speed&&(this.speed=H1(e.speed)),void 0!==e.decay&&(this.decay=H1(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class Qb{constructor(){this.h=new S9,this.s=new S9,this.l=new S9}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Jc extends h2{constructor(){super(),this.animation=new Qb}static create(e,t){const r=new Jc;return r.load(e),void 0!==t&&r.load("string"==typeof t||t instanceof Array?{value:t}:t),r}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}class um{constructor(){this.speed=2}load(e){e&&void 0!==e.speed&&(this.speed=e.speed)}}class fm{constructor(){this.enable=!0,this.retries=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}class sl{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue))}}class ti{constructor(){this.random=new sl,this.value=0}load(e){e&&("boolean"==typeof e.random?this.random.enable=e.random:this.random.load(e.random),void 0!==e.value&&(this.value=H1(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class Ta extends ti{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class dm{constructor(){this.horizontal=new Ta,this.vertical=new Ta}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Jb{constructor(){this.absorb=new um,this.bounce=new dm,this.enable=!1,this.mode="bounce",this.overlap=new fm}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class MI{constructor(){this.offset=0,this.value=90}load(e){e&&(void 0!==e.offset&&(this.offset=H1(e.offset)),void 0!==e.value&&(this.value=H1(e.value)))}}class eM{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var t,r,i,s;if(!e)return;void 0!==e.distance&&(this.distance=H1(e.distance)),void 0!==e.enable&&(this.enable=e.enable);const o=null!==(r=null===(t=e.rotate)||void 0===t?void 0:t.x)&&void 0!==r?r:e.rotateX;void 0!==o&&(this.rotate.x=o);const u=null!==(s=null===(i=e.rotate)||void 0===i?void 0:i.y)&&void 0!==s?s:e.rotateY;void 0!==u&&(this.rotate.y=u)}}class z9{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.radius&&(this.radius=e.radius))}}class tM{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=H1(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=H1(e.maxSpeed)))}}class hm{constructor(){this.clamp=!0,this.delay=new ti,this.enable=!1,this.options={}}load(e){e&&(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Vt(this.options,e.options)))}}class ol{load(e){e&&(void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image))}}class T9{constructor(){this.enable=!1,this.length=10,this.fill=new ol}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),(void 0!==e.fill||void 0!==e.fillColor)&&this.fill.load(e.fill||{color:e.fillColor}),void 0!==e.length&&(this.length=e.length))}}class pm{constructor(){this.default="out"}load(e){var t,r,i,s;e&&(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(r=e.left)&&void 0!==r?r:e.default,this.right=null!==(i=e.right)&&void 0!==i?i:e.default,this.top=null!==(s=e.top)&&void 0!==s?s:e.default)}}class mm{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=H1(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),this.position=e.position?Vt({},e.position):void 0)}}class gm{constructor(){this.angle=new MI,this.attract=new eM,this.center=new z9,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new tM,this.path=new hm,this.outModes=new pm,this.random=!1,this.size=!1,this.speed=2,this.spin=new mm,this.straight=!1,this.trail=new T9,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){var t,r,i;if(!e)return;this.angle.load("number"==typeof e.angle?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),void 0!==e.decay&&(this.decay=H1(e.decay)),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance="number"==typeof e.distance?{horizontal:e.distance,vertical:e.distance}:Object.assign({},e.distance)),void 0!==e.drift&&(this.drift=H1(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const s=null!==(r=null!==(t=e.outModes)&&void 0!==t?t:e.outMode)&&void 0!==r?r:e.out_mode;void 0!==s&&this.outModes.load("object"==typeof s?s:{default:s}),this.path.load(null!==(i=e.path)&&void 0!==i?i:e.noise),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=H1(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}class ao{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.sync=!1}load(e){e&&(void 0!==e.count&&(this.count=H1(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=H1(e.speed)),void 0!==e.decay&&(this.decay=H1(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class nM extends ao{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var t;e&&(super.load(e),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.opacity_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class rM extends ti{constructor(){super(),this.animation=new nM,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(!e)return;super.load(e);const r=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==r&&(this.animation.load(r),this.value=H1(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class iM{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var t,r,i;if(!e)return;void 0!==e.enable&&(this.enable=e.enable);const s=null!==(r=null!==(t=e.width)&&void 0!==t?t:e.area)&&void 0!==r?r:e.value_area;void 0!==s&&(this.width=s);const o=null!==(i=e.height)&&void 0!==i?i:e.factor;void 0!==o&&(this.height=o)}}class sM{constructor(){this.density=new iM,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){var t;if(!e)return;this.density.load(e.density);const r=null!==(t=e.limit)&&void 0!==t?t:e.max;void 0!==r&&(this.limit=r),void 0!==e.value&&(this.value=e.value)}}class oM{constructor(){this.blur=0,this.color=new h2,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=h2.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}const x3="character",co="char",x9="image",E9="images",H9="polygon",V9="star";class aM{constructor(){this.options={},this.type="circle"}get character(){var e;return null!==(e=this.options[x3])&&void 0!==e?e:this.options[co]}set character(e){this.options[co]=this.options[x3]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){var e;return null!==(e=this.options[x9])&&void 0!==e?e:this.options[E9]}set image(e){this.options[E9]=this.options[x9]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){var e;return null!==(e=this.options[H9])&&void 0!==e?e:this.options[V9]}set polygon(e){this.options[V9]=this.options[H9]=e}get stroke(){return[]}set stroke(e){}load(e){var t,r,i;if(!e)return;const s=null!==(t=e.options)&&void 0!==t?t:e.custom;if(void 0!==s)for(const o in s){const u=s[o];u&&(this.options[o]=Vt(null!==(r=this.options[o])&&void 0!==r?r:{},u))}this.loadShape(e.character,x3,co,!0),this.loadShape(e.polygon,H9,V9,!1),this.loadShape(null!==(i=e.image)&&void 0!==i?i:e.images,x9,E9,!0),void 0!==e.type&&(this.type=e.type)}loadShape(e,t,r,i){var s,o;if(!e)return;const u=e instanceof Array,d=u?[]:{},y=u!==this.options[r]instanceof Array;u!==this.options[t]instanceof Array&&(this.options[t]=d),y&&i&&(this.options[r]=d),this.options[t]=Vt(null!==(s=this.options[t])&&void 0!==s?s:d,e),(!this.options[r]||i)&&(this.options[r]=Vt(null!==(o=this.options[r])&&void 0!==o?o:d,e))}}class cM extends ao{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var t;super.load(e),e&&(void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.size_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class vm extends ti{constructor(){super(),this.animation=new cM,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(super.load(e),!e)return;const r=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==r&&(this.animation.load(r),this.value=H1(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class ym{constructor(){this.width=0}load(e){e&&(void 0!==e.color&&(this.color=Jc.create(this.color,e.color)),void 0!==e.width&&(this.width=H1(e.width)),void 0!==e.opacity&&(this.opacity=H1(e.opacity)))}}class lM extends ti{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}class uM{constructor(e,t){this._engine=e,this._container=t,this.bounce=new dm,this.collisions=new Jb,this.color=new Jc,this.color.value="#fff",this.groups={},this.move=new gm,this.number=new sM,this.opacity=new rM,this.reduceDuplicates=!1,this.shadow=new oM,this.shape=new aM,this.size=new vm,this.stroke=new ym,this.zIndex=new lM}load(e){var t,r,i,s,o,u;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Jc.create(this.color,e.color)),void 0!==e.groups)for(const y in e.groups){const b=e.groups[y];void 0!==b&&(this.groups[y]=Vt(null!==(t=this.groups[y])&&void 0!==t?t:{},b))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const d=null!==(i=null===(r=e.move)||void 0===r?void 0:r.collisions)&&void 0!==i?i:null===(s=e.move)||void 0===s?void 0:s.bounce;void 0!==d&&(this.collisions.enable=d),this.collisions.load(e.collisions),void 0!==e.interactivity&&(this.interactivity=Vt({},e.interactivity));const m=null!==(o=e.stroke)&&void 0!==o?o:null===(u=e.shape)||void 0===u?void 0:u.stroke;if(m&&(this.stroke=Lt(m,y=>{const b=new ym;return b.load(y),b})),this._container){const y=this._engine.plugins.updaters.get(this._container);if(y)for(const T of y)T.loadOptions&&T.loadOptions(this,e);const b=this._engine.plugins.interactors.get(this._container);if(b)for(const T of b)T.loadParticlesOptions&&T.loadParticlesOptions(this,e)}}}function _m(n,...e){for(const t of e)n.load(t)}function e6(n,e,...t){const r=new uM(n,e);return _m(r,...t),r}class rs{constructor(e,t){this._engine=e,this._container=t,this.autoPlay=!0,this.background=new oo,this.backgroundMask=new n8,this.defaultThemes={},this.delay=0,this.fullScreen=new Kc,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new il(e,t),this.manualParticles=[],this.particles=e6(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var t,r,i,s,o;if(!e)return;void 0!==e.preset&&Lt(e.preset,b=>this._importPreset(b)),void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.delay&&(this.delay=H1(e.delay));const u=null!==(t=e.detectRetina)&&void 0!==t?t:e.retina_detect;void 0!==u&&(this.detectRetina=u),void 0!==e.duration&&(this.duration=H1(e.duration));const d=null!==(r=e.fpsLimit)&&void 0!==r?r:e.fps_limit;void 0!==d&&(this.fpsLimit=d),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);const m=null!==(i=e.fullScreen)&&void 0!==i?i:e.backgroundMode;"boolean"==typeof m?this.fullScreen.enable=m:this.fullScreen.load(m),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),void 0!==e.manualParticles&&(this.manualParticles=e.manualParticles.map(b=>{const T=new w9;return T.load(b),T})),this.particles.load(e.particles),this.style=Vt(this.style,e.style),this._engine.plugins.loadOptions(this,e),void 0!==e.smooth&&(this.smooth=e.smooth);const y=this._engine.plugins.interactors.get(this._container);if(y)for(const b of y)b.loadOptions&&b.loadOptions(this,e);if(void 0!==e.responsive)for(const b of e.responsive){const T=new s8;T.load(b),this.responsive.push(T)}if(this.responsive.sort((b,T)=>b.maxWidth-T.maxWidth),void 0!==e.themes)for(const b of e.themes){const T=this.themes.find(H=>H.name===b.name);if(T)T.load(b);else{const H=new lm;H.load(b),this.themes.push(H)}}this.defaultThemes.dark=null===(s=this._findDefaultTheme("dark"))||void 0===s?void 0:s.name,this.defaultThemes.light=null===(o=this._findDefaultTheme("light"))||void 0===o?void 0:o.name}setResponsive(e,t,r){this.load(r);const i=this.responsive.find(s=>"screen"===s.mode&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(i?.options),i?.maxWidth}setTheme(e){if(e){const t=this.themes.find(r=>r.name===e);t&&this.load(t.options)}else{const t=J4("(prefers-color-scheme: dark)"),i=this._findDefaultTheme(t&&t.matches?"dark":"light");i&&this.load(i.options)}}_findDefaultTheme(e){var t;return null!==(t=this.themes.find(r=>r.default.value&&r.default.mode===e))&&void 0!==t?t:this.themes.find(r=>r.default.value&&"any"===r.default.mode)}_importPreset(e){this.load(this._engine.plugins.getPreset(e))}}class o8{constructor(e,t){this.container=t,this._engine=e,this._interactors=this._engine.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){var t=this;return(0,ne.Z)(function*(){for(const r of t._externalInteractors)r.isEnabled()&&(yield r.interact(e))})()}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e)}e.init()}}particlesInteract(e,t){var r=this;return(0,ne.Z)(function*(){for(const i of r._externalInteractors)i.clear(e,t);for(const i of r._particleInteractors)i.isEnabled(e)&&(yield i.interact(e,t))})()}reset(e){var t=this;return(0,ne.Z)(function*(){for(const r of t._externalInteractors)r.isEnabled()&&(yield r.reset(e));for(const r of t._particleInteractors)r.isEnabled(e)&&(yield r.reset(e))})()}}const A9=n=>{Mt(n.outMode,n.checkModes)&&(n.coord>n.maxCoord-2*n.radius?n.setCb(-n.radius):n.coord<2*n.radius&&n.setCb(n.radius))};class Cm{constructor(e,t,r,i,s,o){this.container=r,this._engine=e,this.init(t,i,s,o)}destroy(e){var t;if(!this.unbreakable&&!this.destroyed){this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;for(const[,r]of this.container.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of this.container.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);null===(t=this.pathGenerator)||void 0===t||t.reset(this)}}draw(e){const t=this.container;for(const[,r]of t.plugins)t.canvas.drawParticlePlugin(r,this,e);t.canvas.drawParticle(this,e)}getFillColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:F1(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return null!==(e=this.bubble.radius)&&void 0!==e?e:this.size.value}getStrokeColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:F1(this.strokeColor))}init(e,t,r,i){var s,o,u,d,m,y,b,T,H;const A=this.container,D=this._engine;this.id=e,this.group=i,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const R=A.retina.pixelRatio,$=e6(this._engine,A,A.actualOptions.particles),ee=$.shape.type,{reduceDuplicates:re}=$;this.shape=S2(ee,this.id,re);const le=$.shape;if(r&&r.shape&&r.shape.type){const zr=S2(r.shape.type,this.id,re);zr&&(this.shape=zr,le.load(r.shape))}this.shapeData=this._loadShapeData(le,re),$.load(r),$.load(null===(s=this.shapeData)||void 0===s?void 0:s.particles),this.interactivity=new il(D,A),this.interactivity.load(A.actualOptions.interactivity),this.interactivity.load($.interactivity),this.fill=null!==(u=null===(o=this.shapeData)||void 0===o?void 0:o.fill)&&void 0!==u?u:this.fill,this.close=null!==(m=null===(d=this.shapeData)||void 0===d?void 0:d.close)&&void 0!==m?m:this.close,this.options=$;const we=this.options.move.path;this.pathDelay=1e3*vi(we.delay),we.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(we.generator),this.pathGenerator&&A.addPath(we.generator,this.pathGenerator)&&this.pathGenerator.init(A));const We=r1(this.options.zIndex.value);A.retina.initParticle(this);const Ke=this.options.size,Ue=Ke.value,_t=Ke.animation;if(this.size={enable:Ke.animation.enable,value:r1(Ke.value)*A.retina.pixelRatio,max:Zn(Ue)*R,min:Ar(Ue)*R,loops:0,maxLoops:r1(Ke.animation.count)},_t.enable)switch(this.size.status="increasing",this.size.decay=1-r1(_t.decay),_t.startValue){case"min":this.size.value=this.size.min,this.size.status="increasing";break;case"random":this.size.value=qt(this.size),this.size.status=E1()>=.5?"increasing":"decreasing";break;default:this.size.value=this.size.max,this.size.status="decreasing"}this.size.initialValue=this.size.value,this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this.position=this._calcPosition(A,t,qn(We,0,A.zLayers)),this.initialPosition=this.position.copy();const At=A.canvas.size,y2=Object.assign({},this.options.move.center),J2="percent"===y2.mode;switch(this.moveCenter={x:y2.x*(J2?At.width/100:1),y:y2.y*(J2?At.height/100:1),radius:null!==(y=this.options.move.center.radius)&&void 0!==y?y:0,mode:null!==(b=this.options.move.center.mode)&&void 0!==b?b:"percent"},this.direction=function Z0(n,e,t){if("number"==typeof n)return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return E1()*Math.PI*2}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside"}this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-r1(this.options.move.decay),this.offset=Ht.origin;const V2=A.particles;V2.needsSort=V2.needsSort||V2.lastZIndex<this.position.z,V2.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/A.zLayers,this.sides=24;let ft=A.drawers.get(this.shape);ft||(ft=this._engine.plugins.getShapeDrawer(this.shape),ft&&A.drawers.set(this.shape,ft)),ft?.loadShape&&ft?.loadShape(this);const pn=ft?.getSidesCount;pn&&(this.sides=pn(this)),this.spawning=!1,this.shadowColor=Kn(this.options.shadow.color);for(const Ut of A.particles.updaters)Ut.init(this);for(const Ut of A.particles.movers)null===(T=Ut.init)||void 0===T||T.call(Ut,this);ft?.particleInit&&ft.particleInit(A,this);for(const[,Ut]of A.plugins)null===(H=Ut.particleCreated)||void 0===H||H.call(Ut,this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=t.height+e&&this.position.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const t of this.container.particles.updaters)null===(e=t.reset)||void 0===e||e.call(t,this)}_calcPosition(e,t,r,i=0){var s,o,u,d;for(const[,R]of e.plugins){const G=void 0!==R.particlePosition?R.particlePosition(t,this):void 0;if(void 0!==G)return f2.create(G.x,G.y,r)}const y=function va(n){var e,t,r,i;return{x:null!==(t=null===(e=n.position)||void 0===e?void 0:e.x)&&void 0!==t?t:E1()*n.size.width,y:null!==(i=null===(r=n.position)||void 0===r?void 0:r.y)&&void 0!==i?i:E1()*n.size.height}}({size:e.canvas.size,position:t}),b=f2.create(y.x,y.y,r),T=this.getRadius(),H=this.options.move.outModes,A=R=>{A9({outMode:R,checkModes:["bounce","bounce-horizontal"],coord:b.x,maxCoord:e.canvas.size.width,setCb:G=>b.x+=G,radius:T})},D=R=>{A9({outMode:R,checkModes:["bounce","bounce-vertical"],coord:b.y,maxCoord:e.canvas.size.height,setCb:G=>b.y+=G,radius:T})};return A(null!==(s=H.left)&&void 0!==s?s:H.default),A(null!==(o=H.right)&&void 0!==o?o:H.default),D(null!==(u=H.top)&&void 0!==u?u:H.default),D(null!==(d=H.bottom)&&void 0!==d?d:H.default),this._checkOverlap(b,i)?this._calcPosition(e,void 0,r,i+1):b}_calculateVelocity(){const t=function ma(n){const e=Ht.origin;return e.length=1,e.angle=n,e}(this.direction).copy(),r=this.options.move;if("inside"===r.direction||"outside"===r.direction)return t;const i=Math.PI/180*r1(r.angle.value),s=Math.PI/180*r1(r.angle.offset),o={left:s-i/2,right:s+i/2};return r.straight||(t.angle+=qt(H1(o.left,o.right))),r.random&&"number"==typeof r.speed&&(t.length*=E1()),t}_checkOverlap(e,t=0){const r=this.options.collisions,i=this.getRadius();if(!r.enable)return!1;const s=r.overlap;if(s.enable)return!1;const o=s.retries;if(o>=0&&t>o)throw new Error("Particle is overlapping and can't be placed");let u=!1;for(const d of this.container.particles.array)if(d2(e,d.position)<i+d.getRadius()){u=!0;break}return u}_getRollColor(e){var t;if(!e||!this.roll||!this.backColor&&!this.roll.alter)return e;const i=this.roll.horizontal?Math.PI/2:0;return Math.floor(((null!==(t=this.roll.angle)&&void 0!==t?t:0)+i)/(Math.PI/(this.roll.horizontal&&this.roll.vertical?2:1)))%2?this.backColor?this.backColor:this.roll.alter?function t8(n,e,t){return{h:n.h,s:n.s,l:n.l+("darken"===e?-1:1)*t}}(e,this.roll.alter.type,this.roll.alter.value):e:e}_loadShapeData(e,t){const r=e.options[this.shape];if(r)return Vt({},S2(r,this.id,t))}}class bm{constructor(e,t){this.position=e,this.particle=t}}class fM{constructor(e,t){this.position={x:e,y:t}}}class bi extends fM{constructor(e,t,r){super(e,t),this.radius=r}contains(e){return d2(e,this.position)<=this.radius}intersects(e){const t=e,r=e,i=this.position,s=e.position,o_x=Math.abs(s.x-i.x),o_y=Math.abs(s.y-i.y),u=this.radius;if(void 0!==r.radius)return u+r.radius>Math.sqrt(o_x**2+o_y**2);if(void 0!==t.size){const d=t.size.width,m=t.size.height;return Math.pow(o_x-d,2)+Math.pow(o_y-m,2)<=u**2||o_x<=u+d&&o_y<=u+m||o_x<=d||o_y<=m}return!1}}class Mi extends fM{constructor(e,t,r,i){super(e,t),this.size={height:i,width:r}}contains(e){const i=this.position;return e.x>=i.x&&e.x<=i.x+this.size.width&&e.y>=i.y&&e.y<=i.y+this.size.height}intersects(e){e instanceof bi&&e.intersects(this);const i=this.position,s=e.position,o=e instanceof Mi?e.size:{width:0,height:0};return s.x<i.x+this.size.width&&s.x+o.width>i.x&&s.y<i.y+this.size.height&&s.y+o.height>i.y}}class is{constructor(e,t){this.rectangle=e,this.capacity=t,this._points=[],this._divided=!1}insert(e){var t,r,i,s,o;return!!this.rectangle.contains(e.position)&&(this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this.subdivide(),null!==(o=(null===(t=this._NE)||void 0===t?void 0:t.insert(e))||(null===(r=this._NW)||void 0===r?void 0:r.insert(e))||(null===(i=this._SE)||void 0===i?void 0:i.insert(e))||(null===(s=this._SW)||void 0===s?void 0:s.insert(e)))&&void 0!==o&&o))}query(e,t,r){var i,s,o,u;const d=r??[];if(!e.intersects(this.rectangle))return[];for(const m of this._points)!e.contains(m.position)&&d2(e.position,m.position)>m.particle.getRadius()&&(!t||t(m.particle))||d.push(m.particle);return this._divided&&(null===(i=this._NE)||void 0===i||i.query(e,t,d),null===(s=this._NW)||void 0===s||s.query(e,t,d),null===(o=this._SE)||void 0===o||o.query(e,t,d),null===(u=this._SW)||void 0===u||u.query(e,t,d)),d}queryCircle(e,t,r){return this.query(new bi(e.x,e.y,t),r)}queryRectangle(e,t,r){return this.query(new Mi(e.x,e.y,t.width,t.height),r)}subdivide(){const e=this.rectangle.position.x,t=this.rectangle.position.y,r=this.rectangle.size.width,i=this.rectangle.size.height,s=this.capacity;this._NE=new is(new Mi(e,t,r/2,i/2),s),this._NW=new is(new Mi(e+r/2,t,r/2,i/2),s),this._SE=new is(new Mi(e,t+i/2,r/2,i/2),s),this._SW=new is(new Mi(e+r/2,t+i/2,r/2,i/2),s),this._divided=!0}}class I9{constructor(e,t){this.container=t,this._engine=e,this.nextId=0,this.array=[],this.zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.interactionManager=new o8(this._engine,t);const r=this.container.canvas.size;this.quadTree=new is(new Mi(-r.width/4,-r.height/4,3*r.width/2,3*r.height/2),4),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this.array.length}addManualParticles(){const e=this.container,t=e.actualOptions;for(const r of t.manualParticles)this.addParticle((n={size:e.canvas.size,position:r.position}).position&&void 0!==n.position.x&&void 0!==n.position.y?{x:n.position.x*n.size.width/100,y:n.position.y*n.size.height/100}:void 0,r.options);var n}addParticle(e,t,r,i){const u=this.container.actualOptions.particles.number.limit;if(u>0){const d=this.count+1-u;d>0&&this.removeQuantity(d)}return this._pushParticle(e,t,r,i)}clear(){this.array=[],this.zArray=[]}destroy(){this.array=[],this.zArray=[],this.movers=[],this.updaters=[]}draw(e){var t=this;return(0,ne.Z)(function*(){const r=t.container,i=t.container.canvas.size;t.quadTree=new is(new Mi(-i.width/4,-i.height/4,3*i.width/2,3*i.height/2),4),r.canvas.clear(),yield t.update(e),t.needsSort&&(t.zArray.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),t.lastZIndex=t.zArray[t.zArray.length-1].position.z,t.needsSort=!1);for(const[,s]of r.plugins)r.canvas.drawPlugin(s,e);for(const s of t.zArray)s.draw(e)})()}handleClickMode(e){this.interactionManager.handleClickMode(e)}init(){var e;const t=this.container,r=t.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(t,!0),this.interactionManager.init();for(const[,s]of t.plugins)if(void 0!==s.particlesInitialization&&(i=s.particlesInitialization()),i)break;this.interactionManager.init();for(const[,s]of t.pathGenerators)s.init(t);if(this.addManualParticles(),!i){for(const s in r.particles.groups){const o=r.particles.groups[s];for(let u=this.count,d=0;d<(null===(e=o.number)||void 0===e?void 0:e.value)&&u<r.particles.number.value;u++,d++)this.addParticle(void 0,o,s)}for(let s=this.count;s<r.particles.number.value;s++)this.addParticle()}}push(e,t,r,i){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(t?.position,r,i);this.pushing=!1}redraw(){var e=this;return(0,ne.Z)(function*(){e.clear(),e.init(),yield e.draw({value:0,factor:0})})()}remove(e,t,r){this.removeAt(this.array.indexOf(e),void 0,t,r)}removeAt(e,t=1,r,i){if(e<0||e>this.count)return;let s=0;for(let o=e;s<t&&o<this.count;o++){const u=this.array[o];if(!u||u.group!==r)continue;u.destroy(i),this.array.splice(o--,1);const d=this.zArray.indexOf(u);this.zArray.splice(d,1),this.pool.push(u),s++,this._engine.dispatchEvent("particleRemoved",{container:this.container,data:{particle:u}})}}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this.container.actualOptions;for(const t in e.particles.groups)this._applyDensity(e.particles.groups[t],0,t);this._applyDensity(e.particles,e.manualParticles.length)}update(e){var t=this;return(0,ne.Z)(function*(){var r,i;const s=t.container,o=[];for(const[,u]of s.pathGenerators)u.update();for(const[,u]of s.plugins)null===(r=u.update)||void 0===r||r.call(u,e);for(const u of t.array){const d=s.canvas.resizeFactor;d&&!u.ignoresResizeRatio&&(u.position.x*=d.width,u.position.y*=d.height,u.initialPosition.x*=d.width,u.initialPosition.y*=d.height),u.ignoresResizeRatio=!1,yield t.interactionManager.reset(u);for(const[,m]of t.container.plugins){if(u.destroyed)break;null===(i=m.particleUpdate)||void 0===i||i.call(m,u,e)}for(const m of t.movers)m.isEnabled(u)&&m.move(u,e);u.destroyed?o.push(u):t.quadTree.insert(new bm(u.getPosition(),u))}for(const u of o)t.remove(u);yield t.interactionManager.externalInteract(e);for(const u of t.array){for(const d of t.updaters)d.update(u,e);!u.destroyed&&!u.spawning&&(yield t.interactionManager.particlesInteract(u,e))}delete s.canvas.resizeFactor})()}_applyDensity(e,t,r){var i;if(null===(i=e.number.density)||void 0===i||!i.enable)return;const s=e.number,o=this._initDensityFactor(s.density),u=s.value,m=Math.min(u,s.limit>0?s.limit:u)*o+t,y=Math.min(this.count,this.array.filter(b=>b.group===r).length);this.limit=s.limit*o,y<m?this.push(Math.abs(m-y),void 0,e,r):y>m&&this.removeQuantity(y-m,r)}_initDensityFactor(e){const t=this.container;if(!t.canvas.element||!e.enable)return 1;const r=t.canvas.element;return r.width*r.height/(e.factor*t.retina.pixelRatio**2*e.area)}_pushParticle(e,t,r,i){try{let s=this.pool.pop();s?s.init(this.nextId,e,t,r):s=new Cm(this._engine,this.nextId,this.container,e,t,r);let o=!0;return i&&(o=i(s)),o?(this.array.push(s),this.zArray.push(s),this.nextId++,this._engine.dispatchEvent("particleAdded",{container:this.container,data:{particle:s}}),s):void 0}catch(s){return void console.warn(`error adding particle: ${s}`)}}}class wI{constructor(e){this.container=e}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||_i()?1:window.devicePixelRatio,this.reduceFactor=1;const r=this.pixelRatio;if(e.canvas.element){const s=e.canvas.element;e.canvas.size.width=s.offsetWidth*r,e.canvas.size.height=s.offsetHeight*r}const i=t.particles;this.attractDistance=r1(i.move.attract.distance)*r,this.sizeAnimationSpeed=r1(i.size.animation.speed)*r,this.maxSpeed=r1(i.move.gravity.maxSpeed)*r}initParticle(e){const t=e.options,r=this.pixelRatio,i=t.move.distance,s=e.retina;s.attractDistance=r1(t.move.attract.distance)*r,s.moveDrift=r1(t.move.drift)*r,s.moveSpeed=r1(t.move.speed)*r,s.sizeAnimationSpeed=r1(t.size.animation.speed)*r;const o=s.maxDistance;o.horizontal=void 0!==i.horizontal?i.horizontal*r:void 0,o.vertical=void 0!==i.vertical?i.vertical*r:void 0,s.maxSpeed=r1(t.move.gravity.maxSpeed)*r}}function R2(n){return n&&!n.destroyed}function t6(n,e,...t){const r=new rs(n,e);return _m(r,...t),r}const Mm={generate:n=>{const e=n.velocity.copy();return e.angle+=e.length*Math.PI/180,e},init:()=>{},update:()=>{},reset:()=>{}};class hM{constructor(e,t,r){this.id=t,this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this.duration=0,this.lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new wI(this),this.canvas=new w1(this),this.particles=new I9(this._engine,this),this.frameManager=new Zc(this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=t6(this._engine,this),this.actualOptions=t6(this._engine,this),this._eventListeners=new Yn(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(i=>this._intersectionManager(i))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!R2(this))return;const t=this.interactivity.element;if(!t)return;const r=(b,T,H)=>{if(!R2(this))return;const A=this.retina.pixelRatio,R=this.particles.quadTree.queryCircle({x:T.x*A,y:T.y*A},H*A);e(b,R)};let m=!1,y=!1;t.addEventListener("click",b=>{R2(this)&&r(b,{x:b.offsetX||b.clientX,y:b.offsetY||b.clientY},1)}),t.addEventListener("touchstart",()=>{R2(this)&&(m=!0,y=!1)}),t.addEventListener("touchmove",()=>{R2(this)&&(y=!0)}),t.addEventListener("touchend",b=>{if(R2(this)){if(m&&!y){let H=b.touches[b.touches.length-1];if(!H&&(H=b.changedTouches[b.changedTouches.length-1],!H))return;const A=this.canvas.element,D=A?A.getBoundingClientRect():void 0;r(b,{x:H.clientX-(D?D.left:0),y:H.clientY-(D?D.top:0)},Math.max(H.radiusX,H.radiusY))}m=!1,y=!1}}),t.addEventListener("touchcancel",()=>{R2(this)&&(m=!1,y=!1)})}addPath(e,t,r=!1){return!(!R2(this)||!r&&this.pathGenerators.has(e)||(this.pathGenerators.set(e,t??Mm),0))}destroy(){if(!R2(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,r]of this.drawers)r.destroy&&r.destroy(this);for(const r of this.drawers.keys())this.drawers.delete(r);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(r=>r===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){var t=this;if(!R2(this))return;let r=e;this._drawAnimationFrame=function J5(){return _i()?n=>setTimeout(n):n=>(requestAnimationFrame||setTimeout)(n)}()(function(){var i=(0,ne.Z)(function*(s){r&&(t.lastFrameTime=void 0,r=!1),yield t.frameManager.nextFrame(s)});return function(s){return i.apply(this,arguments)}}())}exportConfiguration(){return JSON.stringify(this.actualOptions,(e,t)=>{if("_engine"!==e&&"_container"!==e)return t},2)}exportImage(e,t,r){const i=this.canvas.element;i&&i.toBlob(e,t??"image/png",r)}exportImg(e){this.exportImage(e)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&R2(this)}handleClickMode(e){if(R2(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}init(){var e=this;return(0,ne.Z)(function*(){if(!R2(e))return;const t=e._engine.plugins.getSupportedShapes();for(const i of t){const s=e._engine.plugins.getShapeDrawer(i);s&&e.drawers.set(i,s)}e._options=t6(e._engine,e,e._initialSourceOptions,e.sourceOptions),e.actualOptions=t6(e._engine,e,e._options);const r=e._engine.plugins.getAvailablePlugins(e);for(const[i,s]of r)e.plugins.set(i,s);e.retina.init(),yield e.canvas.init(),e.updateActualOptions(),e.canvas.initBackground(),e.canvas.resize(),e.zLayers=e.actualOptions.zLayers,e.duration=1e3*r1(e.actualOptions.duration),e._delay=1e3*r1(e.actualOptions.delay),e.lifeTime=0,e.fpsLimit=e.actualOptions.fpsLimit>0?e.actualOptions.fpsLimit:120,e.smooth=e.actualOptions.smooth;for(const[,i]of e.drawers)i.init&&(yield i.init(e));for(const[,i]of e.plugins)i.init&&(yield i.init());e._engine.dispatchEvent("containerInit",{container:e}),e.particles.init(),e.particles.setDensity();for(const[,i]of e.plugins)i.particlesSetup&&i.particlesSetup();e._engine.dispatchEvent("particlesSetup",{container:e})})()}loadTheme(e){var t=this;return(0,ne.Z)(function*(){R2(t)&&(t._currentTheme=e,yield t.refresh())})()}pause(){if(R2(this)&&(void 0!==this._drawAnimationFrame&&(function el(){return _i()?n=>clearTimeout(n):n=>(cancelAnimationFrame||clearTimeout)(n)}()(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!R2(this))return;const t=this._paused||e;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),t)for(const[,r]of this.plugins)r.play&&r.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}else this._firstStart=!1}refresh(){var e=this;return(0,ne.Z)(function*(){if(R2(e))return e.stop(),e.start()})()}reset(){var e=this;return(0,ne.Z)(function*(){if(R2(e))return e._options=t6(e._engine,e),e.refresh()})()}setNoise(e,t,r){R2(this)&&this.setPath(e,t,r)}setPath(e,t,r){if(!e||!R2(this))return;const i=Object.assign({},Mm);if("function"==typeof e)i.generate=e,t&&(i.init=t),r&&(i.update=r);else{const s=i;i.generate=e.generate||s.generate,i.init=e.init||s.init,i.update=e.update||s.update}this.addPath("default",i,!0)}start(){var e=this;return(0,ne.Z)(function*(){!R2(e)||e.started||(yield e.init(),e.started=!0,yield new Promise(t=>{e._delayTimeout=setTimeout((0,ne.Z)(function*(){e._eventListeners.addListeners(),e.interactivity.element instanceof HTMLElement&&e._intersectionObserver&&e._intersectionObserver.observe(e.interactivity.element);for(const[,r]of e.plugins)r.start&&(yield r.start());e._engine.dispatchEvent("containerStarted",{container:e}),e.play(),t()}),e._delay)}))})()}stop(){if(R2(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth!==e&&(this.responsiveMaxWidth=e,!0)}_intersectionManager(e){if(R2(this)&&this.actualOptions.pauseOnOutsideViewport)for(const t of e)t.target===this.interactivity.element&&(t.isIntersecting?this.play:this.pause)()}}function al(){return(al=(0,ne.Z)(function*(n,e){const t=S2(n,e);if(!t)return;const r=yield fetch(t);if(r.ok)return r.json();console.error(`tsParticles - Error ${r.status} while retrieving config file`)})).apply(this,arguments)}class cl{constructor(e){this._engine=e}load(e,t,r){const i={index:r,remote:!1};return"string"==typeof e?i.tagId=e:i.options=e,"number"==typeof t?i.index=t:i.options=t??i.options,this.loadOptions(i)}loadJSON(e,t,r){var i=this;return(0,ne.Z)(function*(){let s,o;return"number"==typeof t||void 0===t?s=e:(o=e,s=t),i.loadRemoteOptions({tagId:o,url:s,index:r,remote:!0})})()}loadOptions(e){var t=this;return(0,ne.Z)(function*(){var r,i,s;const o=null!==(r=e.tagId)&&void 0!==r?r:`tsparticles${Math.floor(1e4*E1())}`,{index:u,url:d,remote:m}=e,y=m?yield function pM(n,e){return al.apply(this,arguments)}(d,u):e.options;let b=null!==(i=e.element)&&void 0!==i?i:document.getElementById(o);b||(b=document.createElement("div"),b.id=o,null===(s=document.querySelector("body"))||void 0===s||s.append(b));const T=S2(y,u),H=t._engine.dom(),A=H.findIndex(G=>G.id===o);if(A>=0){const G=t._engine.domItem(A);G&&!G.destroyed&&(G.destroy(),H.splice(A,1))}let D;if("canvas"===b.tagName.toLowerCase())D=b,D.dataset[so]="false";else{const G=b.getElementsByTagName("canvas");G.length?(D=G[0],D.dataset[so]="false"):(D=document.createElement("canvas"),D.dataset[so]="true",b.appendChild(D))}D.style.width||(D.style.width="100%"),D.style.height||(D.style.height="100%");const R=new hM(t._engine,o,T);return A>=0?H.splice(A,0,R):H.push(R),R.canvas.loadCanvas(D),yield R.start(),R})()}loadRemoteOptions(e){var t=this;return(0,ne.Z)(function*(){return t.loadOptions(e)})()}set(e,t,r,i){var s=this;return(0,ne.Z)(function*(){const o={index:i,remote:!1};return"string"==typeof e?o.tagId=e:o.element=e,t instanceof HTMLElement?o.element=t:o.options=t,"number"==typeof r?o.index=r:o.options=r??o.options,s.loadOptions(o)})()}setJSON(e,t,r,i){var s=this;return(0,ne.Z)(function*(){let o,u,d,m;return e instanceof HTMLElement?(m=e,o=t,d=r):(u=e,m=t,o=r,d=i),s.loadRemoteOptions({tagId:u,url:o,index:d,element:m,remote:!0})})()}}function ll(n,e,t,r=!1){let i=e.get(n);return(!i||r)&&(i=[...t.values()].map(s=>s(n)),e.set(n,i)),i}class L9{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){this.getPathGenerator(e)||this.pathGenerators.set(e,t)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}addPreset(e,t,r=!1){(r||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){Lt(e,r=>{this.getShapeDrawer(r)||this.drawers.set(r,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const r of this.plugins)r.needsPlugin(e.actualOptions)&&t.set(r.id,r.getPlugin(e));return t}getInteractors(e,t=!1){return ll(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return ll(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return ll(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const r of this.plugins)r.loadOptions(e,t)}loadParticlesOptions(e,t,...r){const i=this.updaters.get(e);if(i)for(const s of i)s.loadOptions&&s.loadOptions(t,...r)}}class E3{constructor(e){this.container=e,this.type="external"}}class ul{constructor(e){this.container=e,this.type="particles"}}const Sm=new class wm{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var t;const i=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==i.r)return i}handleRangeColor(e){var t;const i=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==i.r)return{r:r1(i.r),g:r1(i.g),b:r1(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const r=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return r?{a:r.length>4?Y0(r[5]):1,b:parseInt(r[3],10),g:parseInt(r[2],10),r:parseInt(r[1],10)}:void 0}},gM=new class q2{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var t;const i=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==i.h&&void 0!==i.s&&void 0!==i.l)return V(i)}handleRangeColor(e){var t;const i=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==i.h&&void 0!==i.l)return V({h:r1(i.h),l:r1(i.l),s:r1(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const r=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return r?function k(n){const e=V(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}({a:r.length>4?Y0(r[5]):1,h:parseInt(r[1],10),l:parseInt(r[3],10),s:parseInt(r[2],10)}):void 0}};ro(Sm),ro(gM);const fl=new class mM{constructor(){this._domArray=[],this._eventDispatcher=new hr,this._initialized=!1,this._loader=new cl(this),this.plugins=new L9(this)}get version(){return"2.9.3"}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}addInteractor(e,t){var r=this;return(0,ne.Z)(function*(){r.plugins.addInteractor(e,t),yield r.refresh()})()}addMover(e,t){var r=this;return(0,ne.Z)(function*(){r.plugins.addParticleMover(e,t),yield r.refresh()})()}addParticleUpdater(e,t){var r=this;return(0,ne.Z)(function*(){r.plugins.addParticleUpdater(e,t),yield r.refresh()})()}addPathGenerator(e,t){var r=this;return(0,ne.Z)(function*(){r.plugins.addPathGenerator(e,t),yield r.refresh()})()}addPlugin(e){var t=this;return(0,ne.Z)(function*(){t.plugins.addPlugin(e),yield t.refresh()})()}addPreset(e,t,r=!1){var i=this;return(0,ne.Z)(function*(){i.plugins.addPreset(e,t,r),yield i.refresh()})()}addShape(e,t,r,i,s){var o=this;return(0,ne.Z)(function*(){let u;u="function"==typeof t?{afterEffect:i,destroy:s,draw:t,init:r}:t,o.plugins.addShapeDrawer(e,u),yield o.refresh()})()}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),r=t[e];if(r&&!r.destroyed)return r;t.splice(e,1)}init(){this._initialized||(this._initialized=!0)}load(e,t){var r=this;return(0,ne.Z)(function*(){return r._loader.load(e,t)})()}loadFromArray(e,t,r){var i=this;return(0,ne.Z)(function*(){return i._loader.load(e,t,r)})()}loadJSON(e,t,r){var i=this;return(0,ne.Z)(function*(){return i._loader.loadJSON(e,t,r)})()}refresh(){var e=this;return(0,ne.Z)(function*(){for(const t of e.dom())yield t.refresh()})()}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}set(e,t,r){var i=this;return(0,ne.Z)(function*(){return i._loader.set(e,t,r)})()}setJSON(e,t,r,i){var s=this;return(0,ne.Z)(function*(){return s._loader.setJSON(e,t,r,i)})()}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const r of t)r.addClickHandler(e)}};fl.init();let D9=(()=>{class n{constructor(t){this.platformId=t,this.particlesLoaded=new h.vpe,this.destroy$=new $2.x,this.id="tsparticles"}ngAfterViewInit(){$3(this.platformId)||(0,Et.D)(this.particlesInit?this.particlesInit(fl):Promise.resolve()).pipe((0,jt.z)(()=>this.url?fl.loadJSON(this.id,this.url):this.options?fl.load(this.id,this.options):(console.error("You must specify options or url to load tsParticles"),dr.E)),function ha(n){return(0,$t.e)((e,t)=>{(0,a4.Xf)(n).subscribe((0,rn.x)(t,()=>t.complete(),c4.Z)),!t.closed&&e.subscribe(t)})}(this.destroy$)).subscribe(r=>{this.container=r,this.particlesLoaded.emit(r)})}ngOnDestroy(){this.container?.destroy(),this.destroy$.next()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Lbi))},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-particles"]],inputs:{options:"options",url:"url",id:"id",particlesInit:"particlesInit"},outputs:{particlesLoaded:"particlesLoaded"},decls:1,vars:1,consts:[[3,"id"]],template:function(t,r){1&t&&h._UZ(0,"div",0),2&t&&h.Q6J("id",r.id)},encapsulation:2}),n})(),zm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();var a8=F(7669);function D1(...n){const e=(0,a8.yG)(n);return(0,Et.D)(n,e)}class Lr extends $2.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const c8=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var p4=F(9751);const{isArray:Tm}=Array,{getPrototypeOf:vM,prototype:yM,keys:xm}=Object;function P9(n){if(1===n.length){const e=n[0];if(Tm(e))return{args:e,keys:null};if(function k9(n){return n&&"object"==typeof n&&vM(n)===yM}(e)){const t=xm(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var R9=F(4671),X1=F(4004);const{isArray:_M}=Array;function F9(n){return(0,X1.U)(e=>function O9(n,e){return _M(e)?n(...e):n(e)}(n,e))}function B9(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var xa=F(9672);function Em(...n){const e=(0,a8.yG)(n),t=(0,a8.jO)(n),{args:r,keys:i}=P9(n);if(0===r.length)return(0,Et.D)([],e);const s=new p4.y(function U9(n,e,t=R9.y){return r=>{l8(e,()=>{const{length:i}=n,s=new Array(i);let o=i,u=i;for(let d=0;d<i;d++)l8(e,()=>{const m=(0,Et.D)(n[d],e);let y=!1;m.subscribe((0,rn.x)(r,b=>{s[d]=b,y||(y=!0,u--),u||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>B9(i,o):R9.y));return t?s.pipe(F9(t)):s}function l8(n,e,t){n?(0,xa.f)(t,n,e):e()}var u8=F(8189);function n6(...n){return function G9(){return(0,u8.J)(1)}()((0,Et.D)(n,(0,a8.yG)(n)))}function lo(n){return new p4.y(e=>{(0,a4.Xf)(n()).subscribe(e)})}var Hm=F(9635),f8=F(576);function d8(n,e){const t=(0,f8.m)(n)?n:()=>n,r=i=>i.error(t());return new p4.y(e?i=>e.schedule(r,0,i):r)}var r6=F(727);function dl(){return(0,$t.e)((n,e)=>{let t=null;n._refCount++;const r=(0,rn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ea extends p4.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,$t.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new r6.w0;const t=this.getSubject();e.add(this.source.subscribe((0,rn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=r6.w0.EMPTY)}return e}refCount(){return dl()(this)}}function kn(n,e){return(0,$t.e)((t,r)=>{let i=null,s=0,o=!1;const u=()=>o&&!i&&r.complete();t.subscribe((0,rn.x)(r,d=>{i?.unsubscribe();let m=0;const y=s++;(0,a4.Xf)(n(d,y)).subscribe(i=(0,rn.x)(r,b=>r.next(e?e(d,b,y,m++):b),()=>{i=null,u()}))},()=>{o=!0,u()}))})}function i6(n){return n<=0?()=>dr.E:(0,$t.e)((e,t)=>{let r=0;e.subscribe((0,rn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $i(n,e){return(0,$t.e)((t,r)=>{let i=0;t.subscribe((0,rn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}function hl(n){return(0,$t.e)((e,t)=>{let r=!1;e.subscribe((0,rn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function W9(n=bM){return(0,$t.e)((e,t)=>{let r=!1;e.subscribe((0,rn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bM(){return new c8}function m4(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((i,s)=>n(i,s,r)):R9.y,i6(1),t?hl(e):W9(()=>new c8))}function Ha(n,e){return(0,f8.m)(e)?(0,jt.z)(n,e,1):(0,jt.z)(n,1)}var pr=F(8505);function qi(n){return(0,$t.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,rn.x)(t,void 0,void 0,o=>{s=(0,a4.Xf)(n(o,qi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Va(n,e){return(0,$t.e)(function MM(n,e,t,r,i){return(s,o)=>{let u=t,d=e,m=0;s.subscribe((0,rn.x)(o,y=>{const b=m++;d=u?n(d,y,b):(u=!0,y),r&&o.next(d)},i&&(()=>{u&&o.next(d),o.complete()})))}}(n,e,arguments.length>=2,!0))}function Aa(n){return n<=0?()=>dr.E:(0,$t.e)((e,t)=>{let r=[];e.subscribe((0,rn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((i,s)=>n(i,s,r)):R9.y,Aa(1),t?hl(e):W9(()=>new c8))}function j9(n){return(0,$t.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const et="primary",s6=Symbol("RouteTitle");class Im{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uo(n){return new Im(n)}function $9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],u=n[s];if(o.startsWith(":"))i[o.substring(1)]=u;else if(o!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!o6(n[i],e[i]))return!1;return!0}function o6(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Lm(n){return Array.prototype.concat.apply([],n)}function Dm(n){return n.length>0?n[n.length-1]:null}function Xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ss(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Et.D)(Promise.resolve(n)):D1(n)}const h8=!1,zM={exact:function Nm(n,e,t){if(!La(n.segments,e.segments)||!Z9(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Nm(n.children[r],e.children[r],t))return!1;return!0},subset:xM},Ia={exact:function TM(n,e){return Zi(n,e)},subset:function TI(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>o6(n[t],e[t]))},ignored:()=>!0};function g4(n,e,t){return zM[t.paths](n.root,e.root,t.matrixParams)&&Ia[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xM(n,e,t){return q9(n,e,e.segments,t)}function q9(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!La(i,t)||e.hasChildren()||!Z9(i,t,r))}if(n.segments.length===t.length){if(!La(n.segments,t)||!Z9(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!xM(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(La(n.segments,i)&&Z9(n.segments,i,r)&&n.children[et])&&q9(n.children[et],e,s,r)}}function Z9(n,e,t){return e.every((r,i)=>Ia[t](n[i].parameters,r.parameters))}class os{constructor(e=new ct([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uo(this.queryParams)),this._queryParamMap}toString(){return km.serialize(this)}}class ct{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pl(this)}}class p8{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uo(this.parameters)),this._parameterMap}toString(){return Z1(this)}}function La(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new K9},providedIn:"root"}),n})();class K9{parse(e){const t=new AM(e);return new os(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${m8(e.root,!0)}`,r=function Um(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ml(t)}=${ml(i)}`).join("&"):`${ml(t)}=${ml(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Om(n){return encodeURI(n)}(e.fragment)}`:""}`}}const km=new K9;function pl(n){return n.segments.map(e=>Z1(e)).join("/")}function m8(n,e){if(!n.hasChildren())return pl(n);if(e){const t=n.children[et]?m8(n.children[et],!1):"",r=[];return Xn(n.children,(i,s)=>{s!==et&&r.push(`${s}:${m8(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function EM(n,e){let t=[];return Xn(n.children,(r,i)=>{i===et&&(t=t.concat(e(r,i)))}),Xn(n.children,(r,i)=>{i!==et&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===et?[m8(n.children[et],!1)]:[`${i}:${m8(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[et]?`${pl(n)}/${t[0]}`:`${pl(n)}/(${t.join("//")})`}}function Rm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ml(n){return Rm(n).replace(/%3B/gi,";")}function Y9(n){return Rm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gl(n){return decodeURIComponent(n)}function Fm(n){return gl(n.replace(/\+/g,"%20"))}function Z1(n){return`${Y9(n.path)}${function Bm(n){return Object.keys(n).map(e=>`;${Y9(e)}=${Y9(n[e])}`).join("")}(n.parameters)}`}const Gm=/^[^\/()?;=#]+/;function vl(n){const e=n.match(Gm);return e?e[0]:""}const HM=/^[^=?&#]+/,VM=/^[^&#]+/;class AM{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[et]=new ct(e,t)),r}parseSegment(){const e=vl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,h8);return this.capture(e),new p8(gl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=vl(this.remaining);i&&(r=i,this.capture(r))}e[gl(t)]=gl(r)}parseQueryParam(e){const t=function Wm(n){const e=n.match(HM);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function jm(n){const e=n.match(VM);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Fm(t),s=Fm(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,h8);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=et);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[et]:new ct([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,h8)}}function X9(n){return n.segments.length>0?new ct([],{[et]:n}):n}function Q9(n){const e={};for(const r of Object.keys(n.children)){const s=Q9(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function $m(n){if(1===n.numberOfChildren&&n.children[et]){const e=n.children[et];return new ct(n.segments.concat(e.segments),e.children)}return n}(new ct(n.segments,e))}function fo(n){return n instanceof os}const as=!1;function IM(n,e,t,r,i){if(0===t.length)return g8(e.root,e.root,e.root,r,i);const s=function LM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new J9(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return Xn(s.outlets,(d,m)=>{u[m]="string"==typeof d?d.split("/"):d}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((u,d)=>{0==d&&"."===u||(0==d&&""===u?t=!0:".."===u?e++:""!=u&&i.push(u))}),i):[...i,s]},[]);return new J9(t,e,r)}(t);return s.toRoot()?g8(e.root,e.root,new ct([],{}),r,i):function o(d){const m=function DM(n,e,t,r){if(n.isAbsolute)return new a6(e.root,!0,0);if(-1===r)return new a6(t,t===e.root,0);return function ef(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new h.vHH(4005,as&&"Invalid number of '../'");i=r.segments.length}return new a6(r,!1,i-s)}(t,r+(Cl(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,d),y=m.processChildren?Da(m.segmentGroup,m.index,s.commands):tf(m.segmentGroup,m.index,s.commands);return g8(e.root,m.segmentGroup,y,r,i)}(n.snapshot?._lastPathIndex)}function Cl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bl(n){return"object"==typeof n&&null!=n&&n.outlets}function g8(n,e,t,r,i){let o,s={};r&&Xn(r,(d,m)=>{s[m]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),o=n===e?t:qm(n,e,t);const u=X9(Q9(o));return new os(u,s,i)}function qm(n,e,t){const r={};return Xn(n.children,(i,s)=>{r[s]=i===e?t:qm(i,e,t)}),new ct(n.segments,r)}class J9{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cl(r[0]))throw new h.vHH(4003,as&&"Root segment cannot have matrix parameters");const i=r.find(bl);if(i&&i!==Dm(r))throw new h.vHH(4004,as&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a6{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tf(n,e,t){if(n||(n=new ct([],{})),0===n.segments.length&&n.hasChildren())return Da(n,e,t);const r=function NM(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],u=t[r];if(bl(u))break;const d=`${u}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===d)break;if(d&&m&&"object"==typeof m&&void 0===m.outlets){if(!Km(d,m,o))return s;r+=2}else{if(!Km(d,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ct(n.segments.slice(0,r.pathIndex),{});return s.children[et]=new ct(n.segments.slice(r.pathIndex),n.children),Da(s,0,i)}return r.match&&0===i.length?new ct(n.segments,{}):r.match&&!n.hasChildren()?nf(n,e,t):r.match?Da(n,0,i):nf(n,e,t)}function Da(n,e,t){if(0===t.length)return new ct(n.segments,{});{const r=function Ml(n){return bl(n[0])?n[0].outlets:{[et]:n}}(t),i={};if(!r[et]&&n.children[et]&&1===n.numberOfChildren&&0===n.children[et].segments.length){const s=Da(n.children[et],e,t);return new ct(n.segments,s.children)}return Xn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tf(n.children[o],e,s))}),Xn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ct(n.segments,i)}}function nf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(bl(s)){const d=PM(s.outlets);return new ct(r,d)}if(0===i&&Cl(t[0])){r.push(new p8(n.segments[e].path,Zm(t[0]))),i++;continue}const o=bl(s)?s.outlets[et]:`${s}`,u=i<t.length-1?t[i+1]:null;o&&u&&Cl(u)?(r.push(new p8(o,Zm(u))),i+=2):(r.push(new p8(o,{})),i++)}return new ct(r,{})}function PM(n){const e={};return Xn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=nf(new ct([],{}),0,t))}),e}function Zm(n){const e={};return Xn(n,(t,r)=>e[r]=`${t}`),e}function Km(n,e,t){return n==t.path&&Zi(e,t.parameters)}const l6="imperative";class v4{constructor(e,t){this.id=e,this.url=t}}class wl extends v4{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ho extends v4{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class u6 extends v4{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rf extends v4{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class v8 extends v4{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kM extends v4{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EI extends v4{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f6 extends v4{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ym extends v4{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RM extends v4{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OM{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FM{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sf{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h6{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Qm=(()=>{class n{createUrlTree(t,r,i,s,o,u){return IM(t||r.root,i,s,o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),lf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return Qm.\u0275fac(e)},providedIn:"root"}),n})();class Tl{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xl(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=xl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=y8(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return y8(e,this._root).map(t=>t.value)}}function xl(n,e){if(n===e.value)return e;for(const t of e.children){const r=xl(n,t);if(r)return r}return null}function y8(n,e){if(n===e.value)return[e];for(const t of e.children){const r=y8(n,t);if(r.length)return r.unshift(e),r}return[]}class cs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function p6(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uf extends Tl{constructor(e,t){super(e),this.snapshot=t,ff(this,e)}toString(){return this.snapshot.toString()}}function Jm(n,e){const t=function eg(n,e){const o=new mr([],{},{},"",{},et,e,null,n.root,-1,{});return new ng("",new cs(o,[]))}(n,e),r=new Lr([new p8("",{})]),i=new Lr({}),s=new Lr({}),o=new Lr({}),u=new Lr(""),d=new Na(r,i,o,u,s,et,e,t.root);return d.snapshot=t.root,new uf(new cs(d,[]),t)}class Na{constructor(e,t,r,i,s,o,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=u,this.title=this.data?.pipe((0,X1.U)(m=>m[s6]))??D1(void 0),this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,X1.U)(e=>uo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,X1.U)(e=>uo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tg(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function BM(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mr{get title(){return this.data?.[s6]}constructor(e,t,r,i,s,o,u,d,m,y,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=u,this.routeConfig=d,this._urlSegment=m,this._lastPathIndex=y,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ng extends Tl{constructor(e,t){super(t),this.url=e,ff(this,t)}toString(){return UM(this._root)}}function ff(n,e){e.value._routerState=n,e.children.forEach(t=>ff(n,t))}function UM(n){const e=n.children.length>0?` { ${n.children.map(UM).join(", ")} } `:"";return`${n.value}${e}`}function _8(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zi(e.params,t.params)||n.params.next(t.params),function SM(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function El(n,e){const t=Zi(n.params,e.params)&&function Pm(n,e){return La(n,e)&&n.every((t,r)=>Zi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||El(n.parent,e.parent))}function C8(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function WM(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return C8(n,r,i);return C8(n,r)})}(n,e,t);return new cs(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(u=>C8(n,u)),o}}const r=function rg(n){return new Na(new Lr(n.url),new Lr(n.params),new Lr(n.queryParams),new Lr(n.fragment),new Lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>C8(n,s));return new cs(r,i)}}const df="ngNavigationCancelingError";function ig(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Hl(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Hl(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[df]=!0,r.cancellationCode=e,t&&(r.url=t),r}function sg(n){return og(n)&&fo(n.url)}function og(n){return n&&n[df]}class jM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new b8,this.attachRef=null}}let b8=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jM,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vl=!1;let Ki=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(b8),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,Vl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,Vl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,Vl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,Vl);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new hf(t,u,i.injector);if(r&&function $M(n){return!!n.resolveComponentFactory}(r)){const m=r.resolveComponentFactory(o);this.activated=i.createComponent(m,i.length,d)}else this.activated=i.createComponent(o,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class hf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Na?this.route:e===b8?this.childContexts:this.parent.get(e,t)}}let pf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[Ki],encapsulation:2}),n})();function mf(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function m6(n){const e=n.children&&n.children.map(m6),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==et&&(t.component=pf),t}function H3(n){return n.outlet||et}function Ll(n,e){const t=n.filter(r=>H3(r)===e);return t.push(...n.filter(r=>H3(r)!==e)),t}function Dl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_8(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=p6(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Xn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=p6(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=p6(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=p6(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Sl(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(_8(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(u.contexts),o.attachRef=u.componentRef,o.route=u.route.value,o.outlet&&o.outlet.attach(u.componentRef,u.route.value),_8(u.route.value),this.activateChildRoutes(e,null,o.children)}else{const u=Dl(i.snapshot),d=u?.get(h._Vd)??null;o.attachRef=null,o.route=i,o.resolver=d,o.injector=u,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class vf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class M8{constructor(e,t){this.component=e,this.route=t}}function yf(n,e,t){const r=n._root;return po(r,e?e._root:null,t,[r.value])}function us(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function po(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=p6(e);return n.children.forEach(o=>{(function w8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const d=function ZM(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!La(n.url,e.url);case"pathParamsOrQueryParamsChange":return!La(n.url,e.url)||!Zi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!El(n,e)||!Zi(n.queryParams,e.queryParams);default:return!El(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new vf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),po(n,e,s.component?u?u.children:null:t,r,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new M8(u.outlet.component,o))}else o&&g6(e,u,i),i.canActivateChecks.push(new vf(r)),po(n,null,s.component?u?u.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Xn(s,(o,u)=>g6(o,t.getContext(u),i)),i}function g6(n,e,t){const r=p6(n),i=n.value;Xn(r,(s,o)=>{g6(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new M8(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function v6(n){return"function"==typeof n}function _f(n){return n instanceof c8||"EmptyError"===n?.name}const Nl=Symbol("INITIAL_VALUE");function y6(){return kn(n=>Em(n.map(e=>e.pipe(i6(1),function CM(...n){const e=(0,a8.yG)(n);return(0,$t.e)((t,r)=>{(e?n6(n,t,e):n6(n,t)).subscribe(r)})}(Nl)))).pipe((0,X1.U)(e=>{for(const t of e)if(!0!==t){if(t===Nl)return Nl;if(!1===t||t instanceof os)return t}return!0}),$i(e=>e!==Nl),i6(1)))}function fg(n){return(0,Hm.z)((0,pr.b)(e=>{if(fo(e))throw ig(0,e)}),(0,X1.U)(e=>!0===e))}const Mf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wf(n,e,t,r,i){const s=Pl(n,e,t);return s.matched?function ow(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?D1(i.map(o=>{const u=us(o,n);return ss(function QM(n){return n&&v6(n.canMatch)}(u)?u.canMatch(e,t):n.runInContext(()=>u(e,t)))})).pipe(y6(),fg()):D1(!0)}(r=mf(e,r),e,t).pipe((0,X1.U)(o=>!0===o?s:{...Mf})):D1(s)}function Pl(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Mf}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||$9)(t,n,e);if(!i)return{...Mf};const s={};Xn(i.posParams,(u,d)=>{s[d]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kl(n,e,t,r){if(t.length>0&&function NI(n,e,t){return t.some(r=>Ol(n,e,r)&&H3(r)!==et)}(n,t,r)){const s=new ct(e,function dg(n,e,t,r){const i={};i[et]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&H3(s)!==et){const o=new ct([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[H3(s)]=o}return i}(n,e,r,new ct(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function Rl(n,e,t){return t.some(r=>Ol(n,e,r))}(n,t,r)){const s=new ct(n.segments,function DI(n,e,t,r,i){const s={};for(const o of r)if(Ol(n,t,o)&&!i[H3(o)]){const u=new ct([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,s[H3(o)]=u}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ct(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Ol(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function hg(n,e,t,r){return!!(H3(n)===r||r!==et&&Ol(e,t,n))&&("**"===n.path||Pl(e,n,t).matched)}function Fl(n,e,t){return 0===e.length&&!n.children[t]}const Bl=!1;class wi{constructor(e){this.segmentGroup=e||null}}class _6{constructor(e){this.urlTree=e}}function an(n){return d8(new wi(n))}function mo(n){return d8(new _6(n))}class C6{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=kl(this.urlTree.root,[],[],this.config).segmentGroup,t=new ct(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,et).pipe((0,X1.U)(s=>this.createUrlTree(Q9(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qi(s=>{if(s instanceof _6)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof wi?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,et).pipe((0,X1.U)(i=>this.createUrlTree(Q9(i),e.queryParams,e.fragment))).pipe(qi(i=>{throw i instanceof wi?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,Bl)}createUrlTree(e,t,r){const i=X9(e);return new os(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,X1.U)(s=>new ct([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Et.D)(i).pipe(Ha(s=>{const o=r.children[s],u=Ll(t,s);return this.expandSegmentGroup(e,u,o,s).pipe((0,X1.U)(d=>({segment:d,outlet:s})))}),Va((s,o)=>(s[o.outlet]=o.segment,s),{}),Vm())}expandSegment(e,t,r,i,s,o){return(0,Et.D)(r).pipe(Ha(u=>this.expandSegmentAgainstRoute(e,t,r,u,i,s,o).pipe(qi(m=>{if(m instanceof wi)return D1(null);throw m}))),m4(u=>!!u),qi((u,d)=>{if(_f(u))return Fl(t,i,s)?D1(new ct([],{})):an(t);throw u}))}expandSegmentAgainstRoute(e,t,r,i,s,o,u){return hg(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):an(t):an(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mo(s):this.lineralizeSegments(r,s).pipe((0,jt.z)(o=>{const u=new ct(o,{});return this.expandSegment(e,u,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:u,consumedSegments:d,remainingSegments:m,positionalParamSegments:y}=Pl(t,i,s);if(!u)return an(t);const b=this.applyRedirectCommands(d,i.redirectTo,y);return i.redirectTo.startsWith("/")?mo(b):this.lineralizeSegments(i,b).pipe((0,jt.z)(T=>this.expandSegment(e,t,r,T.concat(m),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=mf(r,e),r.loadChildren?(r._loadedRoutes?D1({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,X1.U)(u=>(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,new ct(i,{})))):D1(new ct(i,{}))):wf(t,r,i,e).pipe(kn(({matched:o,consumedSegments:u,remainingSegments:d})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe((0,jt.z)(y=>{const b=y.injector??e,T=y.routes,{segmentGroup:H,slicedSegments:A}=kl(t,u,d,T),D=new ct(H.segments,H.children);if(0===A.length&&D.hasChildren())return this.expandChildren(b,T,D).pipe((0,X1.U)(ee=>new ct(u,ee)));if(0===T.length&&0===A.length)return D1(new ct(u,{}));const R=H3(r)===s;return this.expandSegment(b,D,T,A,R?et:s,!0).pipe((0,X1.U)($=>new ct(u.concat($.segments),$.children)))})):an(t)))}getChildConfig(e,t,r){return t.children?D1({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?D1({routes:t._loadedRoutes,injector:t._loadedInjector}):function sw(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?D1(!0):D1(i.map(o=>{const u=us(o,n);return ss(function YM(n){return n&&v6(n.canLoad)}(u)?u.canLoad(e,t):n.runInContext(()=>u(e,t)))})).pipe(y6(),fg())}(e,t,r).pipe((0,jt.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,pr.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Yi(n){return d8(Hl(Bl,3))}())):D1({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return D1(r);if(i.numberOfChildren>1||!i.children[et])return e.redirectTo,d8(new h.vHH(4e3,Bl));i=i.children[et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new os(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const u=i.substring(1);r[s]=t[u]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Xn(t.children,(u,d)=>{o[d]=this.createSegmentGroup(e,u,r,i)}),new ct(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,Bl);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class M6{}class z6{constructor(e,t,r,i,s,o,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=u}recognize(){const e=kl(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,et).pipe((0,X1.U)(t=>{if(null===t)return null;const r=new mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new cs(r,t),s=new ng(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=tg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Et.D)(Object.keys(r.children)).pipe(Ha(i=>{const s=r.children[i],o=Ll(t,i);return this.processSegmentGroup(e,o,s,i)}),Va((i,s)=>i&&s?(i.push(...s),i):null),function Am(n,e=!1){return(0,$t.e)((t,r)=>{let i=0;t.subscribe((0,rn.x)(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),hl(null),Vm(),(0,X1.U)(i=>{if(null===i)return null;const s=zf(i);return function T6(n){n.sort((e,t)=>e.value.outlet===et?-1:t.value.outlet===et?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,Et.D)(t).pipe(Ha(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),m4(o=>!!o),qi(o=>{if(_f(o))return Fl(r,i,s)?D1([]):D1(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!hg(t,r,i,s))return D1(null);let o;if("**"===t.path){const u=i.length>0?Dm(i).parameters:{},d=xf(r)+i.length;o=D1({snapshot:new mr(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ef(t),H3(t),t.component??t._loadedComponent??null,t,Tf(r),d,Hf(t)),consumedSegments:[],remainingSegments:[]})}else o=wf(r,t,i,e).pipe((0,X1.U)(({matched:u,consumedSegments:d,remainingSegments:m,parameters:y})=>{if(!u)return null;const b=xf(r)+d.length;return{snapshot:new mr(d,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ef(t),H3(t),t.component??t._loadedComponent??null,t,Tf(r),b,Hf(t)),consumedSegments:d,remainingSegments:m}}));return o.pipe(kn(u=>{if(null===u)return D1(null);const{snapshot:d,consumedSegments:m,remainingSegments:y}=u;e=t._injector??e;const b=t._loadedInjector??e,T=function x6(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:A}=kl(r,m,y,T.filter(R=>void 0===R.redirectTo));if(0===A.length&&H.hasChildren())return this.processChildren(b,T,H).pipe((0,X1.U)(R=>null===R?null:[new cs(d,R)]));if(0===T.length&&0===A.length)return D1([new cs(d,[])]);const D=H3(t)===s;return this.processSegment(b,T,H,A,D?et:s).pipe((0,X1.U)(R=>null===R?null:[new cs(d,R)]))}))}}function pg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function zf(n){const e=[],t=new Set;for(const r of n){if(!pg(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=zf(r.children);e.push(new cs(r.value,i))}return e.filter(r=>!t.has(r))}function Tf(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xf(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ef(n){return n.data||{}}function Hf(n){return n.resolve||{}}function Gl(n){return"string"==typeof n.title||null===n.title}function z8(n){return kn(e=>{const t=n(e);return t?(0,Et.D)(t).pipe((0,X1.U)(()=>e)):D1(e)})}const fs=new h.OlP("ROUTES");let E6=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return D1(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ss(t.loadComponent()).pipe((0,X1.U)(_g),(0,pr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),j9(()=>{this.componentLoaders.delete(t)})),i=new Ea(r,()=>new $2.x).pipe(dl());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return D1({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,X1.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(r);let d,m,y=!1;Array.isArray(u)?m=u:(d=u.create(t).injector,m=Lm(d.get(fs,[],h.XFs.Self|h.XFs.Optional)));return{routes:m.map(m6),injector:d}}),j9(()=>{this.childrenLoaders.delete(r)})),o=new Ea(s,()=>new $2.x).pipe(dl());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ss(t()).pipe((0,X1.U)(_g),(0,jt.z)(r=>r instanceof h.YKP||Array.isArray(r)?D1(r):(0,Et.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _g(n){return function Vf(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let V6=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $2.x,this.configLoader=(0,h.f3M)(E6),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Dr),this.rootContexts=(0,h.f3M)(b8),this.navigationId=0,this.afterPreactivation=()=>D1(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new OM(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Xm(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:l6,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(r=>0!==r.id),(0,X1.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),kn(r=>{let i=!1,s=!1;return D1(r).pipe((0,pr.b)(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kn(o=>{const u=t.browserUrlTree.toString(),d=!t.navigated||o.extractedUrl.toString()!==u||u!==t.currentUrlTree.toString();if(!d&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new rf(o.id,t.serializeUrl(r.rawUrl),y,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),dr.E}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Af(o.source)&&(t.browserUrlTree=o.extractedUrl),D1(o).pipe(kn(y=>{const b=this.transitions?.getValue();return this.events.next(new wl(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?dr.E:Promise.resolve(y)}),function b6(n,e,t,r){return kn(i=>function Sf(n,e,t,r,i){return new C6(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,X1.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,pr.b)(y=>{this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects},r.urlAfterRedirects=y.urlAfterRedirects}),function gg(n,e,t,r,i){return(0,jt.z)(s=>function S6(n,e,t,r,i,s,o="emptyOnly"){return new z6(n,e,t,r,i,o,s).recognize().pipe(kn(u=>null===u?function w6(n){return new p4.y(e=>e.error(n))}(new M6):D1(u)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,X1.U)(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,pr.b)(y=>{if(r.targetSnapshot=y.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!y.extras.skipLocationChange){const T=t.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);t.setBrowserUrl(T,y)}t.browserUrlTree=y.urlAfterRedirects}const b=new kM(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:y,extractedUrl:b,source:T,restoredState:H,extras:A}=o,D=new wl(y,this.urlSerializer.serialize(b),T,H);this.events.next(D);const R=Jm(b,this.rootComponentType).snapshot;return D1(r={...o,targetSnapshot:R,urlAfterRedirects:b,extras:{...A,skipLocationChange:!1,replaceUrl:!1}})}{const y="";return this.events.next(new rf(o.id,t.serializeUrl(r.extractedUrl),y,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),dr.E}}),(0,pr.b)(o=>{const u=new EI(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(u)}),(0,X1.U)(o=>r={...o,guards:yf(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function ew(n,e){return(0,jt.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?D1({...t,guardsResult:!0}):function ug(n,e,t,r){return(0,Et.D)(n).pipe((0,jt.z)(i=>function iw(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?D1(s.map(u=>{const d=Dl(e)??i,m=us(u,d);return ss(function II(n){return n&&v6(n.canDeactivate)}(m)?m.canDeactivate(n,e,t,r):d.runInContext(()=>m(n,e,t,r))).pipe(m4())})).pipe(y6()):D1(!0)}(i.component,i.route,t,e,r)),m4(i=>!0!==i,!0))}(o,r,i,n).pipe((0,jt.z)(u=>u&&function KM(n){return"boolean"==typeof n}(u)?function Cf(n,e,t,r){return(0,Et.D)(e).pipe(Ha(i=>n6(function bf(n,e){return null!==n&&e&&e(new FM(n)),D1(!0)}(i.route.parent,r),function tw(n,e){return null!==n&&e&&e(new d6(n)),D1(!0)}(i.route,r),function rw(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ls(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lo(()=>D1(o.guards.map(d=>{const m=Dl(o.node)??t,y=us(d,m);return ss(function XM(n){return n&&v6(n.canActivateChild)}(y)?y.canActivateChild(r,n):m.runInContext(()=>y(r,n))).pipe(m4())})).pipe(y6())));return D1(s).pipe(y6())}(n,i.path,t),function nw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return D1(!0);const i=r.map(s=>lo(()=>{const o=Dl(e)??t,u=us(s,o);return ss(function S8(n){return n&&v6(n.canActivate)}(u)?u.canActivate(e,n):o.runInContext(()=>u(e,n))).pipe(m4())}));return D1(i).pipe(y6())}(n,i.route,t))),m4(i=>!0!==i,!0))}(r,s,n,e):D1(u)),(0,X1.U)(u=>({...t,guardsResult:u})))})}(this.environmentInjector,o=>this.events.next(o)),(0,pr.b)(o=>{if(r.guardsResult=o.guardsResult,fo(o.guardsResult))throw ig(0,o.guardsResult);const u=new f6(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(u)}),$i(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),z8(o=>{if(o.guards.canActivateChecks.length)return D1(o).pipe((0,pr.b)(u=>{const d=new Ym(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),kn(u=>{let d=!1;return D1(u).pipe(function cw(n,e){return(0,jt.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return D1(t);let s=0;return(0,Et.D)(i).pipe(Ha(o=>function lw(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Gl(i)&&(s[s6]=i.title),function vg(n,e,t,r){const i=function uw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return D1({});const s={};return(0,Et.D)(i).pipe((0,jt.z)(o=>function fw(n,e,t,r){const i=Dl(e)??r,s=us(n,i);return ss(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(m4(),(0,pr.b)(u=>{s[o]=u}))),Aa(1),function wM(n){return(0,X1.U)(()=>n)}(s),qi(o=>_f(o)?dr.E:d8(o)))}(s,n,e,r).pipe((0,X1.U)(o=>(n._resolvedData=o,n.data=tg(n,t).resolve,i&&Gl(i)&&(n.data[s6]=i.title),null)))}(o.route,r,n,e)),(0,pr.b)(()=>s++),Aa(1),(0,jt.z)(o=>s===i.length?D1(t):dr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,pr.b)({next:()=>d=!0,complete:()=>{d||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,pr.b)(u=>{const d=new RM(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),z8(o=>{const u=d=>{const m=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(d.routeConfig).pipe((0,pr.b)(y=>{d.component=y}),(0,X1.U)(()=>{})));for(const y of d.children)m.push(...u(y));return m};return Em(u(o.targetSnapshot.root)).pipe(hl(),i6(1))}),z8(()=>this.afterPreactivation()),(0,X1.U)(o=>{const u=function GM(n,e,t){const r=C8(n,e._root,t?t._root:void 0);return new uf(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:u}}),(0,pr.b)(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>(0,X1.U)(r=>(new lg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),i6(1),(0,pr.b)({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ho(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),j9(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),qi(o=>{if(s=!0,og(o)){sg(o)||(t.navigated=!0,t.restoreHistory(r,!0));const u=new u6(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(u),sg(o)){const d=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),m={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Af(r.source)};t.scheduleNavigation(d,l6,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const u=new v8(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(u);try{r.resolve(t.errorHandler(o))}catch(d){r.reject(d)}}return dr.E}))}))}cancelNavigationTransition(t,r,i){const s=new u6(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Af(n){return n!==l6}let If=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===et);return r}getResolvedTitleForRoute(t){return t.data[s6]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Lf)},providedIn:"root"}),n})(),Lf=(()=>{class n extends If{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(W0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Df)},providedIn:"root"}),n})();class bg{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Df=(()=>{class n extends bg{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wl=new h.OlP("",{providedIn:"root",factory:()=>({})});let wg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Sg)},providedIn:"root"}),n})(),Sg=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zg(n){throw n}function dw(n,e,t){return e.parse("/")}const Tg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Wl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||zg,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dw,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(wg),this.routeReuseStrategy=(0,h.f3M)(Cg),this.urlCreationStrategy=(0,h.f3M)(lf),this.titleStrategy=(0,h.f3M)(If),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Lm((0,h.f3M)(fs,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(V6),this.urlSerializer=(0,h.f3M)(Dr),this.location=(0,h.f3M)($e),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new os,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Jm(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),l6,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const d={...i};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const u=this.parseUrl(t);this.scheduleNavigation(u,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(m6),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:u,preserveFragment:d}=r,m=d?this.currentUrlTree.fragment:o;let y=null;switch(u){case"merge":y={...this.currentUrlTree.queryParams,...s};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}return null!==y&&(y=this.removeEmptyProps(y)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,y,m??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=fo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,l6,null,r)}navigate(t,r={skipLocationChange:!1}){return function Nf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Tg}:!1===r?{...xg}:r,fo(t))return g4(this.currentUrlTree,t,i);const s=this.parseUrl(t);return g4(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let u,d,m,y;return o?(u=o.resolve,d=o.reject,m=o.promise):m=new Promise((b,T)=>{u=b,d=T}),y="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:u,reject:d,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(b=>Promise.reject(b))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),go=(()=>{class n{constructor(t,r,i,s,o,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $2.x;const d=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof ho&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qn),h.Y36(Na),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(d1))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class Pf{}let Vg=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($i(t=>t instanceof ho),Ha(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,h.MMx)(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,u=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,Et.D)(i).pipe((0,u8.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):D1(null);const s=i.pipe((0,jt.z)(o=>null===o?D1(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){const o=this.loader.loadComponent(r);return(0,Et.D)([s,o]).pipe((0,u8.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qn),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Pf),h.LFG(E6))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $l=new h.OlP("");let T8=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ho&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof h6&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new h6(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var cn=(()=>((cn=cn||{})[cn.COMPLETE=0]="COMPLETE",cn[cn.FAILED=1]="FAILED",cn[cn.REDIRECTING=2]="REDIRECTING",cn))();const A6=!1;function y4(n,e){return{\u0275kind:n,\u0275providers:e}}const kf=new h.OlP("",{providedIn:"root",factory:()=>!1});function Ig(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Qn),i=n.get(Lg);1===n.get(ql)&&r.initialNavigation(),n.get(Ng,null,h.XFs.Optional)?.setUpPreloading(),n.get($l,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Lg=new h.OlP(A6?"bootstrap done indicator":"",{factory:()=>new $2.x}),ql=new h.OlP(A6?"initial navigation":"",{providedIn:"root",factory:()=>1});function Dg(){let n=[];return n=A6?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Qn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function af(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],y4(1,n)}const Ng=new h.OlP(A6?"router preloader":"");function vw(n){return y4(0,[{provide:Ng,useExisting:Vg},{provide:Pf,useExisting:n}])}const I6=!1,Pg=new h.OlP(I6?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Cw=[$e,{provide:Dr,useClass:K9},Qn,b8,{provide:Na,useFactory:function vo(n){return n.routerState.root},deps:[Qn]},E6,I6?{provide:kf,useValue:!0}:[]];function kg(){return new h.PXZ("Router",Qn)}let Rg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Cw,I6&&r?.enableTracing?Dg().\u0275providers:[],{provide:fs,multi:!0,useValue:t},{provide:Pg,useFactory:Ff,deps:[[Qn,new h.FiY,new h.tp0]]},{provide:Wl,useValue:r||{}},r?.useHash?{provide:d1,useClass:Re}:{provide:d1,useClass:Ve},{provide:$l,useFactory:()=>{const n=(0,h.f3M)(Is),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Wl),r=(0,h.f3M)(V6),i=(0,h.f3M)(Dr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new T8(i,r,n,e,t)}},r?.preloadingStrategy?vw(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:kg},r?.initialNavigation?_4(r):[],[{provide:Fg,useFactory:Ig},{provide:h.tb,multi:!0,useExisting:Fg}]]}}static forChild(t){return{ngModule:n,providers:[{provide:fs,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Pg,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[pf]}),n})();function Ff(n){if(I6&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _4(n){return["disabled"===n.initialNavigation?y4(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Qn);return()=>{e.setUpLocationChangeListener()}}},{provide:ql,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?y4(2,[{provide:ql,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(He,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Qn),s=e.get(Lg);(function mw(n,e){n.events.pipe($i(t=>t instanceof ho||t instanceof u6||t instanceof v8||t instanceof rf),(0,X1.U)(t=>t instanceof ho||t instanceof rf?cn.COMPLETE:t instanceof u6&&(0===t.code||1===t.code)?cn.REDIRECTING:cn.FAILED),$i(t=>t!==cn.REDIRECTING),i6(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(V6).afterPreactivation=()=>(r(!0),s.closed?D1(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Fg=new h.OlP(I6?"Router Initializer":"");let Xi=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),yo=(()=>{class n extends Xi{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const A3=new h.OlP("NgValueAccessor"),ww={provide:A3,useExisting:(0,h.Gpc)(()=>hs),multi:!0},Bf=new h.OlP("CompositionEventMode");let hs=(()=>{class n extends Xi{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sw(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Bf,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[h._Bn([ww]),h.qOj]}),n})();const zw=!1;function ps(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Ug(n){return null!=n&&"number"==typeof n.length}const gr=new h.OlP("NgValidators"),ms=new h.OlP("NgAsyncValidators"),Gg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _o{static min(e){return function Wg(n){return e=>{if(ps(e.value)||ps(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Uf(n){return e=>{if(ps(e.value)||ps(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Gf(n){return ps(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Zl(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function E8(n){return ps(n.value)||Gg.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Wf(n){return e=>ps(e.value)||!Ug(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function jf(n){return e=>Ug(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function $f(n){if(!n)return H8;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ps(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return $g(e)}static composeAsync(e){return qg(e)}}function H8(n){return null}function qf(n){return null!=n}function Zf(n){const e=(0,h.QGY)(n)?(0,Et.D)(n):n;if(zw&&!(0,h.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,t)}return e}function Kf(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Yf(n,e){return e.map(t=>t(n))}function jg(n){return n.map(e=>function Tw(n){return!n.validate}(e)?e:t=>e.validate(t))}function $g(n){if(!n)return null;const e=n.filter(qf);return 0==e.length?null:function(t){return Kf(Yf(t,e))}}function Xf(n){return null!=n?$g(jg(n)):null}function qg(n){if(!n)return null;const e=n.filter(qf);return 0==e.length?null:function(t){return function V3(...n){const e=(0,a8.jO)(n),{args:t,keys:r}=P9(n),i=new p4.y(s=>{const{length:o}=t;if(!o)return void s.complete();const u=new Array(o);let d=o,m=o;for(let y=0;y<o;y++){let b=!1;(0,a4.Xf)(t[y]).subscribe((0,rn.x)(s,T=>{b||(b=!0,m--),u[y]=T},()=>d--,void 0,()=>{(!d||!b)&&(m||s.next(r?B9(r,u):u),s.complete())}))}});return e?i.pipe(F9(e)):i}(Yf(t,e).map(Zf)).pipe((0,X1.U)(Kf))}}function Qf(n){return null!=n?qg(jg(n)):null}function Zg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Kg(n){return n._rawValidators}function Yg(n){return n._rawAsyncValidators}function Jf(n){return n?Array.isArray(n)?n:[n]:[]}function Kl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Xg(n,e){const t=Jf(e);return Jf(n).forEach(i=>{Kl(t,i)||t.push(i)}),t}function Qg(n,e){return Jf(e).filter(t=>!Kl(n,t))}class Jg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends Jg{get formDirective(){return null}get path(){return null}}class Co extends Jg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ev{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yl=(()=>{class n extends ev{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Co,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),Xl=(()=>{class n extends ev{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Nr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();function e7(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const ov=!1,I1="VALID",t7="INVALID",D6="PENDING",I8="DISABLED";function bo(n){return(n2(n)?n.validators:n)||null}function N6(n,e){return(n2(e)?e.asyncValidators:n)||null}function n2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class td{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===I1}get invalid(){return this.status===t7}get pending(){return this.status==D6}get disabled(){return this.status===I8}get enabled(){return this.status!==I8}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Xg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Xg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qg(e,this._rawAsyncValidators))}hasValidator(e){return Kl(this._rawValidators,e)}hasAsyncValidator(e){return Kl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=D6,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=I8,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=I1,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===I1||this.status===D6)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?I8:I1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=D6,this._hasOwnPendingAsyncValidator=!0;const t=Zf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?I8:this.errors?t7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(D6)?D6:this._anyControlsHaveStatus(t7)?t7:I1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){n2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Vw(n){return Array.isArray(n)?Xf(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function n7(n){return Array.isArray(n)?Qf(n):n||null}(this._rawAsyncValidators)}}class L8 extends td{constructor(e,t,r){super(bo(t),N6(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ed(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,ov?function sv(n,e){return`Must supply a value for form control ${e7(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function Aw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,ov?function UI(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new h.vHH(1001,ov?function iv(n,e){return`Cannot find form control ${e7(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const P6=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>r7}),r7="always";function gs(n,e,t=r7){k6(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function cv(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&uv(n,e)})}(n,e),function N8(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&uv(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Nw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function s7(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),D8(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function o7(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function k6(n,e){const t=Kg(n);null!==e.validator?n.setValidators(Zg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Yg(n);null!==e.asyncValidator?n.setAsyncValidators(Zg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();o7(e._rawValidators,i),o7(e._rawAsyncValidators,i)}function D8(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Kg(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Yg(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return o7(e._rawValidators,r),o7(e._rawAsyncValidators,r),t}function uv(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function P8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function hv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ka=class extends td{constructor(e=null,t,r){super(bo(t),N6(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),n2(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=hv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){P8(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){P8(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){hv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let sd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),od=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const f7=new h.OlP("NgModelWithFormControlWarning"),$w={provide:Nr,useExisting:(0,h.Gpc)(()=>Ra)};let Ra=(()=>{class n extends Nr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(D8(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return gs(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){s7(t.control||null,t,!1),function WI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function dv(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(s7(r||null,t),(n=>n instanceof ka)(i)&&(gs(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function R6(n,e){k6(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Pw(n,e){return D8(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){k6(this.form,this),this._oldForm&&D8(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gr,10),h.Y36(ms,10),h.Y36(P6,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([$w]),h.qOj,h.TTD]}),n})();const Kw={provide:Co,useExisting:(0,h.Gpc)(()=>h7)};let h7=(()=>{class n extends Co{set isDisabled(t){}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rd(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===hs?t=s:function fv(n){return Object.getPrototypeOf(n.constructor)===yo}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function nd(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function i7(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Nr,13),h.Y36(gr,10),h.Y36(ms,10),h.Y36(A3,10),h.Y36(f7,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Kw]),h.qOj,h.TTD]}),n})(),Hv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[od]}),n})(),uS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:f7,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:P6,useValue:t.callSetDisabledState??r7}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Hv]}),n})();const nL={background:{color:{value:""},image:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('./assets/background-access.png')",position:"center",repeat:"no-repeat",size:"cover",opacity:.3},particles:{number:{value:100,density:{enable:!0,value_area:3e3}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5,random:!1},size:{value:3,random:!0},line_linked:{enable:!1},move:{enable:!0,speed:6,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1}},interactivity:{detect_on:"window",events:{onhover:{enable:!1},onclick:{enable:!1},resize:!1}},fps_limit:60};class fS{constructor(){this.radius=0,this.mass=0}load(e){e&&(void 0!==e.mass&&(this.mass=e.mass),void 0!==e.radius&&(this.radius=e.radius))}}class dS extends ti{constructor(){super(),this.density=5,this.value=50,this.limit=new fS}load(e){e&&(super.load(e),void 0!==e.density&&(this.density=e.density),"number"==typeof e.limit?this.limit.radius=e.limit:this.limit.load(e.limit))}}class R8{constructor(){this.color=new h2,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new dS}load(e){void 0!==e&&(void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.draggable&&(this.draggable=e.draggable),this.name=e.name,void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=H1(e.position.x)),void 0!==e.position.y&&(this.position.y=H1(e.position.y))),void 0!==e.size&&this.size.load(e.size),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.orbits&&(this.orbits=e.orbits))}}class hS{constructor(e,t,r,i){var s,o,u;this.absorbers=e,this.container=t,this.initialPosition=i?Ht.create(i.x,i.y):void 0,r instanceof R8?this.options=r:(this.options=new R8,this.options.load(r)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=r1(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const d=this.options.size.limit;this.limit={radius:d.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:d.mass},this.color=null!==(s=Kn(this.options.color))&&void 0!==s?s:{b:0,g:0,r:0},this.position=null!==(u=null===(o=this.initialPosition)||void 0===o?void 0:o.copy())&&void 0!==u?u:this.calcPosition()}attract(e){const t=this.container,r=this.options;if(r.draggable){const m=t.interactivity.mouse;m.clicking&&m.downPosition?d2(this.position,m.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&m.position&&(this.position.x=m.position.x,this.position.y=m.position.y)}const i=e.getPosition(),{dx:s,dy:o,distance:u}=sn(this.position,i),d=Ht.create(s,o);if(d.length=this.mass/Math.pow(u,2)*t.retina.reduceFactor,u<this.size+e.getRadius()){const m=.033*e.getRadius()*t.retina.pixelRatio;this.size>e.getRadius()&&u<this.size-e.getRadius()||void 0!==e.absorberOrbit&&e.absorberOrbit.length<0?r.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,d)):(r.destroy&&(e.size.value-=m),this.updateParticlePosition(e,d)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=m),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=m*this.options.size.density*t.retina.reduceFactor)}else this.updateParticlePosition(e,d)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,2*Math.PI,!1),e.closePath(),e.fillStyle=Q(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&u4(e,this.container.canvas.size,Ht.origin)?e:this.calcPosition()}calcPosition(){const e=ga({size:this.container.canvas.size,position:this.options.position});return Ht.create(e.x,e.y)}updateParticlePosition(e,t){var r;if(e.destroyed)return;const i=this.container,s=i.canvas.size;if(e.needsNewPosition){const o=Xr({size:s});e.position.setTo(o),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(void 0===e.absorberOrbit&&(e.absorberOrbit=Ht.create(0,0),e.absorberOrbit.length=d2(e.getPosition(),this.position),e.absorberOrbit.angle=E1()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const y=Math.min(s.width,s.height);e.absorberOrbit.length=y*(.2*E1()-.1+1)}void 0===e.absorberOrbitDirection&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const o=e.absorberOrbit.length,u=e.absorberOrbit.angle,d=e.absorberOrbitDirection;e.velocity.setTo(Ht.origin);const m={x:"clockwise"===d?Math.cos:Math.sin,y:"clockwise"===d?Math.sin:Math.cos};e.position.x=this.position.x+o*m.x(u),e.position.y=this.position.y+o*m.y(u),e.absorberOrbit.length-=t.length,e.absorberOrbit.angle+=(null!==(r=e.retina.moveSpeed)&&void 0!==r?r:0)*i.retina.pixelRatio/100*i.retina.reduceFactor}else{const o=Ht.origin;o.length=t.length,o.angle=t.angle,e.velocity.addTo(o)}}}class Av{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=t=>void 0===t||"number"==typeof t?this.array[t||0]:this.array.find(r=>r.name===t),e.addAbsorber=(t,r)=>this.addAbsorber(t,r)}addAbsorber(e,t){const r=new hS(this,this.container,e,t);return this.array.push(r),r}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers;if("absorber"===e){const s=S2(this.interactivityAbsorbers)??S2(t);this.addAbsorber(s,this.container.interactivity.mouse.clickPosition)}}init(){var e=this;return(0,ne.Z)(function*(){e.absorbers=e.container.actualOptions.absorbers,e.interactivityAbsorbers=e.container.actualOptions.interactivity.modes.absorbers,Lt(e.absorbers,t=>{e.addAbsorber(t)})})()}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class pS{constructor(){this.id="absorbers"}getPlugin(e){return new Av(e)}loadOptions(e,t){var r,i;!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=Lt(t.absorbers,s=>{const o=new R8;return o.load(s),o})),e.interactivity.modes.absorbers=Lt(null===(i=null===(r=t?.interactivity)||void 0===r?void 0:r.modes)||void 0===i?void 0:i.absorbers,s=>{const o=new R8;return o.load(s),o}))}needsPlugin(e){var t,r,i;if(!e)return!1;const s=e.absorbers;return s instanceof Array?!!s.length:!!s||!(null===(i=null===(r=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===r?void 0:r.onClick)||void 0===i||!i.mode||!Mt("absorber",e.interactivity.events.onClick.mode))}}function hd(){return(hd=(0,ne.Z)(function*(n){const e=new pS;yield n.addPlugin(e)})).apply(this,arguments)}class mS{load(e){e&&(void 0!==e.bottom&&(this.bottom=H1(e.bottom)),void 0!==e.left&&(this.left=H1(e.left)),void 0!==e.right&&(this.right=H1(e.right)),void 0!==e.top&&(this.top=H1(e.top)))}}class gS extends ti{constructor(){super(),this.value=3}}class vS extends ti{constructor(){super(),this.value={min:4,max:9}}}class yS{constructor(){this.count=1,this.factor=new gS,this.rate=new vS,this.sizeOffset=!0}load(e){var t;e&&(void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.count&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=Lt(e.particles,r=>Vt({},r)),void 0!==e.sizeOffset&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=null!==(t=this.colorOffset)&&void 0!==t?t:{},void 0!==e.colorOffset.h&&(this.colorOffset.h=e.colorOffset.h),void 0!==e.colorOffset.s&&(this.colorOffset.s=e.colorOffset.s),void 0!==e.colorOffset.l&&(this.colorOffset.l=e.colorOffset.l)))}}class O8{constructor(){this.bounds=new mS,this.mode="none",this.split=new yS}load(e){e&&(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}class Lv{constructor(e,t){this.engine=e,this.container=t}init(e){const t=this.container,i=e.options.destroy;if(!i)return;e.splitCount=0;const s=i.bounds;e.destroyBounds||(e.destroyBounds={}),s.bottom&&(e.destroyBounds.bottom=r1(s.bottom)*t.canvas.size.height/100),s.left&&(e.destroyBounds.left=r1(s.left)*t.canvas.size.width/100),s.right&&(e.destroyBounds.right=r1(s.right)*t.canvas.size.width/100),s.top&&(e.destroyBounds.top=r1(s.top)*t.canvas.size.height/100)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new O8);for(const r of t)e.destroy.load(r?.destroy)}particleDestroyed(e,t){if(t)return;const r=e.options.destroy;r&&"split"===r.mode&&this.split(e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),r=e.destroyBounds;r&&(void 0!==r.bottom&&t.y>=r.bottom||void 0!==r.left&&t.x<=r.left||void 0!==r.right&&t.x>=r.right||void 0!==r.top&&t.y<=r.top)&&e.destroy()}addSplitParticle(e,t){var r,i,s;const o=e.options.destroy;if(!o)return;const u=o.split,d=e6(this.engine,this.container,e.options),m=vi(u.factor),y=e.getFillColor();d.color.load(u.color?u.color:u.colorOffset&&y?{value:{hsl:{h:y.h+r1(null!==(r=u.colorOffset.h)&&void 0!==r?r:0),s:y.s+r1(null!==(i=u.colorOffset.s)&&void 0!==i?i:0),l:y.l+r1(null!==(s=u.colorOffset.l)&&void 0!==s?s:0)}}}:{value:{hsl:e.getFillColor()}}),d.move.load({center:{x:e.position.x,y:e.position.y,mode:"precise"}}),"number"==typeof d.size.value?d.size.value/=m:(d.size.value.min/=m,d.size.value.max/=m),d.load(t);const b=u.sizeOffset?H1(-e.size.value,e.size.value):0,T={x:e.position.x+qt(b),y:e.position.y+qt(b)};return this.container.particles.addParticle(T,d,e.group,H=>{var A;return!(H.size.value<.5||(H.velocity.length=qt(H1(e.velocity.length,H.velocity.length)),H.splitCount=(null!==(A=e.splitCount)&&void 0!==A?A:0)+1,H.unbreakable=!0,setTimeout(()=>{H.unbreakable=!1},500),0))})}split(e){const t=e.options.destroy;if(!t)return;const r=t.split;if(r.count>=0&&(void 0===e.splitCount||e.splitCount++>r.count))return;const i=vi(r.rate),s=S2(r.particles);for(let o=0;o<i;o++)this.addSplitParticle(e,s)}}function C7(){return(C7=(0,ne.Z)(function*(n){yield n.addParticleUpdater("destroy",e=>new Lv(n,e))})).apply(this,arguments)}class Nv{randomPosition(e,t,r){const[o,u]=[t.width/2,t.height/2],d=((b,T)=>{const H=E1()/4,A=Math.atan(T/b*Math.tan(2*Math.PI*H)),D=E1();return D<.25?A:D<.5?Math.PI-A:D<.75?Math.PI+A:-A})(o,u),m=(H=d,(b=o)*(T=u)/Math.sqrt((T*Math.cos(H))**2+(b*Math.sin(H))**2)),y=r?m*Math.sqrt(E1()):m;var b,T,H;return{x:e.x+y*Math.cos(d),y:e.y+y*Math.sin(d)}}}class Pv{constructor(){this.wait=!1}load(e){e&&(void 0!==e.count&&(this.count=e.count),void 0!==e.delay&&(this.delay=e.delay),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.wait&&(this.wait=e.wait))}}class _S{constructor(){this.quantity=1,this.delay=.1}load(e){void 0!==e&&(void 0!==e.quantity&&(this.quantity=H1(e.quantity)),void 0!==e.delay&&(this.delay=H1(e.delay)))}}class kv{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){void 0!==e&&(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.height&&(this.height=e.height),void 0!==e.width&&(this.width=e.width))}}class Oa{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new Pv,this.rate=new _S,this.shape="square",this.startCount=0}load(e){e&&(void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.size&&(this.size||(this.size=new kv),this.size.load(e.size)),void 0!==e.direction&&(this.direction=e.direction),this.domId=e.domId,void 0!==e.fill&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=Lt(e.particles,t=>Vt({},t)),this.rate.load(e.rate),void 0!==e.shape&&(this.shape=e.shape),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=H1(e.position.x)),void 0!==e.position.y&&(this.position.y=H1(e.position.y))),void 0!==e.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new Jc),this.spawnColor.load(e.spawnColor)),void 0!==e.startCount&&(this.startCount=e.startCount))}}class CS{constructor(e,t,r,i,s){var o,u,d,m,y,b,T,H;this.emitters=t,this.container=r,this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,i instanceof Oa?this.options=i:(this.options=new Oa,this.options.load(i)),this._spawnDelay=1e3*(null!==(o=this.options.life.delay)&&void 0!==o?o:0)/this.container.retina.reduceFactor,this.position=null!==(u=this._initialPosition)&&void 0!==u?u:this.calcPosition(),this.name=this.options.name,this._shape=null===(d=this._engine.emitterShapeManager)||void 0===d?void 0:d.getShape(this.options.shape),this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let A=Vt({},this.options.particles);A??(A={}),null!==(m=A.move)&&void 0!==m||(A.move={}),null!==(y=(H=A.move).direction)&&void 0!==y||(H.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Ot(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=A,this.size=null!==(b=this.options.size)&&void 0!==b?b:(()=>{const D=new kv;return D.load({height:0,mode:"percent",width:0}),D})(),this._lifeCount=null!==(T=this.options.life.count)&&void 0!==T?T:-1,this._immortal=this._lifeCount<=0,this._engine.dispatchEvent("emitterCreated",{container:r,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}getPosition(){if(this.options.domId){const e=this.container,t=document.getElementById(this.options.domId);if(t){const r=t.getBoundingClientRect();return{x:(r.x+r.width/2)*e.retina.pixelRatio,y:(r.y+r.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const r=t.getBoundingClientRect();return{width:r.width*e.retina.pixelRatio,height:r.height*e.retina.pixelRatio}}}return{width:"percent"===this.size.mode?e.canvas.size.width*this.size.width/100:this.size.width,height:"percent"===this.size.mode?e.canvas.size.height*this.size.height/100:this.size.height}}pause(){this._paused||delete this._emitDelay}play(){var e;if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(null!==(e=this._spawnDelay)&&void 0!==e?e:0))){if(void 0===this._emitDelay){const t=r1(this.options.rate.delay);this._emitDelay=1e3*t/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this.prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&u4(e,this.container.canvas.size,Ht.origin)?e:this.calcPosition()}update(e){var t,r,i;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=null!==(t=this._spawnDelay)&&void 0!==t?t:0,this._currentEmitDelay=null!==(r=this._emitDelay)&&void 0!==r?r:0),this._startParticlesAdded||(this._startParticlesAdded=!0,this.emitParticles(this.options.startCount)),void 0!==this._duration&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this.calcPosition(),this._spawnDelay=1e3*(null!==(i=this.options.life.delay)&&void 0!==i?i:0)/this.container.retina.reduceFactor):this.destroy(),this._currentDuration-=this._duration,delete this._duration)),void 0!==this._spawnDelay&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0!==this._emitDelay&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this.emit(),this._currentEmitDelay-=this._emitDelay)))}calcPosition(){return ga({size:this.container.canvas.size,position:this.options.position})}destroy(){this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})}emit(){if(this._paused)return;const e=r1(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var t,r,i;const s=this.getPosition(),o=this.getSize(),u=S2(this._particlesOptions);for(let d=0;d<e;d++){const m=Vt({},u);if(this.spawnColor){const b=null===(t=this.options.spawnColor)||void 0===t?void 0:t.animation;b&&(this.spawnColor.h=this.setColorAnimation(b.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(b.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(b.l,this.spawnColor.l,100)),m.color?m.color.value=this.spawnColor:m.color={value:this.spawnColor}}if(!s)return;const y=null!==(i=null===(r=this._shape)||void 0===r?void 0:r.randomPosition(s,o,this.fill))&&void 0!==i?i:s;this.container.particles.addParticle(y,m)}}prepareToDie(){var e;if(this._paused)return;const t=null===(e=this.options.life)||void 0===e?void 0:e.duration;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&void 0!==t&&t>0&&(this._duration=1e3*t)}setColorAnimation(e,t,r){var i;const s=this.container;if(!e.enable)return t;const o=qt(e.offset),d=1e3*r1(this.options.rate.delay)/s.retina.reduceFactor;return(t+r1(null!==(i=e.speed)&&void 0!==i?i:0)*s.fpsLimit/d+3.6*o)%r}}class bS{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},t.getEmitter=r=>void 0===r||"number"==typeof r?this.array[r||0]:this.array.find(i=>i.name===r),t.addEmitter=(r,i)=>this.addEmitter(r,i),t.removeEmitter=r=>{const i=t.getEmitter(r);i&&this.removeEmitter(i)},t.playEmitter=r=>{const i=t.getEmitter(r);i&&i.externalPlay()},t.pauseEmitter=r=>{const i=t.getEmitter(r);i&&i.externalPause()}}addEmitter(e,t){const r=new Oa;r.load(e);const i=new CS(this._engine,this,this.container,r,t);return this.array.push(i),i}handleClickMode(e){const t=this.emitters,r=this.interactivityEmitters;if("emitter"!==e)return;let i;if(r&&r.value instanceof Array)if(r.value.length>0&&r.random.enable){i=[];const u=[];for(let d=0;d<r.random.count;d++){const m=ba(r.value);u.includes(m)&&u.length<r.value.length?d--:(u.push(m),i.push(l4(r.value,m)))}}else i=r.value;else i=r?.value;const o=this.container.interactivity.mouse.clickPosition;Lt(i??t,u=>{this.addEmitter(u,o)})}init(){var e=this;return(0,ne.Z)(function*(){if(e.emitters=e.container.actualOptions.emitters,e.interactivityEmitters=e.container.actualOptions.interactivity.modes.emitters,e.emitters)if(e.emitters instanceof Array)for(const t of e.emitters)e.addEmitter(t);else e.addEmitter(e.emitters)})()}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}const pd=new Map;class MS{constructor(e){this._engine=e}addShape(e,t){this.getShape(e)||pd.set(e,t)}getShape(e){return pd.get(e)}getSupportedShapes(){return pd.keys()}}function Rv(n,e){return n+e*(E1()-.5)}class F8{randomPosition(e,t,r){if(r)return{x:Rv(e.x,t.width),y:Rv(e.y,t.height)};{const i=t.width/2,s=t.height/2,o=Math.floor(4*E1()),u=2*(E1()-.5);switch(o){case 0:return{x:e.x+u*i,y:e.y-s};case 1:return{x:e.x-i,y:e.y+u*s};case 2:return{x:e.x+u*i,y:e.y+s};default:return{x:e.x+i,y:e.y+u*s}}}}}class wS{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return new bS(this._engine,e)}loadOptions(e,t){var r,i,s,o,u,d;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=Lt(t.emitters,y=>{const b=new Oa;return b.load(y),b}));const m=null===(i=null===(r=t?.interactivity)||void 0===r?void 0:r.modes)||void 0===i?void 0:i.emitters;if(m)if(m instanceof Array)e.interactivity.modes.emitters={random:{count:1,enable:!0},value:m.map(y=>{const b=new Oa;return b.load(y),b})};else{const y=m;if(void 0!==y.value)if(y.value instanceof Array)e.interactivity.modes.emitters={random:{count:null!==(s=y.random.count)&&void 0!==s?s:1,enable:null!==(o=y.random.enable)&&void 0!==o&&o},value:y.value.map(b=>{const T=new Oa;return T.load(b),T})};else{const b=new Oa;b.load(y.value),e.interactivity.modes.emitters={random:{count:null!==(u=y.random.count)&&void 0!==u?u:1,enable:null!==(d=y.random.enable)&&void 0!==d&&d},value:b}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Oa}).value.load(m)}}needsPlugin(e){var t,r,i;if(!e)return!1;const s=e.emitters;return s instanceof Array&&!!s.length||void 0!==s||!(null===(i=null===(r=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===r?void 0:r.onClick)||void 0===i||!i.mode)&&Mt("emitter",e.interactivity.events.onClick.mode)}}function Qi(){return(Qi=(0,ne.Z)(function*(n){n.emitterShapeManager||(n.emitterShapeManager=new MS(n)),n.addEmitterShape||(n.addEmitterShape=(t,r)=>{var i;null===(i=n.emitterShapeManager)||void 0===i||i.addShape(t,r)});const e=new wS(n);yield n.addPlugin(e),n.addEmitterShape("circle",new Nv),n.addEmitterShape("square",new F8)})).apply(this,arguments)}class SS{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.quantity&&(this.quantity=e.quantity),void 0!==e.particles&&(this.particles=Vt({},e.particles)),void 0!==e.pauseOnStop&&(this.pauseOnStop=e.pauseOnStop))}}class gd extends E3{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){var t=this;return(0,ne.Z)(function*(){var r,i,s,o;if(!t.container.retina.reduceFactor)return;const u=t.container,m=u.actualOptions.interactivity.modes.trail;if(!m)return;const y=1e3*m.delay/t.container.retina.reduceFactor;if(t._delay<y&&(t._delay+=e.value),t._delay<y)return;let b=!0;m.pauseOnStop&&(u.interactivity.mouse.position===t._lastPosition||(null===(r=u.interactivity.mouse.position)||void 0===r?void 0:r.x)===(null===(i=t._lastPosition)||void 0===i?void 0:i.x)&&(null===(s=u.interactivity.mouse.position)||void 0===s?void 0:s.y)===(null===(o=t._lastPosition)||void 0===o?void 0:o.y))&&(b=!1),u.interactivity.mouse.position?t._lastPosition={x:u.interactivity.mouse.position.x,y:u.interactivity.mouse.position.y}:delete t._lastPosition,b&&u.particles.push(m.quantity,u.interactivity.mouse,m.particles),t._delay-=y})()}isEnabled(e){var t;const r=this.container,s=r.interactivity.mouse,o=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events;return s.clicking&&s.inside&&!!s.position&&Mt("trail",o.onClick.mode)||s.inside&&!!s.position&&Mt("trail",o.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new SS);for(const r of t)e.trail.load(r?.trail)}reset(){}}function vd(){return(vd=(0,ne.Z)(function*(n){yield n.addInteractor("externalTrail",e=>new gd(e))})).apply(this,arguments)}class Ov{constructor(){this.enable=!1,this.value=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.value&&(this.value=H1(e.value)))}}class zS{constructor(){this.darken=new Ov,this.enable=!1,this.enlighten=new Ov,this.mode="vertical",this.speed=25}load(e){e&&(void 0!==e.backColor&&(this.backColor=h2.create(this.backColor,e.backColor)),this.darken.load(e.darken),void 0!==e.enable&&(this.enable=e.enable),this.enlighten.load(e.enlighten),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.speed&&(this.speed=H1(e.speed)))}}class M7{getTransformValues(e){var t;const r=(null===(t=e.roll)||void 0===t?void 0:t.enable)&&e.roll,s=r&&r.vertical;return{a:r&&r.horizontal?Math.cos(r.angle):void 0,d:s?Math.sin(r.angle):void 0}}init(e){const t=e.options.roll;if(t?.enable)if(e.roll={enable:t.enable,horizontal:"horizontal"===t.mode||"both"===t.mode,vertical:"vertical"===t.mode||"both"===t.mode,angle:E1()*Math.PI*2,speed:r1(t.speed)/360},t.backColor)e.backColor=Ot(t.backColor);else if(t.darken.enable&&t.enlighten.enable){const r=E1()>=.5?"darken":"enlighten";e.roll.alter={type:r,value:r1("darken"===r?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:"darken",value:r1(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:"enlighten",value:r1(t.enlighten.value)});else e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.roll?.enable}loadOptions(e,...t){e.roll||(e.roll=new zS);for(const r of t)e.roll.load(r?.roll)}update(e,t){this.isEnabled(e)&&function b7(n,e){if(!n.roll||!n.options.roll?.enable)return;const i=2*Math.PI;n.roll.angle+=n.roll.speed*e.factor,n.roll.angle>i&&(n.roll.angle-=i)}(e,t)}}function yd(){return(yd=(0,ne.Z)(function*(n){yield n.addParticleUpdater("roll",()=>new M7)})).apply(this,arguments)}const Fv=n=>{const e=(r,i)=>n.load(r,i);return e.load=(r,i,s)=>{n.loadJSON(r,i).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=r=>{n.setOnClickHandler(r)},{particlesJS:e,pJSDom:n.dom()}};class Bv{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=H1(e.speed)),void 0!==e.decay&&(this.decay=H1(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class _d extends ti{constructor(){super(),this.animation=new Bv,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),void 0!==e.direction&&(this.direction=e.direction),this.animation.load(e.animation),void 0!==e.path&&(this.path=e.path))}}class Cd{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:r1(t.value)*Math.PI/180},e.pathRotation=t.path;let r=t.direction;switch("random"===r&&(r=Math.floor(2*E1())>0?"counter-clockwise":"clockwise"),r){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing"}const i=t.animation;i.enable&&(e.rotate.decay=1-r1(i.decay),e.rotate.velocity=r1(i.speed)/360*this.container.retina.reduceFactor,i.sync||(e.rotate.velocity*=E1())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return!!t&&!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path}loadOptions(e,...t){e.rotate||(e.rotate=new _d);for(const r of t)e.rotate.load(r?.rotate)}update(e,t){var r,i;this.isEnabled(e)&&(function Uv(n,e){var t,r;const i=n.rotate,s=n.options.rotate;if(!i||!s)return;const u=(null!==(t=i.velocity)&&void 0!==t?t:0)*e.factor,d=2*Math.PI,m=null!==(r=i.decay)&&void 0!==r?r:1;s.animation.enable&&("increasing"===i.status?(i.value+=u,i.value>d&&(i.value-=d)):(i.value-=u,i.value<0&&(i.value+=d)),i.velocity&&1!==m&&(i.velocity*=m))}(e,t),e.rotation=null!==(i=null===(r=e.rotate)||void 0===r?void 0:r.value)&&void 0!==i?i:0)}}function w7(){return(w7=(0,ne.Z)(function*(n){yield n.addParticleUpdater("rotate",e=>new Cd(e))})).apply(this,arguments)}class HS{init(e){var t;const r=e.container,i=e.options,s=i.move.gravity,o=i.move.spin;if(e.gravity={enable:s.enable,acceleration:r1(s.acceleration),inverse:s.inverse},o.enable){const u=null!==(t=o.position)&&void 0!==t?t:{x:50,y:50},d={x:u.x/100*r.canvas.size.width,y:u.y/100*r.canvas.size.height},y=d2(e.getPosition(),d),b=r1(o.acceleration);e.retina.spinAcceleration=b*r.retina.pixelRatio,e.spin={center:d,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:y,acceleration:e.retina.spinAcceleration}}}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var r,i,s,o,u;const d=e.options,m=d.move;if(!m.enable)return;const y=e.container,b=function ES(n){return n.slow.inRange?n.slow.factor:1}(e),T=(null!==(r=(o=e.retina).moveSpeed)&&void 0!==r?r:o.moveSpeed=r1(m.speed)*y.retina.pixelRatio)*y.retina.reduceFactor,H=null!==(i=(u=e.retina).moveDrift)&&void 0!==i?i:u.moveDrift=r1(e.options.move.drift)*y.retina.pixelRatio,A=Zn(d.size.value)*y.retina.pixelRatio,$=T*((m.size?e.getRadius()/A:1)*b*(t.factor||1))/2;if(m.spin.enable)!function wd(n,e){const t=n.container;if(!n.spin)return;const r={x:"clockwise"===n.spin.direction?Math.cos:Math.sin,y:"clockwise"===n.spin.direction?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*r.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*r.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const i=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>i/2?(n.spin.radius=i/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/i)}(e,$);else{!function xS(n,e){var t;const i=n.options.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay)return void(n.lastPathTime+=e.value);const o=null===(t=n.pathGenerator)||void 0===t?void 0:t.generate(n);o&&n.velocity.addTo(o),i.clamp&&(n.velocity.x=qn(n.velocity.x,-1,1),n.velocity.y=qn(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}(e,t);const ee=e.gravity,re=ee?.enable&&ee.inverse?-1:1;ee?.enable&&$&&(e.velocity.y+=re*(ee.acceleration*t.factor)/(60*$)),H&&$&&(e.velocity.x+=H*t.factor/(60*$));const le=e.moveDecay;1!=le&&e.velocity.multTo(le);const we=e.velocity.mult($),We=null!==(s=e.retina.maxSpeed)&&void 0!==s?s:y.retina.maxSpeed;ee?.enable&&We>0&&(!ee.inverse&&we.y>=0&&we.y>=We||ee.inverse&&we.y<=0&&we.y<=-We)&&(we.y=re*We,$&&(e.velocity.y=we.y/$));const Ue=(1-e.zIndexFactor)**e.options.zIndex.velocityRate;1!=Ue&&we.multTo(Ue),e.position.addTo(we),m.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))}!function Md(n){const e=n.initialPosition,{dx:t,dy:r}=sn(e,n.position),i=Math.abs(t),s=Math.abs(r),o=n.retina.maxDistance.horizontal,u=n.retina.maxDistance.vertical;if(o||u)if((o&&i>=o||u&&s>=u)&&!n.misplaced)n.misplaced=!!o&&i>o||!!u&&s>u,o&&(n.velocity.x=n.velocity.y/2-n.velocity.x),u&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!o||i<o)&&(!u||s<u)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const d=n.position,m=n.velocity;o&&(d.x<e.x&&m.x<0||d.x>e.x&&m.x>0)&&(m.x*=-E1()),u&&(d.y<e.y&&m.y<0||d.y>e.y&&m.y>0)&&(m.y*=-E1())}}(e)}}function S7(){return(S7=(0,ne.Z)(function*(n){n.addMover("base",()=>new HS)})).apply(this,arguments)}class Sd{draw(e,t,r){t.circleRange||(t.circleRange={min:0,max:2*Math.PI});const i=t.circleRange;e.arc(0,0,r,i.min,i.max,!1)}getSidesCount(){return 12}particleInit(e,t){var r;const s=null!==(r=t.shapeData?.angle)&&void 0!==r?r:{max:360,min:0};t.circleRange="object"!=typeof s?{min:0,max:s*Math.PI/180}:{min:s.min*Math.PI/180,max:s.max*Math.PI/180}}}function z7(){return(z7=(0,ne.Z)(function*(n){yield n.addShape("circle",new Sd)})).apply(this,arguments)}function T7(n,e,t,r,i){var s,o;const u=e;if(!u||!t.enable||void 0!==u.loops&&void 0!==u.maxLoops&&u.maxLoops>0&&u.loops>=u.maxLoops)return;const d=qt(t.offset),m=(null!==(s=e.velocity)&&void 0!==s?s:0)*n.factor+3.6*d,y=null!==(o=e.decay)&&void 0!==o?o:1;i&&"increasing"!==u.status?(u.value-=m,u.value<0&&(u.loops||(u.loops=0),u.loops++,u.status="increasing",u.value+=u.value)):(u.value+=m,u.value>r&&(u.loops||(u.loops=0),u.loops++,i&&(u.status="decreasing",u.value-=u.value%r))),u.velocity&&1!==y&&(u.velocity*=y),u.value>r&&(u.value%=r)}class AS{constructor(e){this.container=e}init(e){const t=Ot(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=R1(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var t,r,i;const s=e.options.color.animation;return!e.destroyed&&!e.spawning&&(void 0!==(null===(t=e.color)||void 0===t?void 0:t.h.value)&&s.h.enable||void 0!==(null===(r=e.color)||void 0===r?void 0:r.s.value)&&s.s.enable||void 0!==(null===(i=e.color)||void 0===i?void 0:i.l.value)&&s.l.enable)}update(e,t){!function Wv(n,e){var t,r,i;const s=n.options.color.animation,o=null===(t=n.color)||void 0===t?void 0:t.h,u=null===(r=n.color)||void 0===r?void 0:r.s,d=null===(i=n.color)||void 0===i?void 0:i.l;o&&T7(e,o,s.h,360,!1),u&&T7(e,u,s.s,100,!0),d&&T7(e,d,s.l,100,!0)}(e,t)}}function x7(){return(x7=(0,ne.Z)(function*(n){yield n.addParticleUpdater("color",e=>new AS(e))})).apply(this,arguments)}class IS{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed),void 0!==e.speed&&(this.speed=e.speed))}}class $v extends E3{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=r=>{const s=this.container.actualOptions.interactivity.modes.attract;if(s&&"attract"===r){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const o of t.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},1e3*s.duration)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,ne.Z)(function*(){const t=e.container,s=t.actualOptions.interactivity.events,d=s.onClick.enable,m=s.onClick.mode;t.interactivity.status===g&&s.onHover.enable&&Mt("attract",s.onHover.mode)?e.hoverAttract():d&&Mt("attract",m)&&e.clickAttract()})()}isEnabled(e){var t;const r=this.container,s=r.interactivity.mouse,o=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events;if(!(s.position&&o.onHover.enable||s.clickPosition&&o.onClick.enable))return!1;const d=o.onClick.mode;return Mt("attract",o.onHover.mode)||Mt("attract",d)}loadModeOptions(e,...t){e.attract||(e.attract=new IS);for(const r of t)e.attract.load(r?.attract)}reset(){}clickAttract(){const e=this.container;if(e.attract||(e.attract={particles:[]}),e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const t=e.interactivity.mouse.clickPosition,r=e.retina.attractModeDistance;if(!r||r<0||!t)return;this.processAttract(t,r,new bi(t.x,t.y,r))}else!1===e.attract.clicking&&(e.attract.particles=[])}hoverAttract(){const e=this.container,t=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<0||!t||this.processAttract(t,r,new bi(t.x,t.y,r))}processAttract(e,t,r){const i=this.container,s=i.actualOptions.interactivity.modes.attract;if(!s)return;const o=i.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of o){const{dx:d,dy:m,distance:y}=sn(u.position,e),b=s.speed*s.factor,T=qn(eo(s.easing)(1-y/t)*b,0,s.maxSpeed),H=Ht.create(0===y?b:d/y*T,0===y?b:m/y*T);u.position.subFrom(H)}}}function Jn(){return(Jn=(0,ne.Z)(function*(n){yield n.addInteractor("externalAttract",e=>new $v(n,e))})).apply(this,arguments)}class F6{constructor(){this.distance=200}load(e){e&&void 0!==e.distance&&(this.distance=e.distance)}}class DS extends E3{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,ne.Z)(function*(){const t=e.container,i=t.actualOptions.interactivity.events,d=i.onDiv;t.interactivity.status===g&&i.onHover.enable&&Mt("bounce",i.onHover.mode)?e.processMouseBounce():d4("bounce",d,(m,y)=>e.singleSelectorBounce(m,y))})()}isEnabled(e){var t;const r=this.container,o=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events,u=o.onDiv;return r.interactivity.mouse.position&&o.onHover.enable&&Mt("bounce",o.onHover.mode)||f4("bounce",u)}loadModeOptions(e,...t){e.bounce||(e.bounce=new F6);for(const r of t)e.bounce.load(r?.bounce)}reset(){}processBounce(e,t,r){const i=this.container.particles.quadTree.query(r,s=>this.isEnabled(s));for(const s of i)r instanceof bi?Q0(ts(s),{position:e,radius:t,mass:t**2*Math.PI/2,velocity:Ht.origin,factor:Ht.origin}):r instanceof Mi&&J0(s,ji(e,t))}processMouseBounce(){const e=this.container,i=e.interactivity.mouse.position,s=e.retina.bounceModeDistance;!s||s<0||!i||this.processBounce(i,s,new bi(i.x,i.y,s+10*e.retina.pixelRatio))}singleSelectorBounce(e,t){const r=this.container,i=document.querySelectorAll(e);i.length&&i.forEach(s=>{const o=s,u=r.retina.pixelRatio,d={x:(o.offsetLeft+o.offsetWidth/2)*u,y:(o.offsetTop+o.offsetHeight/2)*u},m=o.offsetWidth/2*u,y=10*u,b="circle"===t.type?new bi(d.x,d.y,m+y):new Mi(o.offsetLeft*u-y,o.offsetTop*u-y,o.offsetWidth*u+2*y,o.offsetHeight*u+2*y);this.processBounce(d,m,b)})}}function qv(){return(qv=(0,ne.Z)(function*(n){yield n.addInteractor("externalBounce",e=>new DS(e))})).apply(this,arguments)}class PS{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){const t=this.color instanceof Array?void 0:this.color;this.color=Lt(e.color,r=>h2.create(t,r))}void 0!==e.size&&(this.size=e.size)}}}class Zv extends PS{constructor(){super(),this.selectors=[]}get ids(){return Lt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Lt(e,t=>`#${t}`)}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class zd extends PS{load(e){super.load(e),e&&(this.divs=Lt(e.divs,t=>{const r=new Zv;return r.load(t),r}))}}function B6(n,e,t,r){return e>=t?qn(n+(e-t)*r,n,e):e<t?qn(n-(t-e)*r,e,n):void 0}class kS extends E3{constructor(e){super(e),e.bubble||(e.bubble={}),this.handleClickMode=t=>{"bubble"===t&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,r){e.bubble.inRange&&!r||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){var t=this;return(0,ne.Z)(function*(){const i=t.container.actualOptions.interactivity.events,s=i.onHover,o=i.onClick,m=o.enable,y=o.mode,b=i.onDiv;s.enable&&Mt("bubble",s.mode)?t.hoverBubble(e):m&&Mt("bubble",y)?t.clickBubble(e):d4("bubble",b,(T,H)=>t.singleSelectorHover(e,T,H))})()}isEnabled(e){var t;const r=this.container,s=r.interactivity.mouse,o=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events,d=f4("bubble",o.onDiv);if(!(d||o.onHover.enable&&s.position||o.onClick.enable&&s.clickPosition))return!1;const y=o.onClick.mode;return Mt("bubble",o.onHover.mode)||Mt("bubble",y)||d}loadModeOptions(e,...t){e.bubble||(e.bubble=new zd);for(const r of t)e.bubble.load(r?.bubble)}reset(e){e.bubble.inRange=!1}clickBubble(e){var t,r;const i=this.container,o=i.interactivity.mouse.clickPosition,u=i.actualOptions.interactivity.modes.bubble;if(!u||!o)return;i.bubble||(i.bubble={});const d=i.retina.bubbleModeDistance;if(!d||d<0)return;const m=i.particles.quadTree.queryCircle(o,d,y=>this.isEnabled(y));for(const y of m){if(!i.bubble.clicking)continue;y.bubble.inRange=!i.bubble.durationEnd;const T=d2(y.getPosition(),o),H=((new Date).getTime()-(i.interactivity.mouse.clickTime||0))/1e3;H>u.duration&&(i.bubble.durationEnd=!0),H>2*u.duration&&(i.bubble.clicking=!1,i.bubble.durationEnd=!1);const A={bubbleObj:{optValue:i.retina.bubbleModeSize,value:y.bubble.radius},particlesObj:{optValue:Zn(y.options.size.value)*i.retina.pixelRatio,value:y.size.value},type:"size"};this.process(y,T,H,A);const D={bubbleObj:{optValue:u.opacity,value:y.bubble.opacity},particlesObj:{optValue:Zn(y.options.opacity.value),value:null!==(r=null===(t=y.opacity)||void 0===t?void 0:t.value)&&void 0!==r?r:1},type:"opacity"};this.process(y,T,H,D),i.bubble.durationEnd?delete y.bubble.color:T<=d?this.hoverBubbleColor(y,T):delete y.bubble.color}}hoverBubble(e){const t=this.container,r=t.interactivity.mouse.position,i=t.retina.bubbleModeDistance;if(!i||i<0||void 0===r)return;const s=t.particles.quadTree.queryCircle(r,i,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const d=d2(o.getPosition(),r),m=1-d/i;d<=i?m>=0&&t.interactivity.status===g&&(this.hoverBubbleSize(o,m),this.hoverBubbleOpacity(o,m),this.hoverBubbleColor(o,m)):this.reset(o),t.interactivity.status===L&&this.reset(o)}}hoverBubbleColor(e,t,r){const s=r??this.container.actualOptions.interactivity.modes.bubble;if(s){if(!e.bubble.finalColor){const o=s.color;if(!o)return;const u=S2(o);e.bubble.finalColor=Ot(u)}if(e.bubble.finalColor)if(s.mix){e.bubble.color=void 0;const o=e.getFillColor();e.bubble.color=o?S3(e1(o,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}hoverBubbleOpacity(e,t,r){var i,s,o,u;const y=null!==(i=r?.opacity)&&void 0!==i?i:null===(s=this.container.actualOptions.interactivity.modes.bubble)||void 0===s?void 0:s.opacity;if(!y)return;const H=B6(null!==(u=null===(o=e.opacity)||void 0===o?void 0:o.value)&&void 0!==u?u:1,y,Zn(e.options.opacity.value),t);void 0!==H&&(e.bubble.opacity=H)}hoverBubbleSize(e,t,r){const i=this.container,s=r?.size?r.size*i.retina.pixelRatio:i.retina.bubbleModeSize;if(void 0===s)return;const o=Zn(e.options.size.value)*i.retina.pixelRatio,d=B6(e.size.value,s,o,t);void 0!==d&&(e.bubble.radius=d)}process(e,t,r,i){const s=this.container,o=i.bubbleObj.optValue,d=s.actualOptions.interactivity.modes.bubble;if(!d||void 0===o)return;const m=d.duration,y=s.retina.bubbleModeDistance,T=i.bubbleObj.value,H=i.particlesObj.value||0,A=i.type;if(y&&!(y<0)&&o!==i.particlesObj.optValue)if(s.bubble||(s.bubble={}),s.bubble.durationEnd)T&&("size"===A&&delete e.bubble.radius,"opacity"===A&&delete e.bubble.opacity);else if(t<=y){if((T??H)!==o){const R=H-r*(H-o)/m;"size"===A&&(e.bubble.radius=R),"opacity"===A&&(e.bubble.opacity=R)}}else"size"===A&&delete e.bubble.radius,"opacity"===A&&delete e.bubble.opacity}singleSelectorHover(e,t,r){const i=this.container,s=document.querySelectorAll(t),o=i.actualOptions.interactivity.modes.bubble;!o||!s.length||s.forEach(u=>{const d=u,m=i.retina.pixelRatio,y={x:(d.offsetLeft+d.offsetWidth/2)*m,y:(d.offsetTop+d.offsetHeight/2)*m},T="circle"===r.type?new bi(y.x,y.y,d.offsetWidth/2*m):new Mi(d.offsetLeft*m,d.offsetTop*m,d.offsetWidth*m,d.offsetHeight*m),H=i.particles.quadTree.query(T,A=>this.isEnabled(A));for(const A of H){if(!T.contains(A.getPosition()))continue;A.bubble.inRange=!0;const R=Qr(o.divs,d);(!A.bubble.div||A.bubble.div!==d)&&(this.clear(A,e,!0),A.bubble.div=d),this.hoverBubbleSize(A,1,R),this.hoverBubbleOpacity(A,1,R),this.hoverBubbleColor(A,1,R)}})}}function xd(){return(xd=(0,ne.Z)(function*(n){yield n.addInteractor("externalBubble",e=>new kS(e))})).apply(this,arguments)}class Kv{constructor(){this.opacity=.5}load(e){e&&void 0!==e.opacity&&(this.opacity=e.opacity)}}class RS{constructor(){this.distance=80,this.links=new Kv,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var t,r;e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(r=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==r?r:e.line_linked),void 0!==e.radius&&(this.radius=e.radius))}}function Yv(n,e,t){n.canvas.draw(r=>{var i;const s=function Ed(n,e,t,r){const s=n.actualOptions.interactivity.modes.connect;if(s)return function OS(n,e,t,r){const i=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),o=t.getFillColor();if(!s||!o)return;const u=e.getPosition(),d=t.getPosition(),m=e1(s,o,e.getRadius(),t.getRadius()),y=n.createLinearGradient(u.x,u.y,d.x,d.y);return y.addColorStop(0,fe(s,r)),y.addColorStop(i>1?1:i,Q(m,r)),y.addColorStop(1,fe(o,r)),y}(e,t,r,s.links.opacity)}(n,r,e,t);if(!s)return;const o=e.getPosition(),u=t.getPosition();!function FS(n,e,t,r,i){Ft(n,r,i),n.lineWidth=e,n.strokeStyle=t,n.stroke()}(r,null!==(i=e.retina.linksWidth)&&void 0!==i?i:0,s,o,u)})}class Xv extends E3{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){var e=this;return(0,ne.Z)(function*(){const t=e.container;if(t.actualOptions.interactivity.events.onHover.enable&&"pointermove"===t.interactivity.status){const i=t.interactivity.mouse.position;if(!t.retina.connectModeDistance||t.retina.connectModeDistance<0||!t.retina.connectModeRadius||t.retina.connectModeRadius<0||!i)return;const s=Math.abs(t.retina.connectModeRadius),o=t.particles.quadTree.queryCircle(i,s,d=>e.isEnabled(d));let u=0;for(const d of o){const m=d.getPosition();for(const y of o.slice(u+1)){const b=y.getPosition(),T=Math.abs(t.retina.connectModeDistance),H=Math.abs(m.x-b.x),A=Math.abs(m.y-b.y);H<T&&A<T&&Yv(t,d,y)}++u}}})()}isEnabled(e){var t;const r=this.container,s=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events;return!(!s.onHover.enable||!r.interactivity.mouse.position)&&Mt("connect",s.onHover.mode)}loadModeOptions(e,...t){e.connect||(e.connect=new RS);for(const r of t)e.connect.load(r?.connect)}reset(){}}function U8(){return(U8=(0,ne.Z)(function*(n){yield n.addInteractor("externalConnect",e=>new Xv(e))})).apply(this,arguments)}class rL{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(void 0!==e.blink&&(this.blink=e.blink),void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.opacity&&(this.opacity=e.opacity))}}class Qv{constructor(){this.distance=100,this.links=new rL}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var t,r;e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(r=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==r?r:e.line_linked))}}function Jv(n,e,t,r,i){n.canvas.draw(s=>{var o;const u=e.getPosition();!function BS(n,e,t,r,i,s){Ft(n,t,r),n.strokeStyle=Q(i,s),n.lineWidth=e,n.stroke()}(s,null!==(o=e.retina.linksWidth)&&void 0!==o?o:0,u,i,t,r)})}class U6 extends E3{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,ne.Z)(function*(){var t,r;const i=e.container,o=i.actualOptions.interactivity;if(!o.modes.grab||!o.events.onHover.enable||i.interactivity.status!==g)return;const u=i.interactivity.mouse.position;if(!u)return;const d=i.retina.grabModeDistance;if(!d||d<0)return;const m=i.particles.quadTree.queryCircle(u,d,y=>e.isEnabled(y));for(const y of m){const T=d2(y.getPosition(),u);if(T>d)continue;const H=o.modes.grab.links,A=H.opacity,D=A-T*A/d;if(D<=0)continue;const R=null!==(t=H.color)&&void 0!==t?t:null===(r=y.options.links)||void 0===r?void 0:r.color;if(!i.particles.grabLineColor&&R){const $=o.modes.grab.links;i.particles.grabLineColor=f1(R,$.blink,$.consent)}const G=Xe(y,void 0,i.particles.grabLineColor);if(!G)return;Jv(i,y,G,D,u)}})()}isEnabled(e){var t;const r=this.container,s=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events;return s.onHover.enable&&!!r.interactivity.mouse.position&&Mt("grab",s.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new Qv);for(const r of t)e.grab.load(r?.grab)}reset(){}}function H7(){return(H7=(0,ne.Z)(function*(n){yield n.addInteractor("externalGrab",e=>new U6(e))})).apply(this,arguments)}class Hd extends E3{constructor(e){super(e),this.handleClickMode=t=>{if("pause"!==t)return;const r=this.container;r.getAnimationStatus()?r.pause():r.play()}}clear(){}init(){}interact(){return(0,ne.Z)(function*(){})()}isEnabled(){return!0}reset(){}}class GS{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(!e)return;void 0!==e.default&&(this.default=e.default),void 0!==e.groups&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const r=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==r&&(this.quantity=r)}}class sL extends E3{constructor(e){super(e),this.handleClickMode=t=>{if("push"!==t)return;const r=this.container,s=r.actualOptions.interactivity.modes.push;if(!s)return;const o=s.quantity;if(o<=0)return;const u=l4([void 0,...s.groups]);r.particles.push(o,r.interactivity.mouse,void 0!==u?r.actualOptions.particles.groups[u]:void 0,u)}}clear(){}init(){}interact(){return(0,ne.Z)(function*(){})()}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new GS);for(const r of t)e.push.load(r?.push)}reset(){}}function Vd(){return(Vd=(0,ne.Z)(function*(n){yield n.addInteractor("externalPush",e=>new sL(e))})).apply(this,arguments)}class jS{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(!e)return;const r=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==r&&(this.quantity=r)}}class ey extends E3{constructor(e){super(e),this.handleClickMode=t=>{const r=this.container,i=r.actualOptions;i.interactivity.modes.remove&&"remove"===t&&r.particles.removeQuantity(i.interactivity.modes.remove.quantity)}}clear(){}init(){}interact(){return(0,ne.Z)(function*(){})()}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new jS);for(const r of t)e.remove.load(r?.remove)}reset(){}}class ny{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed))}}class ry extends ny{constructor(){super(),this.selectors=[]}get ids(){return Lt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Lt(e,t=>`#${t}`)}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class iy extends ny{load(e){super.load(e),e&&(this.divs=Lt(e.divs,t=>{const r=new ry;return r.load(t),r}))}}class $S extends E3{constructor(e,t){super(t),this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=r=>{const s=this.container.actualOptions.interactivity.modes.repulse;if(s&&"repulse"===r){t.repulse||(t.repulse={particles:[]}),t.repulse.clicking=!0,t.repulse.count=0;for(const o of t.repulse.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);t.repulse.particles=[],t.repulse.finish=!1,setTimeout(()=>{t.destroyed||(t.repulse||(t.repulse={particles:[]}),t.repulse.clicking=!1)},1e3*s.duration)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,ne.Z)(function*(){const t=e.container,s=t.actualOptions.interactivity.events,d=s.onClick.enable,m=s.onClick.mode,y=s.onDiv;t.interactivity.status===g&&s.onHover.enable&&Mt("repulse",s.onHover.mode)?e.hoverRepulse():d&&Mt("repulse",m)?e.clickRepulse():d4("repulse",y,(b,T)=>e.singleSelectorRepulse(b,T))})()}isEnabled(e){var t;const r=this.container,s=r.interactivity.mouse,o=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events,d=f4("repulse",o.onDiv);if(!(d||o.onHover.enable&&s.position||o.onClick.enable&&s.clickPosition))return!1;const y=o.onClick.mode;return Mt("repulse",o.onHover.mode)||Mt("repulse",y)||d}loadModeOptions(e,...t){e.repulse||(e.repulse=new iy);for(const r of t)e.repulse.load(r?.repulse)}reset(){}clickRepulse(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;if(t)if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const r=e.retina.repulseModeDistance;if(!r||r<0)return;const i=Math.pow(r/6,3),s=e.interactivity.mouse.clickPosition;if(void 0===s)return;const o=new bi(s.x,s.y,i),u=e.particles.quadTree.query(o,d=>this.isEnabled(d));for(const d of u){const{dx:m,dy:y,distance:b}=sn(s,d.position),T=b**2,A=-i*t.speed/T;if(T<=i){e.repulse.particles.push(d);const D=Ht.create(m,y);D.length=A,d.velocity.setTo(D)}}}else if(!1===e.repulse.clicking){for(const r of e.repulse.particles)r.velocity.setTo(r.initialVelocity);e.repulse.particles=[]}}hoverRepulse(){const e=this.container,t=e.interactivity.mouse.position,r=e.retina.repulseModeDistance;!r||r<0||!t||this.processRepulse(t,r,new bi(t.x,t.y,r))}processRepulse(e,t,r,i){var s;const o=this.container,u=o.particles.quadTree.query(r,m=>this.isEnabled(m)),d=o.actualOptions.interactivity.modes.repulse;if(d)for(const m of u){const{dx:y,dy:b,distance:T}=sn(m.position,e),H=(null!==(s=i?.speed)&&void 0!==s?s:d.speed)*d.factor,A=qn(eo(d.easing)(1-T/t)*H,0,d.maxSpeed),D=Ht.create(0===T?H:y/T*A,0===T?H:b/T*A);m.position.addTo(D)}}singleSelectorRepulse(e,t){const r=this.container,i=r.actualOptions.interactivity.modes.repulse;if(!i)return;const s=document.querySelectorAll(e);s.length&&s.forEach(o=>{const u=o,d=r.retina.pixelRatio,m={x:(u.offsetLeft+u.offsetWidth/2)*d,y:(u.offsetTop+u.offsetHeight/2)*d},y=u.offsetWidth/2*d,b="circle"===t.type?new bi(m.x,m.y,y):new Mi(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),H=Qr(i.divs,u);this.processRepulse(m,y,b,H)})}}function V7(){return(V7=(0,ne.Z)(function*(n){yield n.addInteractor("externalRepulse",e=>new $S(n,e))})).apply(this,arguments)}class ZS{constructor(){this.factor=3,this.radius=200}load(e){e&&(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.radius&&(this.radius=e.radius))}}class sy extends E3{constructor(e){super(e)}clear(e,t,r){e.slow.inRange&&!r||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){return(0,ne.Z)(function*(){})()}isEnabled(e){var t;const r=this.container,s=(null!==(t=e?.interactivity)&&void 0!==t?t:r.actualOptions.interactivity).events;return s.onHover.enable&&!!r.interactivity.mouse.position&&Mt("slow",s.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new ZS);for(const r of t)e.slow.load(r?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.interactivity.mouse.position,s=t.retina.slowModeRadius,o=t.actualOptions.interactivity.modes.slow;if(!o||!s||s<0||!i)return;const d=d2(i,e.getPosition()),m=d/s,y=o.factor;d<=s&&(e.slow.inRange=!0,e.slow.factor=m/y)}}function A7(){return(A7=(0,ne.Z)(function*(n){yield n.addInteractor("externalSlow",e=>new sy(e))})).apply(this,arguments)}const ay=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function Ad(n){return cy.apply(this,arguments)}function cy(){return(cy=(0,ne.Z)(function*(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,console.error(`Error tsParticles - loading image: ${n.source}`),e()}),t.src=n.source})})).apply(this,arguments)}function ly(n){return uy.apply(this,arguments)}function uy(){return(uy=(0,ne.Z)(function*(n){if("svg"!==n.type)return void(yield Ad(n));n.loading=!0;const e=yield fetch(n.source);e.ok||(console.error("Error tsParticles - Image not found"),n.error=!0),n.error||(n.svgData=yield e.text()),n.loading=!1})).apply(this,arguments)}class aL{constructor(){this._images=[]}addImage(e,t){this.getImages(e)?.images.push(t)}destroy(){this._images=[]}draw(e,t,r,i){var s;const o=t.image,u=o?.element;if(!u)return;const d=null!==(s=o?.ratio)&&void 0!==s?s:1,m={x:-r,y:-r};e.globalAlpha=i,e.drawImage(u,m.x,m.y,2*r,2*r/d),e.globalAlpha=1}getImages(e){return this._images.find(r=>r.id===e.id)||(this._images.push({id:e.id,images:[]}),this.getImages(e))}getSidesCount(){return 12}loadShape(e){if("image"!==e.shape&&"images"!==e.shape)return;const t=e.container,r=this.getImages(t).images,i=e.shapeData;r.find(o=>o.source===i.src)||this.loadImageShape(t,i).then(()=>{this.loadShape(e)})}particleInit(e,t){var r;if("image"!==t.shape&&"images"!==t.shape)return;const i=this.getImages(e).images,s=t.shapeData,o=t.getFillColor(),u=null!==(r=s.replaceColor)&&void 0!==r?r:s.replace_color,d=i.find(m=>m.source===s.src);if(d){if(d.loading)return void setTimeout(()=>{this.particleInit(e,t)});(0,ne.Z)(function*(){var m,y;let b;b=d.svgData&&o?yield function oL(n,e,t,r){var i,s,o;const u=function KS(n,e,t){const{svgData:r}=n;if(!r)return"";const i=fe(e,t);if(r.includes("fill"))return r.replace(ay,()=>i);const s=r.indexOf(">");return`${r.substring(0,s)} fill="${i}"${r.substring(s)}`}(n,t,null!==(s=null===(i=r.opacity)||void 0===i?void 0:i.value)&&void 0!==s?s:1),d={color:t,data:Object.assign(Object.assign({},n),{svgData:u}),loaded:!1,ratio:e.width/e.height,replaceColor:null!==(o=e.replaceColor)&&void 0!==o?o:e.replace_color,source:e.src};return new Promise(m=>{const y=new Blob([u],{type:"image/svg+xml"}),b=URL||window.URL||window.webkitURL||window,T=b.createObjectURL(y),H=new Image;H.addEventListener("load",()=>{d.loaded=!0,d.element=H,m(d),b.revokeObjectURL(T)}),H.addEventListener("error",(0,ne.Z)(function*(){b.revokeObjectURL(T);const A=Object.assign(Object.assign({},n),{error:!1,loading:!0});yield Ad(A),d.loaded=!0,d.element=A.element,m(d)})),H.src=T})}(d,s,o,t):{color:o,data:d,element:d.element,loaded:!0,ratio:s.width/s.height,replaceColor:u,source:s.src},b.ratio||(b.ratio=1);const A={image:b,fill:null!==(m=s.fill)&&void 0!==m?m:t.fill,close:null!==(y=s.close)&&void 0!==y?y:t.close};t.image=A.image,t.fill=A.fill,t.close=A.close})()}}loadImageShape(e,t){var r=this;return(0,ne.Z)(function*(){var i;const s=t.src;if(!s)throw new Error("Error tsParticles - No image.src");try{const o={source:s,type:s.substring(s.length-3),error:!1,loading:!0};r.addImage(e,o),yield((null!==(i=t.replaceColor)&&void 0!==i?i:t.replace_color)?ly:Ad)(o)}catch{throw new Error(`tsParticles error - ${t.src} not found`)}})()}}function fy(){return(fy=(0,ne.Z)(function*(n){yield n.addShape(["image","images"],new aL)})).apply(this,arguments)}class lL extends ti{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class uL extends ti{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class fL{constructor(){this.count=0,this.delay=new lL,this.duration=new uL}load(e){e&&(void 0!==e.count&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class I7{constructor(e){this.container=e}init(e){const t=this.container,i=e.options.life;i&&(e.life={delay:t.retina.reduceFactor?r1(i.delay.value)*(i.delay.sync?1:E1())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?r1(i.duration.value)*(i.duration.sync?1:E1())/t.retina.reduceFactor*1e3:0,time:0,count:i.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new fL);for(const r of t)e.life.load(r?.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const r=e.life;let i=!1;if(e.spawning){if(r.delayTime+=t.value,!(r.delayTime>=e.life.delay))return;i=!0,e.spawning=!1,r.delayTime=0,r.time=0}if(-1===r.duration||e.spawning||(i?r.time=0:r.time+=t.value,r.time<r.duration))return;if(r.time=0,e.life.count>0&&e.life.count--,0===e.life.count)return void e.destroy();const s=this.container.canvas.size,o=H1(0,s.width),u=H1(0,s.width);e.position.x=qt(o),e.position.y=qt(u),e.spawning=!0,r.delayTime=0,r.time=0,e.reset();const d=e.options.life;d&&(r.delay=1e3*r1(d.delay.value),r.duration=1e3*r1(d.duration.value))}}function L7(){return(L7=(0,ne.Z)(function*(n){yield n.addParticleUpdater("life",e=>new I7(e))})).apply(this,arguments)}class D7{draw(e,t,r){e.moveTo(-r/2,0),e.lineTo(r/2,0)}getSidesCount(){return 1}}function N7(){return(N7=(0,ne.Z)(function*(n){yield n.addShape("line",new D7)})).apply(this,arguments)}class hy{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity={enable:t.animation.enable,max:Zn(t.value),min:Ar(t.value),value:r1(t.value),loops:0,maxLoops:r1(t.animation.count)};const r=t.animation;if(r.enable){e.opacity.decay=1-r1(r.decay),e.opacity.status="increasing";const i=t.value;switch(e.opacity.min=Ar(i),e.opacity.max=Zn(i),r.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status="increasing";break;case"random":e.opacity.value=qt(e.opacity),e.opacity.status=E1()>=.5?"increasing":"decreasing";break;default:e.opacity.value=e.opacity.max,e.opacity.status="decreasing"}e.opacity.velocity=r1(r.speed)/100*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=E1())}e.opacity.initialValue=e.opacity.value}isEnabled(e){var t,r,i,s;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((null!==(t=e.opacity.maxLoops)&&void 0!==t?t:0)<=0||(null!==(r=e.opacity.maxLoops)&&void 0!==r?r:0)>0&&(null!==(i=e.opacity.loops)&&void 0!==i?i:0)<(null!==(s=e.opacity.maxLoops)&&void 0!==s?s:0))}reset(e){e.opacity&&(e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&function Id(n,e){var t,r,i,s,o,u;if(!n.opacity)return;const d=n.opacity.min,m=n.opacity.max,y=null!==(t=n.opacity.decay)&&void 0!==t?t:1;if(!(n.destroyed||!n.opacity.enable||(null!==(r=n.opacity.maxLoops)&&void 0!==r?r:0)>0&&(null!==(i=n.opacity.loops)&&void 0!==i?i:0)>(null!==(s=n.opacity.maxLoops)&&void 0!==s?s:0))){switch(n.opacity.status){case"increasing":n.opacity.value>=m?(n.opacity.status="decreasing",n.opacity.loops||(n.opacity.loops=0),n.opacity.loops++):n.opacity.value+=(null!==(o=n.opacity.velocity)&&void 0!==o?o:0)*e.factor;break;case"decreasing":n.opacity.value<=d?(n.opacity.status="increasing",n.opacity.loops||(n.opacity.loops=0),n.opacity.loops++):n.opacity.value-=(null!==(u=n.opacity.velocity)&&void 0!==u?u:0)*e.factor}n.opacity.velocity&&1!==n.opacity.decay&&(n.opacity.velocity*=y),function hL(n,e,t,r){switch(n.options.opacity.animation.destroy){case"max":e>=r&&n.destroy();break;case"min":e<=t&&n.destroy()}}(n,n.opacity.value,d,m),n.destroyed||(n.opacity.value=qn(n.opacity.value,d,m))}}(e,t)}}function py(){return(py=(0,ne.Z)(function*(n){yield n.addParticleUpdater("opacity",e=>new hy(e))})).apply(this,arguments)}class QS{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,r,i){if(!this.modes.includes(i))return;const s=this.container;let o=!1;for(const[,T]of s.plugins)if(void 0!==T.particleBounce&&(o=T.particleBounce(e,r,t)),o)break;if(o)return;const u=e.getPosition(),d=e.offset,m=e.getRadius(),y=ji(u,m),b=s.canvas.size;(function pL(n){if("bounce"!==n.outMode&&"bounce-horizontal"!==n.outMode&&"bounceHorizontal"!==n.outMode&&"split"!==n.outMode)return;n.bounds.right<0?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if("right"===n.direction&&n.bounds.right>=n.canvasSize.width&&e>0||"left"===n.direction&&n.bounds.left<=0&&e<0){const i=vi(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-i,t=!0}if(!t)return;const r=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width?n.particle.position.x=n.canvasSize.width-r:n.bounds.left<=0&&(n.particle.position.x=r),"split"===n.outMode&&n.particle.destroy()})({particle:e,outMode:i,direction:t,bounds:y,canvasSize:b,offset:d,size:m}),function XS(n){if("bounce"!==n.outMode&&"bounce-vertical"!==n.outMode&&"bounceVertical"!==n.outMode&&"split"!==n.outMode)return;n.bounds.bottom<0?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if("bottom"===n.direction&&n.bounds.bottom>=n.canvasSize.height&&e>0||"top"===n.direction&&n.bounds.top<=0&&e<0){const i=vi(n.particle.options.bounce.vertical);n.particle.velocity.y*=-i,t=!0}if(!t)return;const r=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height?n.particle.position.y=n.canvasSize.height-r:n.bounds.top<=0&&(n.particle.position.y=r),"split"===n.outMode&&n.particle.destroy()}({particle:e,outMode:i,direction:t,bounds:y,canvasSize:b,offset:d,size:m})}}class P7{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,r,i){if(!this.modes.includes(i))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(u4(e.position,s.canvas.size,Ht.origin,e.getRadius(),t))return;break;case"inside":{const{dx:o,dy:u}=sn(e.position,e.moveCenter),{x:d,y:m}=e.velocity;if(d<0&&o>e.moveCenter.radius||m<0&&u>e.moveCenter.radius||d>=0&&o<-e.moveCenter.radius||m>=0&&u<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class JS{constructor(e){this.container=e,this.modes=["none"]}update(e,t,r,i){if(!this.modes.includes(i)||e.options.move.distance.horizontal&&("left"===t||"right"===t)||e.options.move.distance.vertical&&("top"===t||"bottom"===t))return;const s=e.options.move.gravity,o=this.container,u=o.canvas.size,d=e.getRadius();if(s.enable){const m=e.position;(!s.inverse&&m.y>u.height+d&&"bottom"===t||s.inverse&&m.y<-d&&"top"===t)&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=u.height+d||e.velocity.y<0&&e.position.y>=-d||e.velocity.x>0&&e.position.x<=u.width+d||e.velocity.x<0&&e.position.x>=-d)return;u4(e.position,o.canvas.size,Ht.origin,d,t)||o.particles.remove(e)}}}class mL{constructor(e){this.container=e,this.modes=["out"]}update(e,t,r,i){if(!this.modes.includes(i))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:u}=e.velocity,d=Ht.origin;d.length=e.moveCenter.radius,d.angle=e.velocity.angle+Math.PI,d.addTo(Ht.create(e.moveCenter));const{dx:m,dy:y}=sn(e.position,d);if(o<=0&&m>=0||u<=0&&y>=0||o>=0&&m<=0||u>=0&&y<=0)return;e.position.x=Math.floor(qt({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(qt({min:0,max:s.canvas.size.height}));const{dx:b,dy:T}=sn(e.position,e.moveCenter);e.direction=Math.atan2(-T,-b),e.velocity.angle=e.direction;break}default:if(u4(e.position,s.canvas.size,Ht.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(qt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(qt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:u}=sn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(u,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,u=s.canvas.size,d={bottom:u.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:u.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},m=e.getRadius(),y=ji(e.position,m);"right"===t&&y.left>u.width+e.offset.x?(e.position.x=d.left,e.initialPosition.x=e.position.x,o||(e.position.y=E1()*u.height,e.initialPosition.y=e.position.y)):"left"===t&&y.right<-e.offset.x&&(e.position.x=d.right,e.initialPosition.x=e.position.x,o||(e.position.y=E1()*u.height,e.initialPosition.y=e.position.y)),"bottom"===t&&y.top>u.height+e.offset.y?(o||(e.position.x=E1()*u.width,e.initialPosition.x=e.position.x),e.position.y=d.top,e.initialPosition.y=e.position.y):"top"===t&&y.bottom<-e.offset.y&&(o||(e.position.x=E1()*u.width,e.initialPosition.x=e.position.x),e.position.y=d.bottom,e.initialPosition.y=e.position.y);break}}}}}class gL{constructor(e){this.container=e,this.updaters=[new QS(e),new P7(e),new mL(e),new JS(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){var r,i,s,o;const u=e.options.move.outModes;this.updateOutMode(e,t,null!==(r=u.bottom)&&void 0!==r?r:u.default,"bottom"),this.updateOutMode(e,t,null!==(i=u.left)&&void 0!==i?i:u.default,"left"),this.updateOutMode(e,t,null!==(s=u.right)&&void 0!==s?s:u.default,"right"),this.updateOutMode(e,t,null!==(o=u.top)&&void 0!==o?o:u.default,"top")}updateOutMode(e,t,r,i){for(const s of this.updaters)s.update(e,i,t,r)}}function Ld(){return(Ld=(0,ne.Z)(function*(n){yield n.addParticleUpdater("outModes",e=>new gL(e))})).apply(this,arguments)}class ez{init(){}isEnabled(e){return!_i()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,r=t.actualOptions;if(_i()||!r.interactivity.events.onHover.parallax.enable)return;const i=r.interactivity.events.onHover.parallax.force,s=t.interactivity.mouse.position;if(!s)return;const o_x=t.canvas.size.width/2,o_y=t.canvas.size.height/2,u=r.interactivity.events.onHover.parallax.smooth,d=e.getRadius()/i,m_y=(s.y-o_y)*d;e.offset.x+=((s.x-o_x)*d-e.offset.x)/u,e.offset.y+=(m_y-e.offset.y)/u}}function my(){return(my=(0,ne.Z)(function*(n){n.addMover("parallax",()=>new ez)})).apply(this,arguments)}class nz extends ul{constructor(e){super(e)}clear(){}init(){}interact(e){var t=this;return(0,ne.Z)(function*(){var r;const i=t.container,s=null!==(r=e.retina.attractDistance)&&void 0!==r?r:i.retina.attractDistance,o=e.getPosition(),u=i.particles.quadTree.queryCircle(o,s);for(const d of u){if(e===d||!d.options.move.attract.enable||d.destroyed||d.spawning)continue;const m=d.getPosition(),{dx:y,dy:b}=sn(o,m),T=e.options.move.attract.rotate,H=y/(1e3*T.x),A=b/(1e3*T.y),D=d.size.value/e.size.value,R=1/D;e.velocity.x-=H*D,e.velocity.y-=A*D,d.velocity.x+=H*R,d.velocity.y+=A*R}})()}isEnabled(e){return e.options.move.attract.enable}reset(){}}function k7(){return(k7=(0,ne.Z)(function*(n){yield n.addInteractor("particlesAttract",e=>new nz(e))})).apply(this,arguments)}function rz(n,e,t,r,i,s){const o=qn(n.options.collisions.absorb.speed*i.factor/10,0,r);n.size.value+=o/2,t.size.value-=o,r<=s&&(t.size.value=0,t.destroy())}function vy(n,e){Q0(ts(n),ts(e))}function iz(n,e,t,r){switch(n.options.collisions.mode){case"absorb":!function I3(n,e,t,r){const i=n.getRadius(),s=e.getRadius();void 0===i&&void 0!==s?n.destroy():void 0!==i&&void 0===s?e.destroy():void 0!==i&&void 0!==s&&(i>=s?rz(n,0,e,s,t,r):rz(e,0,n,i,t,r))}(n,e,t,r);break;case"bounce":vy(n,e);break;case"destroy":!function Dd(n,e){!n.unbreakable&&!e.unbreakable&&vy(n,e),void 0===n.getRadius()&&void 0!==e.getRadius()?n.destroy():void 0!==n.getRadius()&&void 0===e.getRadius()?e.destroy():void 0!==n.getRadius()&&void 0!==e.getRadius()&&(n.getRadius()>=e.getRadius()?n:e).destroy()}(n,e)}}class yL extends ul{constructor(e){super(e)}clear(){}init(){}interact(e,t){var r=this;return(0,ne.Z)(function*(){const i=r.container,s=e.getPosition(),o=e.getRadius(),u=i.particles.quadTree.queryCircle(s,2*o);for(const d of u){if(e===d||!d.options.collisions.enable||e.options.collisions.mode!==d.options.collisions.mode||d.destroyed||d.spawning)continue;const m=d.getPosition(),y=d.getRadius();Math.abs(Math.round(s.z)-Math.round(m.z))>o+y||(d2(s,m)>o+y||iz(e,d,t,i.retina.pixelRatio))}})()}isEnabled(e){return e.options.collisions.enable}reset(){}}function Nd(){return(Nd=(0,ne.Z)(function*(n){yield n.addInteractor("particlesCollisions",e=>new yL(e))})).apply(this,arguments)}class Pd extends bi{constructor(e,t,r,i){super(e,t,r),this.canvasSize=i,this.canvasSize=Object.assign({},i)}contains(e){return!!super.contains(e)||(!!super.contains({x:e.x-this.canvasSize.width,y:e.y})||(!!super.contains({x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height})||super.contains({x:e.x,y:e.y-this.canvasSize.height})))}intersects(e){if(super.intersects(e))return!0;const t=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(void 0!==e.radius){const s=new bi(i.x,i.y,2*e.radius);return super.intersects(s)}if(void 0!==t.size){const s=new Mi(i.x,i.y,2*t.size.width,2*t.size.height);return super.intersects(s)}return!1}}class sz{constructor(){this.blur=5,this.color=new h2,this.color.value="#000",this.enable=!1}load(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=h2.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable))}}class oz{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity))}}class kd{constructor(){this.blink=!1,this.color=new h2,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new sz,this.triangles=new oz,this.width=1,this.warp=!1}load(e){e&&(void 0!==e.id&&(this.id=e.id),void 0!==e.blink&&(this.blink=e.blink),this.color=h2.create(this.color,e.color),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),void 0!==e.width&&(this.width=e.width),void 0!==e.warp&&(this.warp=e.warp))}}function yy(n,e,t,r,i){let s=d2(n,e);return!i||s<=t?s:(s=d2(n,{x:e.x-r.width,y:e.y}),s<=t?s:(s=d2(n,{x:e.x-r.width,y:e.y-r.height}),s<=t||(s=d2(n,{x:e.x,y:e.y-r.height})),s))}class _y extends ul{constructor(e){super(e),this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}interact(e){var t=this;return(0,ne.Z)(function*(){var r;if(!e.options.links)return;e.links=[];const i=e.getPosition(),s=t.container,o=s.canvas.size;if(i.x<0||i.y<0||i.x>o.width||i.y>o.height)return;const u=e.options.links,d=u.opacity,m=null!==(r=e.retina.linksDistance)&&void 0!==r?r:0,y=u.warp,b=y?new Pd(i.x,i.y,m,o):new bi(i.x,i.y,m),T=s.particles.quadTree.query(b);for(const H of T){const A=H.options.links;if(e===H||!A?.enable||u.id!==A.id||H.spawning||H.destroyed||!H.links||-1!==e.links.map($=>$.destination).indexOf(H)||-1!==H.links.map($=>$.destination).indexOf(e))continue;const D=H.getPosition();if(D.x<0||D.y<0||D.x>o.width||D.y>o.height)continue;const R=yy(i,D,m,o,y&&A.warp);if(R>m)return;const G=(1-R/m)*d;t.setColor(e),e.links.push({destination:H,opacity:G})}})()}isEnabled(e){var t;return!(null===(t=e.options.links)||void 0===t||!t.enable)}loadParticlesOptions(e,...t){var r,i;e.links||(e.links=new kd);for(const s of t)e.links.load(null!==(i=null!==(r=s?.links)&&void 0!==r?r:s?.lineLinked)&&void 0!==i?i:s?.line_linked)}reset(){}setColor(e){if(!e.options.links)return;const t=this.linkContainer,r=e.options.links;let i=void 0===r.id?t.particles.linksColor:t.particles.linksColors.get(r.id);i||(i=f1(r.color,r.blink,r.consent),void 0===r.id?t.particles.linksColor=i:t.particles.linksColors.set(r.id,i))}}function R7(){return(R7=(0,ne.Z)(function*(n){yield n.addInteractor("particlesLinks",e=>new _y(e))})).apply(this,arguments)}function My(n,e){const t=function by(n){return n.sort((e,t)=>e-t),n.join("_")}(n.map(i=>i.id));let r=e.get(t);return void 0===r&&(r=E1(),e.set(t,r)),r}class Rd{constructor(e){this.container=e,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){var r;const i=t.options;if(!t.links||t.links.length<=0)return;const s=t.links.filter(o=>i.links&&this.getLinkFrequency(t,o.destination)<=i.links.frequency);for(const o of s)this.drawTriangles(i,t,o,s),o.opacity>0&&(null!==(r=t.retina.linksWidth)&&void 0!==r?r:0)>0&&this.drawLinkLine(t,o)}init(){var e=this;return(0,ne.Z)(function*(){e._freqs.links=new Map,e._freqs.triangles=new Map})()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio;e.retina.linksDistance=e.options.links.distance*t,e.retina.linksWidth=e.options.links.width*t}particleDestroyed(e){e.links=[]}drawLinkLine(e,t){const r=this.container,i=r.actualOptions,s=t.destination,o=e.getPosition(),u=s.getPosition();let d=t.opacity;r.canvas.draw(m=>{var y,b,T;if(!e.options.links)return;let H;const A=null===(y=e.options.twinkle)||void 0===y?void 0:y.lines;if(A?.enable){const G=A.frequency,$=Kn(A.color);E1()<G&&$&&(H=$,d=r1(A.opacity))}if(!H){const G=e.options.links,$=void 0!==G?.id?r.particles.linksColors.get(G.id):r.particles.linksColor;H=Xe(e,s,$)}if(!H)return;const D=null!==(b=e.retina.linksWidth)&&void 0!==b?b:0,R=null!==(T=e.retina.linksDistance)&&void 0!==T?T:0;!function Cy(n,e,t,r,i,s,o,u,d,m,y,b){let T=!1;if(d2(t,r)<=i)Ft(n,t,r),T=!0;else if(o){let H,A;const R=sn(t,{x:r.x-s.width,y:r.y});if(R.distance<=i){const G=t.y-R.dy/R.dx*t.x;H={x:0,y:G},A={x:s.width,y:G}}else{const $=sn(t,{x:r.x,y:r.y-s.height});if($.distance<=i){const re=-(t.y-$.dy/$.dx*t.x)/($.dy/$.dx);H={x:re,y:0},A={x:re,y:s.height}}else{const re=sn(t,{x:r.x-s.width,y:r.y-s.height});if(re.distance<=i){const le=t.y-re.dy/re.dx*t.x;H={x:-le/(re.dy/re.dx),y:le},A={x:H.x+s.width,y:H.y+s.height}}}}H&&A&&(Ft(n,t,H),Ft(n,r,A),T=!0)}if(T){if(n.lineWidth=e,u&&(n.globalCompositeOperation=d),n.strokeStyle=Q(m,y),b.enable){const H=Kn(b.color);H&&(n.shadowBlur=b.blur,n.shadowColor=Q(H))}n.stroke()}}(m,D,o,u,R,r.canvas.size,e.options.links.warp,i.backgroundMask.enable,i.backgroundMask.composite,H,d,e.options.links.shadow)})}drawLinkTriangle(e,t,r){var i;if(!e.options.links)return;const s=this.container,o=s.actualOptions,u=t.destination,d=r.destination,m=e.options.links.triangles,y=null!==(i=m.opacity)&&void 0!==i?i:(t.opacity+r.opacity)/2;y<=0||s.canvas.draw(b=>{var T;const H=e.getPosition(),A=u.getPosition(),D=d.getPosition(),R=null!==(T=e.retina.linksDistance)&&void 0!==T?T:0;if(d2(H,A)>R||d2(D,A)>R||d2(D,H)>R)return;let G=Kn(m.color);if(!G){const $=e.options.links,ee=void 0!==$?.id?s.particles.linksColors.get($.id):s.particles.linksColor;G=Xe(e,u,ee)}G&&function cz(n,e,t,r,i,s,o,u){(function h4(n,e,t,r){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(r.x,r.y),n.closePath()})(n,e,t,r),i&&(n.globalCompositeOperation=s),n.fillStyle=Q(o,u),n.fill()}(b,H,A,D,o.backgroundMask.enable,o.backgroundMask.composite,G,y)})}drawTriangles(e,t,r,i){var s,o,u;const d=r.destination;if(null===(s=e.links)||void 0===s||!s.triangles.enable||null===(o=d.options.links)||void 0===o||!o.triangles.enable)return;const m=null===(u=d.links)||void 0===u?void 0:u.filter(y=>{const b=this.getLinkFrequency(d,y.destination);return d.options.links&&b<=d.options.links.frequency&&i.findIndex(T=>T.destination===y.destination)>=0});if(m?.length)for(const y of m)this.getTriangleFrequency(t,d,y.destination)>e.links.triangles.frequency||this.drawLinkTriangle(t,r,y)}getLinkFrequency(e,t){return My([e,t],this._freqs.links)}getTriangleFrequency(e,t,r){return My([e,t,r],this._freqs.triangles)}}class vs{constructor(){this.id="links"}getPlugin(e){return new Rd(e)}loadOptions(){}needsPlugin(){return!0}}function O7(){return(O7=(0,ne.Z)(function*(n){const e=new vs;yield n.addPlugin(e)})).apply(this,arguments)}function F7(){return F7=(0,ne.Z)(function*(n){yield function az(n){return R7.apply(this,arguments)}(n),yield function So(n){return O7.apply(this,arguments)}(n)}),F7.apply(this,arguments)}class wy{draw(e,t,r){const i=this.getCenter(t,r),s=this.getSidesData(t,r),o=s.count.numerator*s.count.denominator,u=s.count.numerator/s.count.denominator,m=Math.PI-Math.PI*(180*(u-2)/u)/180;if(e){e.beginPath(),e.translate(i.x,i.y),e.moveTo(0,0);for(let y=0;y<o;y++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(m)}}getSidesCount(e){var t,r;const i=e.shapeData;return Math.round(r1(null!==(r=null!==(t=i?.sides)&&void 0!==t?t:i?.nb_sides)&&void 0!==r?r:5))}}class _L extends wy{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/.76}}getSidesData(e,t){const r=e.sides;return{count:{denominator:1,numerator:r},length:2.66*t/(r/3)}}}class lz extends wy{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:2*t}}}function Fd(){return(Fd=(0,ne.Z)(function*(n){yield n.addShape("polygon",new _L)})).apply(this,arguments)}function B7(){return(B7=(0,ne.Z)(function*(n){yield n.addShape("triangle",new lz)})).apply(this,arguments)}function U7(){return U7=(0,ne.Z)(function*(n){yield function uz(n){return Fd.apply(this,arguments)}(n),yield function fz(n){return B7.apply(this,arguments)}(n)}),U7.apply(this,arguments)}class bL{init(e){var t;const r=e.container,s=e.options.size.animation;s.enable&&(e.size.velocity=(null!==(t=e.retina.sizeAnimationSpeed)&&void 0!==t?t:r.retina.sizeAnimationSpeed)/100*r.retina.reduceFactor,s.sync||(e.size.velocity*=E1()))}isEnabled(e){var t,r,i,s;return!e.destroyed&&!e.spawning&&e.size.enable&&((null!==(t=e.size.maxLoops)&&void 0!==t?t:0)<=0||(null!==(r=e.size.maxLoops)&&void 0!==r?r:0)>0&&(null!==(i=e.size.loops)&&void 0!==i?i:0)<(null!==(s=e.size.maxLoops)&&void 0!==s?s:0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&function Sy(n,e){var t,r,i,s,o;const u=(null!==(t=n.size.velocity)&&void 0!==t?t:0)*e.factor,d=n.size.min,m=n.size.max,y=null!==(r=n.size.decay)&&void 0!==r?r:1;if(!(n.destroyed||!n.size.enable||(null!==(i=n.size.maxLoops)&&void 0!==i?i:0)>0&&(null!==(s=n.size.loops)&&void 0!==s?s:0)>(null!==(o=n.size.maxLoops)&&void 0!==o?o:0))){switch(n.size.status){case"increasing":n.size.value>=m?(n.size.status="decreasing",n.size.loops||(n.size.loops=0),n.size.loops++):n.size.value+=u;break;case"decreasing":n.size.value<=d?(n.size.status="increasing",n.size.loops||(n.size.loops=0),n.size.loops++):n.size.value-=u}n.size.velocity&&1!==y&&(n.size.velocity*=y),function dz(n,e,t,r){switch(n.options.size.animation.destroy){case"max":e>=r&&n.destroy();break;case"min":e<=t&&n.destroy()}}(n,n.size.value,d,m),n.destroyed||(n.size.value=qn(n.size.value,d,m))}}(e,t)}}function G7(){return(G7=(0,ne.Z)(function*(n){yield n.addParticleUpdater("size",()=>new bL)})).apply(this,arguments)}const G8=Math.sqrt(2);class zy{draw(e,t,r){e.rect(-r/G8,-r/G8,2*r/G8,2*r/G8)}getSidesCount(){return 4}}function W7(){return(W7=(0,ne.Z)(function*(n){const e=new zy;yield n.addShape(["edge","square"],e)})).apply(this,arguments)}class j7{draw(e,t,r){var i;const s=t.sides,o=null!==(i=t.starInset)&&void 0!==i?i:2;e.moveTo(0,0-r);for(let u=0;u<s;u++)e.rotate(Math.PI/s),e.lineTo(0,0-r*o),e.rotate(Math.PI/s),e.lineTo(0,0-r)}getSidesCount(e){var t,r;const i=e.shapeData;return Math.round(r1(null!==(r=null!==(t=i?.sides)&&void 0!==t?t:i?.nb_sides)&&void 0!==r?r:5))}particleInit(e,t){var r;const s=r1(null!==(r=t.shapeData?.inset)&&void 0!==r?r:2);t.starInset=s}}function q7(){return(q7=(0,ne.Z)(function*(n){yield n.addShape("star",new j7)})).apply(this,arguments)}function Ud(n,e,t,r,i){var s,o;const u=e;if(!u||!u.enable||void 0!==u.loops&&void 0!==u.maxLoops&&u.maxLoops>0&&u.loops>=u.maxLoops)return;const d=qt(t.offset),m=(null!==(s=e.velocity)&&void 0!==s?s:0)*n.factor+3.6*d,y=null!==(o=e.decay)&&void 0!==o?o:1;i&&"increasing"!==u.status?(u.value-=m,u.value<0&&(u.loops||(u.loops=0),u.loops++,u.status="increasing",u.value+=u.value)):(u.value+=m,u.value>r&&(u.loops||(u.loops=0),u.loops++,i&&(u.status="decreasing",u.value-=u.value%r))),u.velocity&&1!==y&&(u.velocity*=y),u.value>r&&(u.value%=r)}class ML{constructor(e){this.container=e}init(e){var t,r,i;const s=this.container,o=S2(e.options.stroke,e.id,e.options.reduceDuplicates);e.strokeWidth=r1(o.width)*s.retina.pixelRatio,e.strokeOpacity=r1(null!==(t=o.opacity)&&void 0!==t?t:1),e.strokeAnimation=null===(r=o.color)||void 0===r?void 0:r.animation;const u=null!==(i=Ot(o.color))&&void 0!==i?i:e.getFillColor();u&&(e.strokeColor=R1(u,e.strokeAnimation,s.retina.reduceFactor))}isEnabled(e){var t,r,i;return!e.destroyed&&!e.spawning&&!!e.strokeAnimation&&(void 0!==(null===(t=e.strokeColor)||void 0===t?void 0:t.h.value)&&e.strokeColor.h.enable||void 0!==(null===(r=e.strokeColor)||void 0===r?void 0:r.s.value)&&e.strokeColor.s.enable||void 0!==(null===(i=e.strokeColor)||void 0===i?void 0:i.l.value)&&e.strokeColor.l.enable)}update(e,t){this.isEnabled(e)&&function hz(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const t=n.strokeColor.h;t&&Ud(e,t,n.strokeAnimation.h,360,!1);const r=n.strokeColor.s;r&&Ud(e,r,n.strokeAnimation.s,100,!0);const i=n.strokeColor.l;i&&Ud(e,i,n.strokeAnimation.l,100,!0)}(e,t)}}function xy(){return(xy=(0,ne.Z)(function*(n){yield n.addParticleUpdater("strokeColor",e=>new ML(e))})).apply(this,arguments)}const Z7=["text","character","char"];class pz{draw(e,t,r,i){var s,o,u;const d=t.shapeData;if(void 0===d)return;const m=d.value;if(void 0===m)return;const y=t;void 0===y.text&&(y.text=S2(m,t.randomIndexData));const b=y.text,T=null!==(s=d.style)&&void 0!==s?s:"",H=null!==(o=d.weight)&&void 0!==o?o:"400",A=2*Math.round(r),D=null!==(u=d.font)&&void 0!==u?u:"Verdana",R=t.fill,G=b.length*r/2;e.font=`${T} ${H} ${A}px "${D}"`;const $={x:-G,y:r/2};e.globalAlpha=i,R?e.fillText(b,$.x,$.y):e.strokeText(b,$.x,$.y),e.globalAlpha=1}getSidesCount(){return 12}init(e){return(0,ne.Z)(function*(){const t=e.actualOptions;if(Z7.find(r=>Mt(r,t.particles.shape.type))){const r=Z7.map(s=>t.particles.shape.options[s]).find(s=>!!s),i=[];Lt(r,s=>{i.push(function X0(n,e){return Ca.apply(this,arguments)}(s.font,s.weight))}),yield Promise.all(i)}})()}}function Gd(){return(Gd=(0,ne.Z)(function*(n){yield n.addShape(Z7,new pz)})).apply(this,arguments)}function Ey(){return Ey=(0,ne.Z)(function*(n){yield function VS(n){return S7.apply(this,arguments)}(n),yield function tz(n){return my.apply(this,arguments)}(n),yield function LS(n){return Jn.apply(this,arguments)}(n),yield function NS(n){return qv.apply(this,arguments)}(n),yield function Td(n){return xd.apply(this,arguments)}(n),yield function E7(n){return U8.apply(this,arguments)}(n),yield function US(n){return H7.apply(this,arguments)}(n),yield function iL(n){n.addInteractor("externalPause",e=>new Hd(e))}(n),yield function WS(n){return Vd.apply(this,arguments)}(n),yield function ty(n){n.addInteractor("externalRemove",e=>new ey(e))}(n),yield function qS(n){return V7.apply(this,arguments)}(n),yield function oy(n){return A7.apply(this,arguments)}(n),yield function gy(n){return k7.apply(this,arguments)}(n),yield function Ji(n){return Nd.apply(this,arguments)}(n),yield function Od(n){return F7.apply(this,arguments)}(n),yield function Gv(n){return z7.apply(this,arguments)}(n),yield function cL(n){return fy.apply(this,arguments)}(n),yield function dy(n){return N7.apply(this,arguments)}(n),yield function CL(n){return U7.apply(this,arguments)}(n),yield function Ty(n){return W7.apply(this,arguments)}(n),yield function $7(n){return q7.apply(this,arguments)}(n),yield function mz(n){return Gd.apply(this,arguments)}(n),yield function dL(n){return L7.apply(this,arguments)}(n),yield function YS(n){return py.apply(this,arguments)}(n),yield function Bd(n){return G7.apply(this,arguments)}(n),yield function bd(n){return w7.apply(this,arguments)}(n),yield function jv(n){return x7.apply(this,arguments)}(n),yield function wL(n){return xy.apply(this,arguments)}(n),yield function vL(n){return Ld.apply(this,arguments)}(n),yield Fv(n)}),Ey.apply(this,arguments)}class zL{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=H1(e.speed)),void 0!==e.decay&&(this.decay=H1(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class TL extends ti{constructor(){super(),this.animation=new zL,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.enable&&(this.enable=e.enable))}}class gz{constructor(e){this.container=e}getTransformValues(e){var t;const r=(null===(t=e.tilt)||void 0===t?void 0:t.enable)&&e.tilt;return{b:r?Math.cos(r.value)*r.cosDirection:void 0,c:r?Math.sin(r.value)*r.sinDirection:void 0}}init(e){var t;const r=e.options.tilt;if(!r)return;e.tilt={enable:r.enable,value:r1(r.value)*Math.PI/180,sinDirection:E1()>=.5?1:-1,cosDirection:E1()>=.5?1:-1};let i=r.direction;switch("random"===i&&(i=Math.floor(2*E1())>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.tilt.status="decreasing";break;case"clockwise":e.tilt.status="increasing"}const s=null===(t=e.options.tilt)||void 0===t?void 0:t.animation;s?.enable&&(e.tilt.decay=1-r1(s.decay),e.tilt.velocity=r1(s.speed)/360*this.container.retina.reduceFactor,s.sync||(e.tilt.velocity*=E1()))}isEnabled(e){var t;const r=null===(t=e.options.tilt)||void 0===t?void 0:t.animation;return!e.destroyed&&!e.spawning&&!!r?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new TL);for(const r of t)e.tilt.load(r?.tilt)}update(e,t){this.isEnabled(e)&&function xL(n,e){var t,r;if(!n.tilt||!n.options.tilt)return;const o=(null!==(t=n.tilt.velocity)&&void 0!==t?t:0)*e.factor,u=2*Math.PI,d=null!==(r=n.tilt.decay)&&void 0!==r?r:1;n.options.tilt.animation.enable&&("increasing"===n.tilt.status?(n.tilt.value+=o,n.tilt.value>u&&(n.tilt.value-=u)):(n.tilt.value-=o,n.tilt.value<0&&(n.tilt.value+=u)),n.tilt.velocity&&1!==d&&(n.tilt.velocity*=d))}(e,t)}}function Wd(){return(Wd=(0,ne.Z)(function*(n){yield n.addParticleUpdater("tilt",e=>new gz(e))})).apply(this,arguments)}class Hy{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=h2.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=H1(e.opacity)))}}class Vy{constructor(){this.lines=new Hy,this.particles=new Hy}load(e){e&&(this.lines.load(e.lines),this.particles.load(e.particles))}}class Fa{getColorStyles(e,t,r,i){const o=e.options.twinkle;if(!o)return{};const u=o.particles,d=u.enable&&E1()<u.frequency,y=(1-e.zIndexFactor)**e.options.zIndex.opacityRate,b=d?r1(u.opacity)*y:i,T=Ot(u.color),H=T?fe(T,b):void 0,A={},D=d&&H;return A.fill=D?H:void 0,A.stroke=D?H:void 0,A}init(){}isEnabled(e){const r=e.options.twinkle;return!!r&&r.particles.enable}loadOptions(e,...t){e.twinkle||(e.twinkle=new Vy);for(const r of t)e.twinkle.load(r?.twinkle)}update(){}}function W8(){return(W8=(0,ne.Z)(function*(n){yield n.addParticleUpdater("twinkle",()=>new Fa)})).apply(this,arguments)}class jd{constructor(){this.angle=50,this.move=10}load(e){e&&(void 0!==e.angle&&(this.angle=H1(e.angle)),void 0!==e.move&&(this.move=H1(e.move)))}}class vz{constructor(){this.distance=5,this.enable=!1,this.speed=new jd}load(e){if(e&&(void 0!==e.distance&&(this.distance=H1(e.distance)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed))if("number"==typeof e.speed)this.speed.load({angle:e.speed});else{const t=e.speed;this.speed.load(void 0!==t.min?{angle:t}:e.speed)}}}class qd{constructor(e){this.container=e}init(e){var t;const r=e.options.wobble;e.wobble=r?.enable?{angle:E1()*Math.PI*2,angleSpeed:r1(r.speed.angle)/360,moveSpeed:r1(r.speed.move)/10}:{angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=r1(null!==(t=r?.distance)&&void 0!==t?t:0)*this.container.retina.pixelRatio}isEnabled(e){var t;return!e.destroyed&&!e.spawning&&!(null===(t=e.options.wobble)||void 0===t||!t.enable)}loadOptions(e,...t){e.wobble||(e.wobble=new vz);for(const r of t)e.wobble.load(r?.wobble)}update(e,t){this.isEnabled(e)&&function $d(n,e){var t;if(!n.options.wobble?.enable||!n.wobble)return;const o=n.wobble.moveSpeed*e.factor*((null!==(t=n.retina.wobbleDistance)&&void 0!==t?t:0)*e.factor)/(1e3/60),u=2*Math.PI;n.wobble.angle+=n.wobble.angleSpeed*e.factor,n.wobble.angle>u&&(n.wobble.angle-=u),n.position.x+=o*Math.cos(n.wobble.angle),n.position.y+=o*Math.abs(Math.sin(n.wobble.angle))}(e,t)}}function Iy(){return(Iy=(0,ne.Z)(function*(n){yield n.addParticleUpdater("wobble",e=>new qd(e))})).apply(this,arguments)}function Ly(n){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,ne.Z)(function*(n){yield function SL(n){return Ey.apply(this,arguments)}(n),yield function Dv(n){return C7.apply(this,arguments)}(n),yield function TS(n){return yd.apply(this,arguments)}(n),yield function K7(n){return Wd.apply(this,arguments)}(n),yield function Ay(n){return W8.apply(this,arguments)}(n),yield function Y7(n){return Iy.apply(this,arguments)}(n),yield function B8(n){return vd.apply(this,arguments)}(n),yield function Iv(n){return hd.apply(this,arguments)}(n),yield function md(n){return Qi.apply(this,arguments)}(n)}),Dy.apply(this,arguments)}var l1,Pr=F(6881),X7=F(4859),ys=F(1877),ie=F(2090),Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e3={},Kd=Kd||{},K1=Ny||self;function j8(){}function G6(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Q7(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $8="closure_uid_"+(1e9*Math.random()>>>0),_z=0;function Cz(n,e,t){return n.call.apply(n.bind,arguments)}function EL(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function kr(n,e,t){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cz:EL).apply(null,arguments)}function J7(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function zo(){this.s=this.s,this.o=this.o}zo.prototype.s=!1,zo.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Py(n){Object.prototype.hasOwnProperty.call(n,$8)&&n[$8]||(n[$8]=++_z)}(this)},zo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bz=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ky(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Mz(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(G6(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function vr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vr.prototype.h=function(){this.defaultPrevented=!0};var VL=function(){if(!K1.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{K1.addEventListener("test",j8,e),K1.removeEventListener("test",j8,e)}catch{}return n}();function Yd(n){return/^[\s\xa0]*$/.test(n)}var wz=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ry(n,e){return n<e?-1:n>e?1:0}function Xd(){var n=K1.navigator;return n&&(n=n.userAgent)?n:""}function _s(n){return-1!=Xd().indexOf(n)}function a(n){return a[" "](n),n}function c(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}a[" "]=j8;var I,n,l=_s("Opera"),f=_s("Trident")||_s("MSIE"),p=_s("Edge"),v=p||f,C=_s("Gecko")&&!(-1!=Xd().toLowerCase().indexOf("webkit")&&!_s("Edge"))&&!(_s("Trident")||_s("MSIE"))&&!_s("Edge"),z=-1!=Xd().toLowerCase().indexOf("webkit")&&!_s("Edge");function E(){var n=K1.document;return n?n.documentMode:void 0}e:{var N="",O=(n=Xd(),C?/rv:([^\);]+)(\)|;)/.exec(n):p?/Edge\/([\d\.]+)/.exec(n):f?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):z?/WebKit\/(\S+)/.exec(n):l?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(O&&(N=O?O[1]:""),f){var K=E();if(null!=K&&K>parseFloat(N)){I=String(K);break e}}I=N}var se={},m1=K1.document&&f&&(E()||parseInt(I,10))||void 0;function N1(n,e){if(vr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(C){e:{try{a(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:De[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&N1.$.h.call(this)}}Rn(N1,vr);var De={2:"touch",3:"pen",4:"mouse"};N1.prototype.h=function(){N1.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var G1="closure_listenable_"+(1e6*Math.random()|0),p2=0;function Z2(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++p2,this.fa=this.ia=!1}function Qd(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Sz(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function AL(n){const e={};for(const t in n)e[t]=n[t];return e}const IL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<IL.length;s++)t=IL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Oy(n){this.src=n,this.g={},this.h=0}function zz(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=bz(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tz(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Oy.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Tz(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Z2(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var xz="closure_lm_"+(1e6*Math.random()|0),Ez={};function DL(n,e,t,r,i){if(r&&r.once)return PL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)DL(n,e[s],t,r,i);return null}return t=Iz(t),n&&n[G1]?n.O(e,t,Q7(r)?!!r.capture:!!r,i):NL(n,e,t,!1,r,i)}function NL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Q7(i)?!!i.capture:!!i,u=Vz(n);if(u||(n[xz]=u=new Oy(n)),(t=u.add(e,t,r,o,s)).proxy)return t;if(r=function HX(){const e=VX;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)VL||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(RL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function PL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PL(n,e[s],t,r,i);return null}return t=Iz(t),n&&n[G1]?n.P(e,t,Q7(r)?!!r.capture:!!r,i):NL(n,e,t,!0,r,i)}function kL(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)kL(n,e[s],t,r,i);else r=Q7(r)?!!r.capture:!!r,t=Iz(t),n&&n[G1]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tz(s=n.g[e],t,r,i))&&(Qd(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Vz(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tz(e,t,r,i)),(t=-1<n?e[n]:null)&&Hz(t))}function Hz(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[G1])zz(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(RL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Vz(e))?(zz(t,n),0==t.h&&(t.src=null,e[xz]=null)):Qd(n)}}}function RL(n){return n in Ez?Ez[n]:Ez[n]="on"+n}function VX(n,e){if(n.fa)n=!0;else{e=new N1(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Hz(n),n=t.call(r,e)}return n}function Vz(n){return(n=n[xz])instanceof Oy?n:null}var Az="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iz(n){return"function"==typeof n?n:(n[Az]||(n[Az]=function(e){return n.handleEvent(e)}),n[Az])}function yr(){zo.call(this),this.i=new Oy(this),this.S=this,this.J=null}function Rr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new vr(e,n);else if(e instanceof vr)e.target=e.target||n;else{var i=e;LL(e=new vr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Fy(o,r,!0,e)&&i}if(i=Fy(o=e.g=n,r,!0,e)&&i,i=Fy(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Fy(o=e.g=t[s],r,!1,e)&&i}function Fy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var u=o.listener,d=o.la||o.src;o.ia&&zz(n.i,o),i=!1!==u.call(d,r)&&i}}return i&&!r.defaultPrevented}Rn(yr,zo),yr.prototype[G1]=!0,yr.prototype.removeEventListener=function(n,e,t,r){kL(this,n,e,t,r)},yr.prototype.N=function(){if(yr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qd(t[r]);delete n.g[e],n.h--}}this.J=null},yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},yr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Lz=K1.JSON.stringify;function AX(){var n=BL;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Dz,OL=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LX,n=>n.reset());class LX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function DX(n){K1.setTimeout(()=>{throw n},0)}function FL(n,e){Dz||function NX(){var n=K1.Promise.resolve(void 0);Dz=function(){n.then(PX)}}(),Nz||(Dz(),Nz=!0),BL.add(n,e)}var Nz=!1,BL=new class IX{constructor(){this.h=this.g=null}add(e,t){const r=OL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function PX(){for(var n;n=AX();){try{n.h.call(n.g)}catch(t){DX(t)}var e=OL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nz=!1}function By(n,e){yr.call(this),this.h=n||1,this.g=e||K1,this.j=kr(this.qb,this),this.l=Date.now()}function Pz(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function kz(n,e,t){if("function"==typeof n)t&&(n=kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:K1.setTimeout(n,e||0)}function UL(n){n.g=kz(()=>{n.g=null,n.i&&(n.i=!1,UL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rn(By,yr),(l1=By.prototype).ga=!1,l1.T=null,l1.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rr(this,"tick"),this.ga&&(Pz(this),this.start()))}},l1.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},l1.N=function(){By.$.N.call(this),Pz(this),delete this.g};class kX extends zo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UL(this)}N(){super.N(),this.g&&(K1.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jd(n){zo.call(this),this.h=n,this.g={}}Rn(Jd,zo);var GL=[];function WL(n,e,t,r){Array.isArray(t)||(t&&(GL[0]=t.toString()),t=GL);for(var i=0;i<t.length;i++){var s=DL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function jL(n){Sz(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hz(e)},n),n.g={}}function Uy(){this.g=!0}function eu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function BX(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Lz(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Jd.prototype.N=function(){Jd.$.N.call(this),jL(this)},Jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uy.prototype.Ea=function(){this.g=!1},Uy.prototype.info=function(){};var q8={},$L=null;function Gy(){return $L=$L||new yr}function qL(n){vr.call(this,q8.Ta,n)}function eh(n){const e=Gy();Rr(e,new qL(e))}function ZL(n,e){vr.call(this,q8.STAT_EVENT,n),this.stat=e}function Si(n){const e=Gy();Rr(e,new ZL(e,n))}function KL(n,e){vr.call(this,q8.Ua,n),this.size=e}function th(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return K1.setTimeout(function(){n()},e)}q8.Ta="serverreachability",Rn(qL,vr),q8.STAT_EVENT="statevent",Rn(ZL,vr),q8.Ua="timingevent",Rn(KL,vr);var Wy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rz(){}function QL(){}Rz.prototype.h=null;var Bz,nh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Oz(){vr.call(this,"d")}function Fz(){vr.call(this,"c")}function jy(){}function rh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Jd(this),this.P=UX,this.V=new By(n=v?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new JL}function JL(){this.i=null,this.g="",this.h=!1}Rn(Oz,vr),Rn(Fz,vr),Rn(jy,Rz),jy.prototype.g=function(){return new XMLHttpRequest},jy.prototype.i=function(){return{}},Bz=new jy;var UX=45e3,Uz={},$y={};function Gz(n,e,t){n.L=1,n.v=Yy(Ba(e)),n.s=t,n.S=!0,eD(n,null)}function eD(n,e){n.G=Date.now(),ih(n),n.A=Ba(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),uD(t.i,"t",r),n.C=0,t=n.l.I,n.h=new JL,n.g=DD(n.l,t?e:null,!n.s),0<n.O&&(n.M=new kX(kr(n.Pa,n,n.g),n.O)),WL(n.U,n.g,"readystatechange",n.nb),e=n.I?AL(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),eh(),function RX(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",u=s.split("&"),d=0;d<u.length;d++){var m=u[d].split("=");if(1<m.length){var y=m[0];m=m[1];var b=y.split("_");o=2<=b.length&&"type"==b[1]?o+(y+"=")+m+"&":o+(y+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function tD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function nD(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=GX(n,t),i==$y){4==e&&(n.o=4,Si(14),r=!1),eu(n.j,n.m,null,"[Incomplete Response]");break}if(i==Uz){n.o=4,Si(15),eu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}eu(n.j,n.m,i,null),Wz(n,i)}tD(n)&&i!=$y&&i!=Uz&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Si(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qz(e),e.L=!0,Si(11))):(eu(n.j,n.m,t,"[Invalid Chunked Response]"),Z8(n),sh(n))}function GX(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?$y:(t=Number(e.substring(t,r)),isNaN(t)?Uz:(r+=1)+t>e.length?$y:(e=e.substr(r,t),n.C=r+t,e))}function ih(n){n.Y=Date.now()+n.P,rD(n,n.P)}function rD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=th(kr(n.lb,n),e)}function qy(n){n.B&&(K1.clearTimeout(n.B),n.B=null)}function sh(n){0==n.l.H||n.J||VD(n.l,n)}function Z8(n){qy(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Pz(n.V),jL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Wz(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||jz(t.h,n)))if(!n.K&&jz(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;n_(t),e_(t)}Xz(t),Si(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=th(kr(t.ib,t),6e3));if(1>=hD(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Y8(t,11)}else if((n.K||t.g==n)&&n_(t),!Yd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(t.V=m[0],m=m[1],2==t.H)if("c"==m[0]){t.J=m[1],t.oa=m[2];const y=m[3];null!=y&&(t.qa=y,t.j.info("VER="+t.qa));const b=m[4];null!=b&&(t.Ga=b,t.j.info("SVER="+t.Ga));const T=m[5];null!=T&&"number"==typeof T&&0<T&&(t.K=r=1.5*T,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const A=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var s=r.h;s.g||-1==A.indexOf("spdy")&&-1==A.indexOf("quic")&&-1==A.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($z(s,s.h),s.h=null))}if(r.F){const D=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,O2(r.G,r.F,D))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=LD(r,r.I?r.oa:null,r.Y),o.K){pD(r.h,o);var u=o,d=r.K;d&&u.setTimeout(d),u.B&&(qy(u),ih(u)),r.g=o}else ED(r);0<t.i.length&&t_(t)}else"stop"!=m[0]&&"close"!=m[0]||Y8(t,7);else 3==t.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?Y8(t,7):Yz(t):"noop"!=m[0]&&t.l&&t.l.Aa(m),t.A=0)}eh()}catch{}}function iD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(G6(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jX(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(G6(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function WX(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(G6(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(l1=rh.prototype).setTimeout=function(n){this.P=n},l1.nb=function(n){n=n.target;const e=this.M;e&&3==Ua(n)?e.l():this.Pa(n)},l1.Pa=function(n){try{if(n==this.g)e:{const y=Ua(this.g);var e=this.g.Ia();if(this.g.da(),!(3>y)&&(3!=y||v||this.g&&(this.h.h||this.g.ja()||MD(this.g)))){this.J||4!=y||7==e||eh(),qy(this);var t=this.g.da();this.aa=t;t:if(tD(this)){var r=MD(this.g);n="";var i=r.length,s=4==Ua(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Z8(this),sh(this);var o="";break t}this.h.i=new K1.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function OX(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,y,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,d=this.g;if((u=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yd(u)){var m=u;break t}}m=null}if(!(t=m)){this.i=!1,this.o=3,Si(12),Z8(this),sh(this);break e}eu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wz(this,t)}this.S?(nD(this,y,o),v&&this.i&&3==y&&(WL(this.U,this.V,"tick",this.mb),this.V.start())):(eu(this.j,this.m,o,null),Wz(this,o)),4==y&&Z8(this),this.i&&!this.J&&(4==y?VD(this.l,this):(this.i=!1,ih(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Si(12)):(this.o=0,Si(13)),Z8(this),sh(this)}}}catch{}},l1.mb=function(){if(this.g){var n=Ua(this.g),e=this.g.ja();this.C<e.length&&(qy(this),nD(this,n,e),this.i&&4!=n&&ih(this))}},l1.cancel=function(){this.J=!0,Z8(this)},l1.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function FX(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(eh(),Si(17)),Z8(this),this.o=2,sh(this)):rD(this,this.Y-n)};var sD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K8(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof K8){this.h=void 0!==e?e:n.h,Zy(this,n.j),this.s=n.s,this.g=n.g,Ky(this,n.m),this.l=n.l,e=n.i;var t=new ch;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oD(this,t),this.o=n.o}else n&&(t=String(n).match(sD))?(this.h=!!e,Zy(this,t[1]||"",!0),this.s=oh(t[2]||""),this.g=oh(t[3]||"",!0),Ky(this,t[4]),this.l=oh(t[5]||"",!0),oD(this,t[6]||"",!0),this.o=oh(t[7]||"")):(this.h=!!e,this.i=new ch(null,this.h))}function Ba(n){return new K8(n)}function Zy(n,e,t){n.j=t?oh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ky(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oD(n,e,t){e instanceof ch?(n.i=e,function QX(n,e){e&&!n.j&&(W6(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(cD(this,r),uD(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ah(e,YX)),n.i=new ch(e,n.h))}function O2(n,e,t){n.i.set(e,t)}function Yy(n){return O2(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function oh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ah(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qX(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}K8.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ah(e,aD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ah(e,aD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ah(t,"/"==t.charAt(0)?KX:ZX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ah(t,XX)),n.join("")};var aD=/[#\/\?@]/g,ZX=/[#\?:]/g,KX=/[#\?]/g,YX=/[#\?@]/g,XX=/#/g;function ch(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function W6(n){n.g||(n.g=new Map,n.h=0,n.i&&function $X(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cD(n,e){W6(n),e=tu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lD(n,e){return W6(n),e=tu(n,e),n.g.has(e)}function uD(n,e,t){cD(n,e),0<t.length&&(n.i=null,n.g.set(tu(n,e),ky(t)),n.h+=t.length)}function tu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fD(n){this.l=n||eQ,n=K1.PerformanceNavigationTiming?0<(n=K1.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(K1.g&&K1.g.Ka&&K1.g.Ka()&&K1.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(l1=ch.prototype).add=function(n,e){W6(this),this.i=null,n=tu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},l1.forEach=function(n,e){W6(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},l1.sa=function(){W6(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},l1.Z=function(n){W6(this);let e=[];if("string"==typeof n)lD(this,n)&&(e=e.concat(this.g.get(tu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},l1.set=function(n,e){return W6(this),this.i=null,lD(this,n=tu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},l1.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},l1.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var eQ=10;function dD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hD(n){return n.h?1:n.g?n.g.size:0}function jz(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $z(n,e){n.g?n.g.add(e):n.h=e}function pD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ky(n.i)}function qz(){}function tQ(){this.g=new qz}function nQ(n,e,t){const r=t||"";try{iD(n,function(i,s){let o=i;Q7(i)&&(o=Lz(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lh(n){this.l=n.fc||null,this.j=n.ob||!1}function Qy(n,e){yr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Zz,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fD.prototype.cancel=function(){if(this.i=mD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qz.prototype.stringify=function(n){return K1.JSON.stringify(n,void 0)},qz.prototype.parse=function(n){return K1.JSON.parse(n,void 0)},Rn(lh,Rz),lh.prototype.g=function(){return new Qy(this.l,this.j)},lh.prototype.i=function(n){return function(){return n}}({}),Rn(Qy,yr);var Zz=0;function gD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function uh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fh(n)}function fh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(l1=Qy.prototype).open=function(n,e){if(this.readyState!=Zz)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fh(this)},l1.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||K1).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},l1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uh(this)),this.readyState=Zz},l1.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K1.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},l1.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?uh(this):fh(this),3==this.readyState&&gD(this)}},l1.Za=function(n){this.g&&(this.response=this.responseText=n,uh(this))},l1.Ya=function(n){this.g&&(this.response=n,uh(this))},l1.ka=function(){this.g&&uh(this)},l1.setRequestHeader=function(n,e){this.v.append(n,e)},l1.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},l1.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Qy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iQ=K1.JSON.parse;function ln(n){yr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vD,this.L=this.M=!1}Rn(ln,yr);var vD="",sQ=/^https?$/i,oQ=["POST","PUT"];function yD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_D(n),Jy(n)}function _D(n){n.F||(n.F=!0,Rr(n,"complete"),Rr(n,"error"))}function CD(n){if(n.h&&typeof Kd<"u"&&(!n.C[1]||4!=Ua(n)||2!=n.da()))if(n.v&&4==Ua(n))kz(n.La,0,n);else if(Rr(n,"readystatechange"),4==Ua(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(sD)[1]||null;if(!i&&K1.self&&K1.self.location){var s=K1.self.location.protocol;i=s.substr(0,s.length-1)}r=!sQ.test(i?i.toLowerCase():"")}t=r}if(t)Rr(n,"complete"),Rr(n,"success");else{n.m=6;try{var o=2<Ua(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",_D(n)}}finally{Jy(n)}}}function Jy(n,e){if(n.g){bD(n);const t=n.g,r=n.C[0]?j8:null;n.g=null,n.C=null,e||Rr(n,"ready");try{t.onreadystatechange=r}catch{}}}function bD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(K1.clearTimeout(n.A),n.A=null)}function Ua(n){return n.g?n.g.readyState:0}function MD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case vD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wD(n){let e="";return Sz(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Kz(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=wD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):O2(n,e,t))}function dh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SD(n){this.Ga=0,this.i=[],this.j=new Uy,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dh("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dh("baseRetryDelayMs",5e3,n),this.hb=dh("retryDelaySeedMs",1e4,n),this.eb=dh("forwardChannelMaxRetries",2,n),this.xa=dh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new fD(n&&n.concurrentRequestLimit),this.Ja=new tQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Yz(n){if(zD(n),3==n.H){var e=n.W++,t=Ba(n.G);O2(t,"SID",n.J),O2(t,"RID",e),O2(t,"TYPE","terminate"),hh(n,t),(e=new rh(n,n.j,e,void 0)).L=2,e.v=Yy(Ba(t)),t=!1,K1.navigator&&K1.navigator.sendBeacon&&(t=K1.navigator.sendBeacon(e.v.toString(),"")),!t&&K1.Image&&((new Image).src=e.v,t=!0),t||(e.g=DD(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ih(e)}ID(n)}function e_(n){n.g&&(Qz(n),n.g.cancel(),n.g=null)}function zD(n){e_(n),n.u&&(K1.clearTimeout(n.u),n.u=null),n_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&K1.clearTimeout(n.m),n.m=null)}function t_(n){dD(n.h)||n.m||(n.m=!0,FL(n.Na,n),n.C=0)}function TD(n,e){var t;t=e?e.m:n.W++;const r=Ba(n.G);O2(r,"SID",n.J),O2(r,"RID",t),O2(r,"AID",n.V),hh(n,r),n.o&&n.s&&Kz(r,n.o,n.s),t=new rh(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=xD(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),$z(n.h,t),Gz(t,r,e)}function hh(n,e){n.ma&&Sz(n.ma,function(t,r){O2(e,r,t)}),n.l&&iD({},function(t,r){O2(e,r,t)})}function xD(n,e,t){t=Math.min(n.i.length,t);var r=n.l?kr(n.l.Va,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let d=0;d<t;d++){let m=i[d].h;const y=i[d].g;if(m-=s,0>m)s=Math.max(0,i[d].h-100),u=!1;else try{nQ(y,o,"req"+m+"_")}catch{r&&r(y)}}if(u){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function ED(n){n.g||n.u||(n.ba=1,FL(n.Ma,n),n.A=0)}function Xz(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=th(kr(n.Ma,n),AD(n,n.A)),n.A++,0))}function Qz(n){null!=n.B&&(K1.clearTimeout(n.B),n.B=null)}function HD(n){n.g=new rh(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ba(n.wa);O2(e,"RID","rpc"),O2(e,"SID",n.J),O2(e,"CI",n.M?"0":"1"),O2(e,"AID",n.V),O2(e,"TYPE","xmlhttp"),hh(n,e),n.o&&n.s&&Kz(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Yy(Ba(e)),t.s=null,t.S=!0,eD(t,n)}function n_(n){null!=n.v&&(K1.clearTimeout(n.v),n.v=null)}function VD(n,e){var t=null;if(n.g==e){n_(n),Qz(n),n.g=null;var r=2}else{if(!jz(n.h,e))return;t=e.F,pD(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Rr(r=Gy(),new KL(r,t)),t_(n)}else ED(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function cQ(n,e){return!(hD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=th(kr(n.Na,n,e),AD(n,n.C)),n.C++,0)))}(n,e)||2==r&&Xz(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Y8(n,5);break;case 4:Y8(n,10);break;case 3:Y8(n,6);break;default:Y8(n,2)}}function AD(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Y8(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=kr(n.pb,n);t||(t=new K8("//www.google.com/images/cleardot.gif"),K1.location&&"http"==K1.location.protocol||Zy(t,"https"),Yy(t)),function rQ(n,e){const t=new Uy;if(K1.Image){const r=new Image;r.onload=J7(Xy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=J7(Xy,t,r,"TestLoadImage: error",!1,e),r.onabort=J7(Xy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=J7(Xy,t,r,"TestLoadImage: timeout",!1,e),K1.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Si(2);n.H=0,n.l&&n.l.za(e),ID(n),zD(n)}function ID(n){if(n.H=0,n.pa=[],n.l){const e=mD(n.h);(0!=e.length||0!=n.i.length)&&(Mz(n.pa,e),Mz(n.pa,n.i),n.h.i.length=0,ky(n.i),n.i.length=0),n.l.ya()}}function LD(n,e,t){var r=t instanceof K8?Ba(t):new K8(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Ky(r,r.m);else{var i=K1.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new K8(null,void 0);r&&Zy(s,r),e&&(s.g=e),i&&Ky(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&O2(r,t,e),O2(r,"VER",n.qa),hh(n,r),r}function DD(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ln(t&&n.Ha&&!n.va?new lh({ob:!0}):n.va)).Oa(n.I),e}function ND(){}function r_(){if(f&&!(10<=Number(m1)))throw Error("Environmental error: no available transport.")}function L3(n,e){yr.call(this),this.g=new SD(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Yd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nu(this)}function PD(n){Oz.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kD(){Fz.call(this),this.status=1}function nu(n){this.g=n}function Cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jz(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Zt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(l1=ln.prototype).Oa=function(n){this.M=n},l1.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bz.g(),this.C=function XL(n){return n.h||(n.h=n.i())}(this.u?this.u:Bz),this.g.onreadystatechange=kr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void yD(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=K1.FormData&&n instanceof K1.FormData,!(0<=bz(oQ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bD(this),0<this.B&&((this.L=function aQ(n){return f&&function Se(){return c(se,9,function(){let n=0;const e=wz(String(I)).split("."),t=wz("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Ry(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Ry(0==i[2].length,0==s[2].length)||Ry(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.ua,this)):this.A=kz(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){yD(this,s)}},l1.ua=function(){typeof Kd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rr(this,"timeout"),this.abort(8))},l1.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rr(this,"complete"),Rr(this,"abort"),Jy(this))},l1.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jy(this,!0)),ln.$.N.call(this)},l1.La=function(){this.s||(this.G||this.v||this.l?CD(this):this.kb())},l1.kb=function(){CD(this)},l1.da=function(){try{return 2<Ua(this)?this.g.status:-1}catch{return-1}},l1.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},l1.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iQ(e)}},l1.Ia=function(){return this.m},l1.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(l1=SD.prototype).qa=8,l1.H=1,l1.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new rh(this,this.j,n,void 0);let s=this.s;if(this.U&&(s?(s=AL(s),LL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xD(this,i,e),O2(t=Ba(this.G),"RID",n),O2(t,"CVER",22),this.F&&O2(t,"X-HTTP-Session-Id",this.F),hh(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(wD(s)))+"&"+e:this.o&&Kz(t,this.o,s)),$z(this.h,i),this.bb&&O2(t,"TYPE","init"),this.P?(O2(t,"$req",e),O2(t,"SID","null"),i.ba=!0,Gz(i,t,null)):Gz(i,t,e),this.H=2}}else 3==this.H&&(n?TD(this,n):0==this.i.length||dD(this.h)||TD(this))},l1.Ma=function(){if(this.u=null,HD(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=th(kr(this.jb,this),n)}},l1.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Si(10),e_(this),HD(this))},l1.ib=function(){null!=this.v&&(this.v=null,e_(this),Xz(this),Si(19))},l1.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Si(2)):(this.j.info("Failed to ping google.com"),Si(1))},(l1=ND.prototype).Ba=function(){},l1.Aa=function(){},l1.za=function(){},l1.ya=function(){},l1.Va=function(){},r_.prototype.g=function(n,e){return new L3(n,e)},Rn(L3,yr),L3.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Si(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=LD(n,null,n.Y),t_(n)},L3.prototype.close=function(){Yz(this.g)},L3.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Lz(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&t_(e)},L3.prototype.N=function(){this.g.l=null,delete this.j,Yz(this.g),delete this.g,L3.$.N.call(this)},Rn(PD,Oz),Rn(kD,Fz),Rn(nu,ND),nu.prototype.Ba=function(){Rr(this.g,"a")},nu.prototype.Aa=function(n){Rr(this.g,new PD(n))},nu.prototype.za=function(n){Rr(this.g,new kD)},nu.prototype.ya=function(){Rr(this.g,"b")},Rn(Cs,function lQ(){this.blockSize=-1}),Cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)Jz(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){Jz(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){Jz(this,r),i=0;break}}this.h=i,this.i+=e},Cs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var uQ={};function eT(n){return-128<=n&&128>n?c(uQ,n,function(e){return new Zt([0|e],0>e?-1:0)}):new Zt([0|n],0>n?-1:0)}function To(n){if(isNaN(n)||!isFinite(n))return ru;if(0>n)return Or(To(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=tT;return new Zt(e,0)}var tT=4294967296,ru=eT(0),nT=eT(1),OD=eT(16777216);function Ga(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function C4(n){return-1==n.h}function Or(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Zt(t,~n.h).add(nT)}function i_(n,e){return n.add(Or(e))}function s_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ph(n,e){this.g=n,this.h=e}function o_(n,e){if(Ga(e))throw Error("division by zero");if(Ga(n))return new ph(ru,ru);if(C4(n))return e=o_(Or(n),e),new ph(Or(e.g),Or(e.h));if(C4(e))return e=o_(n,Or(e)),new ph(Or(e.g),e.h);if(30<n.g.length){if(C4(n)||C4(e))throw Error("slowDivide_ only works with positive integers.");for(var t=nT,r=e;0>=r.X(n);)t=FD(t),r=FD(r);var i=iu(t,1),s=iu(r,1);for(r=iu(r,2),t=iu(t,2);!Ga(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=iu(r,1),t=iu(t,1)}return e=i_(n,i.R(e)),new ph(i,e)}for(i=ru;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=To(t)).R(e);C4(o)||0<o.X(n);)o=(s=To(t-=r)).R(e);Ga(s)&&(s=nT),i=i.add(s),n=i_(n,o)}return new ph(i,n)}function FD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Zt(t,n.h)}function iu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Zt(i,n.h)}(l1=Zt.prototype).ea=function(){if(C4(this))return-Or(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:tT+r)*e,e*=tT}return n},l1.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ga(this))return"0";if(C4(this))return"-"+Or(this).toString(n);for(var e=To(Math.pow(n,6)),t=this,r="";;){var i=o_(t,e).g,s=((0<(t=i_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ga(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},l1.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},l1.X=function(n){return C4(n=i_(this,n))?-1:Ga(n)?0:1},l1.abs=function(){return C4(this)?Or(this):this},l1.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Zt(t,-2147483648&t[t.length-1]?-1:0)},l1.R=function(n){if(Ga(this)||Ga(n))return ru;if(C4(this))return C4(n)?Or(this).R(Or(n)):Or(Or(this).R(n));if(C4(n))return Or(this.R(Or(n)));if(0>this.X(OD)&&0>n.X(OD))return To(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),u=n.D(i)>>>16,d=65535&n.D(i);t[2*r+2*i]+=o*d,s_(t,2*r+2*i),t[2*r+2*i+1]+=s*d,s_(t,2*r+2*i+1),t[2*r+2*i+1]+=o*u,s_(t,2*r+2*i+1),t[2*r+2*i+2]+=s*u,s_(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Zt(t,0)},l1.gb=function(n){return o_(this,n).h},l1.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Zt(t,this.h&n.h)},l1.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Zt(t,this.h|n.h)},l1.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Zt(t,this.h^n.h)},r_.prototype.createWebChannel=r_.prototype.g,L3.prototype.send=L3.prototype.u,L3.prototype.open=L3.prototype.m,L3.prototype.close=L3.prototype.close,Wy.NO_ERROR=0,Wy.TIMEOUT=8,Wy.HTTP_ERROR=6,YL.COMPLETE="complete",QL.EventType=nh,nh.OPEN="a",nh.CLOSE="b",nh.ERROR="c",nh.MESSAGE="d",yr.prototype.listen=yr.prototype.O,ln.prototype.listenOnce=ln.prototype.P,ln.prototype.getLastError=ln.prototype.Sa,ln.prototype.getLastErrorCode=ln.prototype.Ia,ln.prototype.getStatus=ln.prototype.da,ln.prototype.getResponseJson=ln.prototype.Wa,ln.prototype.getResponseText=ln.prototype.ja,ln.prototype.send=ln.prototype.ha,ln.prototype.setWithCredentials=ln.prototype.Oa,Cs.prototype.digest=Cs.prototype.l,Cs.prototype.reset=Cs.prototype.reset,Cs.prototype.update=Cs.prototype.j,Zt.prototype.add=Zt.prototype.add,Zt.prototype.multiply=Zt.prototype.R,Zt.prototype.modulo=Zt.prototype.gb,Zt.prototype.compare=Zt.prototype.X,Zt.prototype.toNumber=Zt.prototype.ea,Zt.prototype.toString=Zt.prototype.toString,Zt.prototype.getBits=Zt.prototype.D,Zt.fromNumber=To,Zt.fromString=function RD(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Or(RD(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=To(Math.pow(e,8)),r=ru,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=To(Math.pow(e,s)),r=r.R(s).add(To(o))):r=(r=r.R(t)).add(To(o))}return r};var fQ=e3.createWebChannelTransport=function(){return new r_},dQ=e3.getStatEventTarget=function(){return Gy()},rT=e3.ErrorCode=Wy,hQ=e3.EventType=YL,pQ=e3.Event=q8,BD=e3.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mQ=e3.FetchXmlHttpFactory=lh,a_=e3.WebChannel=QL,gQ=e3.XhrIo=ln,vQ=e3.Md5=Cs,su=e3.Integer=Zt;const UD="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let ou="9.22.0";const j6=new ys.Yd("@firebase/firestore");function iT(){return j6.logLevel}function Be(n,...e){if(j6.logLevel<=ys.in.DEBUG){const t=e.map(sT);j6.debug(`Firestore (${ou}): ${n}`,...t)}}function bn(n,...e){if(j6.logLevel<=ys.in.ERROR){const t=e.map(sT);j6.error(`Firestore (${ou}): ${n}`,...t)}}function bs(n,...e){if(j6.logLevel<=ys.in.WARN){const t=e.map(sT);j6.warn(`Firestore (${ou}): ${n}`,...t)}}function sT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function g1(n="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+n;throw bn(e),new Error(e)}function S1(n,e){n||g1()}function c1(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ie.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class GD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class _Q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class CQ{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const m=o;e.enqueueRetryable((0,ne.Z)(function*(){yield m.promise,yield s(r.currentUser)}))},d=m=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(S1("string"==typeof r.accessToken),new GD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return S1(null===e||"string"==typeof e),new _r(e)}}class bQ{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class MQ{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new bQ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wQ{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(S1("string"==typeof t.token),this.T=t.token,new WD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function SQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class jD{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Q1(n,e){return n<e?-1:n>e?1:0}function au(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class K2{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return K2.fromMillis(Date.now())}static fromDate(e){return K2.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new K2(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q1(this.nanoseconds,e.nanoseconds):Q1(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V1{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V1(e)}static min(){return new V1(new K2(0,0))}static max(){return new V1(new K2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mh{constructor(e,t,r){void 0===t?t=0:t>e.length&&g1(),void 0===r?r=e.length-t:r>e.length-t&&g1(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===mh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends mh{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const zQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends mh{construct(e,t,r){return new Mn(e,t,r)}static isValidIdentifier(e){return zQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if("\\"===u){if(i+1===e.length)throw new Ne(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if("\\"!==d&&"."!==d&&"`"!==d)throw new Ne(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Ne(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(t)}static emptyPath(){return new Mn([])}}class a1{constructor(e){this.path=e}static fromPath(e){return new a1(zt.fromString(e))}static fromName(e){return new a1(zt.fromString(e).popFirst(5))}static empty(){return new a1(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new a1(new zt(e.slice()))}}function ZD(n){return new D3(n.readTime,n.key,-1)}class D3{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new D3(V1.min(),a1.empty(),-1)}static max(){return new D3(V1.max(),a1.empty(),-1)}}function aT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=a1.comparator(n.documentKey,e.documentKey),0!==t?t:Q1(n.largestBatchId,e.largestBatchId))}const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $6(n){return cT.apply(this,arguments)}function cT(){return cT=(0,ne.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==KD)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),cT.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&g1(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&t()},d=>r(d))}),o=!0,s===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let d=0;d<s;d++){const m=d;t(e[m]).next(y=>{o[m]=y,++u,u===s&&r(o)},y=>i(y))}})}static doWhile(e,t){return new ce((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function q6(n){return"IndexedDbTransactionError"===n.name}let N3=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function yh(n){return null==n}function _h(n){return 0===n&&1/n==-1/0}function iN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Z6(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class m2{constructor(e,t){this.comparator=e,this.root=t||Fr.EMPTY}insert(e,t){return new m2(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new m2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new d_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new d_(this.root,e,this.comparator,!1)}getReverseIterator(){return new d_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new d_(this.root,e,this.comparator,!0)}}class d_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Fr.RED,this.left=i??Fr.EMPTY,this.right=s??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Fr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw g1();const e=this.left.check();if(e!==this.right.check())throw g1();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw g1()}get value(){throw g1()}get color(){throw g1()}get left(){throw g1()}get right(){throw g1()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class z2{constructor(e){this.comparator=e,this.data=new m2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oN(this.data.getIterator())}getIteratorFrom(e){return new oN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof z2)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new z2(this.comparator);return t.data=e,t}}class oN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class t3{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new t3([])}unionWith(e){let t=new z2(Mn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new t3(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class aN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aN("Invalid base64 string: "+i):i}}(e);return new tr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q1(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const XQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function K6(n){if(S1(!!n),"string"==typeof n){let e=0;const t=XQ.exec(n);if(S1(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(n.seconds),nanos:un(n.nanos)}}function un(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wa(n){return"string"==typeof n?tr.fromBase64String(n):tr.fromUint8Array(n)}function h_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function p_(n){const e=n.mapValue.fields.__previous_value__;return h_(e)?p_(e):e}function Ch(n){const e=K6(n.mapValue.fields.__local_write_time__.timestampValue);return new K2(e.seconds,e.nanos)}class QQ{constructor(e,t,r,i,s,o,u,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=m}}class J8{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new J8("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof J8&&e.projectId===this.projectId&&e.database===this.database}}const Y6={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function X6(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?h_(n)?4:fN(n)?9007199254740991:10:g1()}function Eo(n,e){if(n===e)return!0;const t=X6(n);if(t!==X6(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ch(n).isEqual(Ch(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=K6(r.timestampValue),o=K6(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Wa(n.bytesValue).isEqual(Wa(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return un(r.geoPointValue.latitude)===un(i.geoPointValue.latitude)&&un(r.geoPointValue.longitude)===un(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return un(r.integerValue)===un(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=un(r.doubleValue),o=un(i.doubleValue);return s===o?_h(s)===_h(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return au(n.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(iN(s)!==iN(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===o[u]||!Eo(s[u],o[u])))return!1;return!0}(n,e);default:return g1()}var i}function bh(n,e){return void 0!==(n.values||[]).find(t=>Eo(t,e))}function Q6(n,e){if(n===e)return 0;const t=X6(n),r=X6(e);if(t!==r)return Q1(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Q1(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=un(i.integerValue||i.doubleValue),u=un(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(n,e);case 3:return cN(n.timestampValue,e.timestampValue);case 4:return cN(Ch(n),Ch(e));case 5:return Q1(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Wa(i),u=Wa(s);return o.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let d=0;d<o.length&&d<u.length;d++){const m=Q1(o[d],u[d]);if(0!==m)return m}return Q1(o.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q1(un(i.latitude),un(s.latitude));return 0!==o?o:Q1(un(i.longitude),un(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let d=0;d<o.length&&d<u.length;++d){const m=Q6(o[d],u[d]);if(m)return m}return Q1(o.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Y6.mapValue&&s===Y6.mapValue)return 0;if(i===Y6.mapValue)return 1;if(s===Y6.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),d=s.fields||{},m=Object.keys(d);u.sort(),m.sort();for(let y=0;y<u.length&&y<m.length;++y){const b=Q1(u[y],m[y]);if(0!==b)return b;const T=Q6(o[u[y]],d[m[y]]);if(0!==T)return T}return Q1(u.length,m.length)}(n.mapValue,e.mapValue);default:throw g1()}}function cN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Q1(n,e);const t=K6(n),r=K6(e),i=Q1(t.seconds,r.seconds);return 0!==i?i:Q1(t.nanos,r.nanos)}function lu(n){return fT(n)}function fT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=K6(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wa(n.bytesValue).toBase64():"referenceValue"in n?a1.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=fT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${fT(r.fields[u])}`;return s+"}"}(n.mapValue):g1();var e}function e5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dT(n){return!!n&&"integerValue"in n}function Mh(n){return!!n&&"arrayValue"in n}function lN(n){return!!n&&"nullValue"in n}function uN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function v_(n){return!!n&&"mapValue"in n}function wh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Z6(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!v_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(t)}setAll(e){let t=Mn.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}o?r[u.lastSegment()]=wh(o):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());v_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];v_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Z6(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Br(wh(this.value))}}function pN(n){const e=[];return Z6(n.fields,(t,r)=>{const i=new Mn([t]);if(v_(r)){const s=pN(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new t3(e)}class T2{constructor(e,t,r,i,s,o,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new T2(e,0,V1.min(),V1.min(),V1.min(),Br.empty(),0)}static newFoundDocument(e,t,r,i){return new T2(e,1,t,V1.min(),r,i,0)}static newNoDocument(e,t){return new T2(e,2,t,V1.min(),V1.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new T2(e,3,t,V1.min(),V1.min(),Br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(V1.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V1.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof T2&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new T2(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class J6{constructor(e,t){this.position=e,this.inclusive=t}}function mN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?a1.comparator(a1.fromName(o.referenceValue),t.key):Q6(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Eo(n.position[t],e.position[t]))return!1;return!0}class uu{constructor(e,t="asc"){this.field=e,this.dir=t}}function tJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class vN{}class bt extends vN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new nJ(e,t,r):"array-contains"===t?new sJ(e,r):"in"===t?new wN(e,r):"not-in"===t?new oJ(e,r):"array-contains-any"===t?new aJ(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rJ(e,r):new iJ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Q6(t,this.value)):null!==t&&X6(this.value)===X6(t)&&this.matchesComparison(Q6(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g1()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kt extends vN{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Kt(e,t)}matches(e){return fu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fu(n){return"and"===n.op}function pT(n){return function yN(n){for(const e of n.filters)if(e instanceof Kt)return!1;return!0}(n)&&fu(n)}function mT(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+lu(n.value);if(pT(n))return n.filters.map(e=>mT(e)).join(",");{const e=n.filters.map(t=>mT(t)).join(",");return`${n.op}(${e})`}}function _N(n,e){return n instanceof bt?(t=n,(r=e)instanceof bt&&t.op===r.op&&t.field.isEqual(r.field)&&Eo(t.value,r.value)):n instanceof Kt?function(t,r){return r instanceof Kt&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&_N(s,r.filters[o]),!0)}(n,e):void g1();var t,r}function bN(n){return n instanceof bt?`${(e=n).field.canonicalString()} ${e.op} ${lu(e.value)}`:n instanceof Kt?function(e){return e.op.toString()+" {"+e.getFilters().map(bN).join(" ,")+"}"}(n):"Filter";var e}class nJ extends bt{constructor(e,t,r){super(e,t,r),this.key=a1.fromName(r.referenceValue)}matches(e){const t=a1.comparator(e.key,this.key);return this.matchesComparison(t)}}class rJ extends bt{constructor(e,t){super(e,"in",t),this.keys=MN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iJ extends bt{constructor(e,t){super(e,"not-in",t),this.keys=MN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function MN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>a1.fromName(r.referenceValue))}class sJ extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mh(t)&&bh(t.arrayValue,this.value)}}class wN extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bh(this.value.arrayValue,t)}}class oJ extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bh(this.value.arrayValue,t)}}class aJ extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bh(this.value.arrayValue,r))}}class cJ{constructor(e,t=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.dt=null}}function gT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new cJ(n,e,t,r,i,s,o)}function t5(n){const e=c1(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lu(r)).join(",")),e.dt=t}return e.dt}function Sh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_N(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gN(n.startAt,e.startAt)&&gN(n.endAt,e.endAt)}function y_(n){return a1.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ja{constructor(e,t=null,r=[],i=[],s=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=d,this.wt=null,this._t=null}}function du(n){return new ja(n)}function xN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function C_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function yT(n){return null!==n.collectionGroup}function n5(n){const e=c1(n);if(null===e.wt){e.wt=[];const t=C_(e),r=vT(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new uu(t)),e.wt.push(new uu(Mn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new uu(Mn.keyField(),s))}}}return e.wt}function zi(n){const e=c1(n);if(!e._t)if("F"===e.limitType)e._t=gT(e.path,e.collectionGroup,n5(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of n5(e))t.push(new uu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new J6(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new J6(e.startAt.position,e.startAt.inclusive):null;e._t=gT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function _T(n,e){e.getFirstInequalityField(),C_(n);const t=n.filters.concat([e]);return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function b_(n,e,t){return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zh(n,e){return Sh(zi(n),zi(e))&&n.limitType===e.limitType}function EN(n){return`${t5(zi(n))}|lt:${n.limitType}`}function CT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>bN(r)).join(", ")}]`),yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lu(r)).join(",")),`Target(${t})`}(zi(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):a1.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of n5(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const u=mN(i,s,o);return i.inclusive?u<=0:u<0}(t.startAt,n5(t),r)||t.endAt&&!function(i,s,o){const u=mN(i,s,o);return i.inclusive?u>=0:u>0}(t.endAt,n5(t),r)));var t,r}function VN(n){return(e,t)=>{let r=!1;for(const i of n5(n)){const s=lJ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function lJ(n,e,t){const r=n.field.isKeyField()?a1.comparator(e.key,t.key):function(i,s,o){const u=s.data.field(i),d=o.data.field(i);return null!==u&&null!==d?Q6(u,d):g1()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return g1()}}class $a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Z6(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return sN(this.inner)}size(){return this.innerSize}}const uJ=new m2(a1.comparator);function n3(){return uJ}const AN=new m2(a1.comparator);function xh(...n){let e=AN;for(const t of n)e=e.insert(t.key,t);return e}function IN(n){let e=AN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ho(){return Eh()}function LN(){return Eh()}function Eh(){return new $a(n=>n.toString(),(n,e)=>n.isEqual(e))}const fJ=new m2(a1.comparator),dJ=new z2(a1.comparator);function lt(...n){let e=dJ;for(const t of n)e=e.add(t);return e}const hJ=new z2(Q1);function DN(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function NN(n){return{integerValue:""+n}}function PN(n,e){return function XD(n){return"number"==typeof n&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?NN(e):DN(n,e)}class M_{constructor(){this._=void 0}}function pJ(n,e,t){return n instanceof hu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&h_(i)&&(i=p_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof r5?RN(n,e):n instanceof i5?ON(n,e):function(r,i){const s=kN(r,i),o=FN(s)+FN(r.gt);return dT(s)&&dT(r.gt)?NN(o):DN(r.serializer,o)}(n,e)}function mJ(n,e,t){return n instanceof r5?RN(n,e):n instanceof i5?ON(n,e):t}function kN(n,e){return n instanceof pu?dT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class hu extends M_{}class r5 extends M_{constructor(e){super(),this.elements=e}}function RN(n,e){const t=BN(e);for(const r of n.elements)t.some(i=>Eo(i,r))||t.push(r);return{arrayValue:{values:t}}}class i5 extends M_{constructor(e){super(),this.elements=e}}function ON(n,e){let t=BN(e);for(const r of n.elements)t=t.filter(i=>!Eo(i,r));return{arrayValue:{values:t}}}class pu extends M_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function FN(n){return un(n.integerValue||n.doubleValue)}function BN(n){return Mh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vJ{constructor(e,t){this.version=e,this.transformResults=t}}class F2{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new F2}static exists(e){return new F2(void 0,e)}static updateTime(e){return new F2(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function w_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class S_{}function UN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new gu(n.key,F2.none()):new mu(n.key,n.data,F2.none());{const t=n.data,r=Br.empty();let i=new z2(Mn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new qa(n.key,r,new t3(i.toArray()),F2.none())}}function yJ(n,e,t){n instanceof mu?function(r,i,s){const o=r.value.clone(),u=jN(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof qa?function(r,i,s){if(!w_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=jN(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(WN(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vh(n,e,t,r){return n instanceof mu?function(i,s,o,u){if(!w_(i.precondition,s))return o;const d=i.value.clone(),m=$N(i.fieldTransforms,u,s);return d.setAll(m),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof qa?function(i,s,o,u){if(!w_(i.precondition,s))return o;const d=$N(i.fieldTransforms,u,s),m=s.data;return m.setAll(WN(i)),m.setAll(d),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(n,e,t,r):(o=t,w_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function _J(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kN(r.transform,i||null);null!=s&&(null===t&&(t=Br.empty()),t.set(r.field,s))}return t||null}function GN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&au(t,r,(i,s)=>function gJ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof r5&&r instanceof r5||t instanceof i5&&r instanceof i5?au(t.elements,r.elements,Eo):t instanceof pu&&r instanceof pu?Eo(t.gt,r.gt):t instanceof hu&&r instanceof hu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class mu extends S_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qa extends S_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jN(n,e,t){const r=new Map;S1(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,mJ(o,u,t[i]))}return r}function $N(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,pJ(s,o,e))}return r}class gu extends S_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MT extends S_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yJ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=LN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=t.has(i.key)?null:u;const d=UN(o,u);null!==d&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(V1.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lt())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(t,r)=>GN(t,r))&&au(this.baseMutations,e.baseMutations,(t,r)=>GN(t,r))}}class ST{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){S1(e.mutations.length===r.length);let i=fJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ST(e,t,r,i)}}class zT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var On,Tt;function ZN(n){if(void 0===n)return bn("GRPC error has no .code"),he.UNKNOWN;switch(n){case On.OK:return he.OK;case On.CANCELLED:return he.CANCELLED;case On.UNKNOWN:return he.UNKNOWN;case On.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case On.INTERNAL:return he.INTERNAL;case On.UNAVAILABLE:return he.UNAVAILABLE;case On.UNAUTHENTICATED:return he.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case On.NOT_FOUND:return he.NOT_FOUND;case On.ALREADY_EXISTS:return he.ALREADY_EXISTS;case On.PERMISSION_DENIED:return he.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case On.ABORTED:return he.ABORTED;case On.OUT_OF_RANGE:return he.OUT_OF_RANGE;case On.UNIMPLEMENTED:return he.UNIMPLEMENTED;case On.DATA_LOSS:return he.DATA_LOSS;default:return g1()}}(Tt=On||(On={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";class TT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return z_}static getOrCreateInstance(){return null===z_&&(z_=new TT),z_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let z_=null;const MJ=new su([4294967295,4294967295],0);function YN(n){const e=function KN(){return new TextEncoder}().encode(n),t=new vQ;return t.update(e),new Uint8Array(t.digest())}function XN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new su([t,r],0),new su([i,s],0)]}class xT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ah(`Invalid padding: ${t}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ah(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ah(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=su.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(su.fromNumber(r)));return 1===i.compare(MJ)&&(i=new su([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=YN(e),[r,i]=XN(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new xT(s,i,t);return r.forEach(u=>o.insert(u)),o}insert(e){if(0===this.It)return;const t=YN(e),[r,i]=XN(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ih(V1.min(),i,new m2(Q1),n3(),lt())}}class Lh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lh(r,t,lt(),lt(),lt())}}class T_{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class QN{constructor(e,t){this.targetId=e,this.Vt=t}}class JN{constructor(e,t,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class eP{constructor(){this.St=0,this.Dt=nP(),this.Ct=tr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=lt(),t=lt(),r=lt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:g1()}}),new Lh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=nP()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wJ{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=n3(),this.zt=tP(),this.Wt=new m2(Q1)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:g1()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(y_(o))if(0===i){const u=new a1(o.path);this.Yt(r,u,T2.newNoDocument(u,V1.min()))}else S1(1===i);else{const u=this.ie(r);if(u!==i){const d=this.re(e,u);0!==d&&(this.ee(r),this.Wt=this.Wt.insert(r,2===d?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=TT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(m,y,b){var T,H,A,D,R,G;const $={localCacheCount:y,existenceFilterCount:b.count},ee=b.unchangedNames;return ee&&($.bloomFilter={applied:0===m,hashCount:null!==(T=ee?.hashCount)&&void 0!==T?T:0,bitmapLength:null!==(D=null===(A=null===(H=ee?.bits)||void 0===H?void 0:H.bitmap)||void 0===A?void 0:A.length)&&void 0!==D?D:0,padding:null!==(G=null===(R=ee?.bits)||void 0===R?void 0:R.padding)&&void 0!==G?G:0}),$}(d,u,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let d,m;try{d=Wa(s).toUint8Array()}catch(y){if(y instanceof aN)return bs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw y}try{m=new xT(d,o,u)}catch(y){return bs(y instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",y),1}return 0===m.It?1:i!==t-this.oe(e.targetId,m)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(u)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const u=this.se(o);if(u){if(s.current&&y_(u.target)){const d=new a1(u.target.path);null!==this.jt.get(d)||this.ae(o,d)||this.Yt(o,d,T2.newNoDocument(d,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=lt();this.zt.forEach((s,o)=>{let u=!0;o.forEachWhile(d=>{const m=this.se(d);return!m||"TargetPurposeLimboResolution"===m.purpose||(u=!1,!1)}),u&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Ih(e,t,this.Wt,this.jt,r);return this.jt=n3(),this.zt=tP(),this.Wt=new m2(Q1),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new eP,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new z2(Q1),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eP),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function tP(){return new m2(a1.comparator)}function nP(){return new m2(a1.comparator)}const SJ={asc:"ASCENDING",desc:"DESCENDING"},zJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TJ={and:"AND",or:"OR"};class xJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ET(n,e){return n.useProto3Json||yh(e)?e:{value:e}}function vu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EJ(n,e){return vu(n,e.toTimestamp())}function wn(n){return S1(!!n),V1.fromTimestamp(function(e){const t=K6(e);return new K2(t.seconds,t.nanos)}(n))}function HT(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function iP(n){const e=zt.fromString(n);return S1(hP(e)),e}function Dh(n,e){return HT(n.databaseId,e.path)}function Vo(n,e){const t=iP(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new a1(oP(t))}function VT(n,e){return HT(n.databaseId,e)}function Nh(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oP(n){return S1(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aP(n,e,t){return{name:Dh(n,e),fields:t.value.mapValue.fields}}function lP(n,e){return{documents:[VT(n,e.path)]}}function IT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=VT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=VT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(d){if(0!==d.length)return dP(Kt.create(d,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(d){if(0!==d.length)return d.map(m=>{return{field:e0((y=m).field),direction:LJ(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=ET(n,e.limit);var u,d;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(d=e.endAt).inclusive,values:d.position}),t}function uP(n){let e=function sP(n){const e=iP(n);return 4===e.length?zt.emptyPath():oP(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){S1(1===r);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=function(y){const b=fP(y);return b instanceof Kt&&pT(b)?b.getFilters():[b]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(y=>{return new uu(yu((b=y).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let u=null;t.limit&&(u=function(y){let b;return b="object"==typeof y?y.value:y,yh(b)?null:b}(t.limit));let d=null;var y;t.startAt&&(d=new J6((y=t.startAt).values||[],!!y.before));let m=null;return t.endAt&&(m=function(y){return new J6(y.values||[],!y.before)}(t.endAt)),function TN(n,e,t,r,i,s,o,u){return new ja(n,e,t,r,i,s,o,u)}(e,i,o,s,u,"F",d,m)}function fP(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yu(e.unaryFilter.field);return bt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=yu(e.unaryFilter.field);return bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yu(e.unaryFilter.field);return bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yu(e.unaryFilter.field);return bt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return g1()}}(n):void 0!==n.fieldFilter?bt.create(yu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return g1()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Kt.create(e.compositeFilter.filters.map(t=>fP(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return g1()}}(e.compositeFilter.op))}(n):g1();var e}function LJ(n){return SJ[n]}function DJ(n){return zJ[n]}function NJ(n){return TJ[n]}function e0(n){return{fieldPath:n.canonicalString()}}function yu(n){return Mn.fromServerFormat(n.fieldPath)}function dP(n){return n instanceof bt?function(e){if("=="===e.op){if(uN(e.value))return{unaryFilter:{field:e0(e.field),op:"IS_NAN"}};if(lN(e.value))return{unaryFilter:{field:e0(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uN(e.value))return{unaryFilter:{field:e0(e.field),op:"IS_NOT_NAN"}};if(lN(e.value))return{unaryFilter:{field:e0(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:e0(e.field),op:DJ(e.op),value:e.value}}}(n):n instanceof Kt?function(e){const t=e.getFilters().map(r=>dP(r));return 1===t.length?t[0]:{compositeFilter:{op:NJ(e.op),filters:t}}}(n):g1()}function PJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Za{constructor(e,t,r,i,s=V1.min(),o=V1.min(),u=tr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pP{constructor(e){this.fe=e}}function LT(n){const e=uP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?b_(e,e.limit,"L"):e}class c5{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(un(e.integerValue));else if("doubleValue"in e){const r=un(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),_h(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?fN(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):g1()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),a1.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}c5.Ve=new c5;class jJ{constructor(){this.rn=new OT}addToCollectionParentIndex(e,t){return this.rn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(D3.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(D3.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class OT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new z2(zt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new z2(zt.comparator)).toArray()}}new Uint8Array(0);class ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(41943040,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);class u5{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new u5(0)}static Mn(){return new u5(-1)}}class XJ{constructor(){this.changes=new $a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,T2.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Vh(r.mutation,i,t3.empty(),K2.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=lt()){const i=Ho();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=xh();return s.forEach((u,d)=>{o=o.insert(u,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ho();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,lt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{t.set(o,u)})})}computeViews(e,t,r,i){let s=n3();const o=Eh(),u=Eh();return t.forEach((d,m)=>{const y=r.get(m.key);i.has(m.key)&&(void 0===y||y.mutation instanceof qa)?s=s.insert(m.key,m):void 0!==y?(o.set(m.key,y.mutation.getFieldMask()),Vh(y.mutation,m,y.mutation.getFieldMask(),K2.now())):o.set(m.key,t3.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((m,y)=>o.set(m,y)),t.forEach((m,y)=>{var b;return u.set(m,new eee(y,null!==(b=o.get(m))&&void 0!==b?b:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Eh();let i=new m2((o,u)=>o-u),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const u of o)u.keys().forEach(d=>{const m=t.get(d);if(null===m)return;let y=r.get(d)||t3.empty();y=u.applyToLocalView(m,y),r.set(d,y);const b=(i.get(u.batchId)||lt()).add(d);i=i.insert(u.batchId,b)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),m=d.key,y=d.value,b=LN();y.forEach(T=>{if(!s.has(T)){const H=UN(t.get(T),r.get(T));null!==H&&b.set(T,H),s=s.add(T)}}),o.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return a1.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ce.resolve(Ho());let u=-1,d=s;return o.next(m=>ce.forEach(m,(y,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),s.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,d,m,lt())).next(y=>({batchId:u,changes:IN(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new a1(t)).next(r=>{let i=xh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=xh();return this.indexManager.getCollectionParents(e,i).next(o=>ce.forEach(o,u=>{const d=(m=t,y=u.child(i),new ja(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,d,r).next(m=>{m.forEach((y,b)=>{s=s.insert(y,b)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((u,d)=>{const m=d.getKey();null===s.get(m)&&(s=s.insert(m,T2.newInvalidDocument(m)))});let o=xh();return s.forEach((u,d)=>{const m=i.get(u);void 0!==m&&Vh(m.mutation,d,t3.empty(),K2.now()),Th(t,d)&&(o=o.insert(u,d))}),o})}}class tee{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ce.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:wn(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:LT(r.bundledQuery),readTime:wn(r.readTime)}),ce.resolve();var r}}class nee{constructor(){this.overlays=new m2(a1.comparator),this.ls=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ho();return ce.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=Ho(),s=t.length+1,o=new a1(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new m2((m,y)=>m-y);const o=this.overlays.getIterator();for(;o.hasNext();){const m=o.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=s.get(m.largestBatchId);null===y&&(y=Ho(),s=s.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=Ho(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>u.set(m,y)),!(u.size()>=i)););return ce.resolve(u)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zT(t,r));let s=this.ls.get(t);void 0===s&&(s=lt(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class FT{constructor(){this.fs=new z2(br.ds),this.ws=new z2(br._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new br(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new br(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new a1(new zt([])),r=new br(t,e),i=new br(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new a1(new zt([])),r=new br(t,e),i=new br(t,e+1);let s=lt();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new br(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class br{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return a1.comparator(e.key,t.key)||Q1(e.As,t.As)}static _s(e,t){return Q1(e.As,t.As)||a1.comparator(e.key,t.key)}}class ree{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new z2(br.ds)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new wT(s,t,r,i);this.mutationQueue.push(o);for(const u of i)this.Rs=this.Rs.add(new br(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ce.resolve(o)}lookupMutationBatch(e,t){return ce.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new br(t,0),i=new br(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const u=this.Ps(o.As);s.push(u)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new z2(Q1);return t.forEach(i=>{const s=new br(i,0),o=new br(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],u=>{r=r.add(u.As)})}),ce.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;a1.isDocumentKey(s)||(s=s.child(""));const o=new br(new a1(s),0);let u=new z2(Q1);return this.Rs.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(d.As)),!0)},o),ce.resolve(this.Vs(u))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){S1(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ce.forEach(t.mutations,i=>{const s=new br(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new br(t,0),i=this.Rs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iee{constructor(e){this.Ds=e,this.docs=new m2(a1.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():T2.newInvalidDocument(t))}getEntries(e,t){let r=n3();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():T2.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=n3();const o=t.path,u=new a1(o.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!o.isPrefixOf(m.path))break;m.path.length>o.length+1||aT(ZD(y),r)<=0||(i.has(y.key)||Th(t,y))&&(s=s.insert(y.key,y.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,t,r,i){g1()}Cs(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new see(this)}getSize(e){return ce.resolve(this.size)}}class see extends XJ{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class oee{constructor(e){this.persistence=e,this.xs=new $a(t=>t5(t),Sh),this.lastRemoteSnapshotVersion=V1.min(),this.highestTargetId=0,this.Ns=0,this.ks=new FT,this.targetCount=0,this.Ms=u5.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ce.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new u5(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Fn(t),ce.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,u)=>{u.sequenceNumber<=t&&null===r.get(u.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ce.waitFor(s).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.ks.containsKey(t))}}class BT{constructor(e,t){this.$s={},this.overlays={},this.Os=new N3(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new oee(this),this.indexManager=new jJ,this.remoteDocumentCache=new iee(r=>this.referenceDelegate.Ls(r)),this.serializer=new pP(t),this.qs=new tee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new ree(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new aee(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return ce.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class aee extends EQ{constructor(e){super(),this.currentSequenceNumber=e}}class N_{constructor(e){this.persistence=e,this.Qs=new FT,this.js=null}static zs(e){return new N_(e)}get Ws(){if(this.js)return this.js;throw g1()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,r=>{const i=a1.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,V1.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ce.or([()=>ce.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=lt(),i=lt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jT(e,t.fromCache,r,i)}}class UP{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(xN(t))return ce.resolve(null);let r=zi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=b_(t,null,"F"),r=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=lt(...s);return this.Ui.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.ji(t,u);return this.zi(t,m,o,d.readTime)?this.Ki(e,b_(t,null,"F")):this.Wi(e,m,t,d)}))})))}Gi(e,t,r,i){return xN(t)||i.isEqual(V1.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(iT()<=ys.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),CT(t)),this.Wi(e,o,t,function qD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=V1.fromTimestamp(1e9===r?new K2(t+1,0):new K2(t,r));return new D3(i,a1.empty(),e)}(i,-1)))})}ji(e,t){let r=new z2(VN(e));return t.forEach((i,s)=>{Th(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return iT()<=ys.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",CT(t)),this.Ui.getDocumentsMatchingQuery(e,t,D3.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class lee{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new m2(Q1),this.Yi=new $a(s=>t5(s),Sh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function WP(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,ne.Z)(function*(n,e){const t=c1(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let d=lt();for(const m of i){o.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of s){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next(m=>({er:m,removedBatchIds:o,addedBatchIds:u}))})})}),$T.apply(this,arguments)}function jP(n){const e=c1(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dee(n,e){const t=c1(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mu(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,ne.Z)(function*(n,e,t){const r=c1(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!q6(o))throw o;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),qT.apply(this,arguments)}function R_(n,e,t){const r=c1(n);let i=V1.min(),s=lt();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,d,m){const y=c1(u),b=y.Yi.get(m);return void 0!==b?ce.resolve(y.Ji.get(b)):y.Bs.getTargetData(d,m)}(r,o,zi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,u.targetId).next(d=>{s=d})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:V1.min(),t?s:lt())).next(u=>(function KP(n,e,t){let r=n.Xi.get(e)||V1.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function HN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),u),{documents:u,ir:s})))}class QT{constructor(){this.activeTargetIds=function bT(){return hJ}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QP{constructor(){this.Hr=new QT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new QT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mee{Yr(e){}shutdown(){}}class JP{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let B_=null;function ex(){return null===B_?B_=268435456+Math.round(2147483648*Math.random()):B_++,"0x"+B_.toString(16)}const gee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vee{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ii="WebChannelConnection";class yee extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=ex(),u=this.To(e,t);Be("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const d={};return this.Eo(d,i,s),this.Ao(e,u,d,r).then(m=>(Be("RestConnection",`Received RPC '${e}' ${o}: `,m),m),m=>{throw bs("RestConnection",`RPC '${e}' ${o} failed with error: `,m,"url: ",u,"request:",r),m})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ou,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${gee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=ex();return new Promise((o,u)=>{const d=new gQ;d.setWithCredentials(!0),d.listenOnce(hQ.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case rT.NO_ERROR:const y=d.getResponseJson();Be(ii,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),o(y);break;case rT.TIMEOUT:Be(ii,`RPC '${e}' ${s} timed out`),u(new Ne(he.DEADLINE_EXCEEDED,"Request time out"));break;case rT.HTTP_ERROR:const b=d.getStatus();if(Be(ii,`RPC '${e}' ${s} failed with status:`,b,"response text:",d.getResponseText()),b>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const H=T?.error;if(H&&H.status&&H.message){const A=function(D){const R=D.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN}(H.status);u(new Ne(A,H.message))}else u(new Ne(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Ne(he.UNAVAILABLE,"Connection failed."));break;default:g1()}}finally{Be(ii,`RPC '${e}' ${s} completed.`)}});const m=JSON.stringify(i);Be(ii,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",m,r,15)})}Ro(e,t,r){const i=ex(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fQ(),u=dQ(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;void 0!==m&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.xmlHttpFactory=new mQ({})),this.Eo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const y=s.join("");Be(ii,`Creating RPC '${e}' stream ${i}: ${y}`,d);const b=o.createWebChannel(y,d);let T=!1,H=!1;const A=new vee({ro:R=>{H?Be(ii,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(T||(Be(ii,`Opening RPC '${e}' stream ${i} transport.`),b.open(),T=!0),Be(ii,`RPC '${e}' stream ${i} sending:`,R),b.send(R))},oo:()=>b.close()}),D=(R,G,$)=>{R.listen(G,ee=>{try{$(ee)}catch(re){setTimeout(()=>{throw re},0)}})};return D(b,a_.EventType.OPEN,()=>{H||Be(ii,`RPC '${e}' stream ${i} transport opened.`)}),D(b,a_.EventType.CLOSE,()=>{H||(H=!0,Be(ii,`RPC '${e}' stream ${i} transport closed`),A.wo())}),D(b,a_.EventType.ERROR,R=>{H||(H=!0,bs(ii,`RPC '${e}' stream ${i} transport errored:`,R),A.wo(new Ne(he.UNAVAILABLE,"The operation could not be completed")))}),D(b,a_.EventType.MESSAGE,R=>{var G;if(!H){const $=R.data[0];S1(!!$);const re=$.error||(null===(G=$[0])||void 0===G?void 0:G.error);if(re){Be(ii,`RPC '${e}' stream ${i} received error:`,re);const le=re.status;let we=function(Ke){const Ue=On[Ke];if(void 0!==Ue)return ZN(Ue)}(le),We=re.message;void 0===we&&(we=he.INTERNAL,We="Unknown error status: "+le+" with message "+re.message),H=!0,A.wo(new Ne(we,We)),b.close()}else Be(ii,`RPC '${e}' stream ${i} received:`,$),A._o($)}}),D(u,pQ.STAT_EVENT,R=>{R.stat===BD.PROXY?Be(ii,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===BD.NOPROXY&&Be(ii,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}function U_(){return typeof document<"u"?document:null}function jh(n){return new xJ(n,!0)}class tx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class tk{constructor(e,t,r,i,s,o,u,d){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new tx(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ne.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ne.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ne.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(bn(t.toString()),bn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ne(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ne.Z)(function*(){e.state=0,e.start()}))}tu(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _ee extends tk{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function VJ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:g1(),i=e.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(S1(void 0===m||"string"==typeof m),tr.fromBase64String(m||"")):(S1(void 0===m||m instanceof Uint8Array),tr.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(d){const m=void 0===d.code?he.UNKNOWN:ZN(d.code);return new Ne(m,d.message||"")}(o);t=new JN(r,i,s,u||null)}else if("documentChange"in e){const r=e.documentChange,i=Vo(n,r.document.name),s=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):V1.min(),u=new Br({mapValue:{fields:r.document.fields}}),d=T2.newFoundDocument(i,s,o,u);t=new T_(r.targetIds||[],r.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const r=e.documentDelete,i=Vo(n,r.document),s=r.readTime?wn(r.readTime):V1.min(),o=T2.newNoDocument(i,s);t=new T_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Vo(n,r.document);t=new T_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return g1();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new bJ(i,s);t=new QN(r.targetId,o)}}var d;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return V1.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V1.min():s.readTime?wn(s.readTime):V1.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Nh(this.serializer),t.addTarget=function(i,s){let o;const u=s.target;if(o=y_(u)?{documents:lP(i,u)}:{query:IT(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=rP(i,s.resumeToken);const d=ET(i,s.expectedCount);null!==d&&(o.expectedCount=d)}else if(s.snapshotVersion.compareTo(V1.min())>0){o.readTime=vu(i,s.snapshotVersion.toTimestamp());const d=ET(i,s.expectedCount);null!==d&&(o.expectedCount=d)}return o}(this.serializer,e);const r=function IJ(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return g1()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Nh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Cee extends tk{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(S1(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function AJ(n,e){return n&&n.length>0?(S1(void 0!==e),n.map(t=>function(r,i){let s=wn(r.updateTime?r.updateTime:i);return s.isEqual(V1.min())&&(s=wn(i)),new vJ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.cu(r,t)}return S1(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Ph(n,e){let t;if(e instanceof mu)t={update:aP(n,e.key,e.value)};else if(e instanceof gu)t={delete:Dh(n,e.key)};else if(e instanceof qa)t={update:aP(n,e.key,e.data),updateMask:PJ(e.fieldMask)};else{if(!(e instanceof MT))return g1();t={verify:Dh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof hu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof r5)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof i5)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof pu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw g1()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:EJ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:g1()),t;var i}(this.serializer,r))};this.Wo(t)}}class bee extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(he.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(he.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class wee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bn(t),this.mu=!1):Be("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class See{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(u=>{r.enqueueAndForget((0,ne.Z)(function*(){var d;s0(o)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(d=(0,ne.Z)(function*(m){const y=c1(m);y.vu.add(4),yield wu(y),y.bu.set("Unknown"),y.vu.delete(4),yield $h(y)}),function(m){return d.apply(this,arguments)})(o))}))}),this.bu=new wee(r,i)}}function $h(n){return rx.apply(this,arguments)}function rx(){return rx=(0,ne.Z)(function*(n){if(s0(n))for(const e of n.Ru)yield e(!0)}),rx.apply(this,arguments)}function wu(n){return ix.apply(this,arguments)}function ix(){return ix=(0,ne.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ix.apply(this,arguments)}function G_(n,e){const t=c1(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),ax(t)?ox(t):zu(t).Ko()&&sx(t,e))}function qh(n,e){const t=c1(n),r=zu(t);t.Au.delete(e),r.Ko()&&nk(t,e),0===t.Au.size&&(r.Ko()?r.jo():s0(t)&&t.bu.set("Unknown"))}function sx(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V1.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zu(n).su(e)}function nk(n,e){n.Vu.qt(e),zu(n).iu(e)}function ox(n){n.Vu=new wJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),zu(n).start(),n.bu.gu()}function ax(n){return s0(n)&&!zu(n).Uo()&&n.Au.size>0}function s0(n){return 0===c1(n).vu.size}function rk(n){n.Vu=void 0}function zee(n){return cx.apply(this,arguments)}function cx(){return cx=(0,ne.Z)(function*(n){n.Au.forEach((e,t)=>{sx(n,e)})}),cx.apply(this,arguments)}function Tee(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,ne.Z)(function*(n,e){rk(n),ax(n)?(n.bu.Iu(e),ox(n)):n.bu.set("Unknown")}),lx.apply(this,arguments)}function xee(n,e,t){return ux.apply(this,arguments)}function ux(){return ux=(0,ne.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof JN&&2===e.state&&e.cause)try{yield(r=(0,ne.Z)(function*(i,s){const o=s.cause;for(const u of s.targetIds)i.Au.has(u)&&(yield i.remoteSyncer.rejectListen(u,o),i.Au.delete(u),i.Vu.removeTarget(u))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield W_(n,r)}else if(e instanceof T_?n.Vu.Ht(e):e instanceof QN?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(V1.min()))try{const r=yield jP(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const m=i.Au.get(d);m&&i.Au.set(d,m.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,d)=>{const m=i.Au.get(u);if(!m)return;i.Au.set(u,m.withResumeToken(tr.EMPTY_BYTE_STRING,m.snapshotVersion)),nk(i,u);const y=new Za(m.target,u,d,m.sequenceNumber);sx(i,y)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield W_(n,r)}var r}),ux.apply(this,arguments)}function W_(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=(0,ne.Z)(function*(n,e,t){if(!q6(e))throw e;n.vu.add(1),yield wu(n),n.bu.set("Offline"),t||(t=()=>jP(n.localStore)),n.asyncQueue.enqueueRetryable((0,ne.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield $h(n)}))}),fx.apply(this,arguments)}function ik(n,e){return e().catch(t=>W_(n,t,e))}function Su(n){return dx.apply(this,arguments)}function dx(){return dx=(0,ne.Z)(function*(n){const e=c1(n),t=o0(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Eee(e);)try{const i=yield dee(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Hee(e,i)}catch(i){yield W_(e,i)}sk(e)&&ok(e)}),dx.apply(this,arguments)}function Eee(n){return s0(n)&&n.Eu.length<10}function Hee(n,e){n.Eu.push(e);const t=o0(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function sk(n){return s0(n)&&!o0(n).Uo()&&n.Eu.length>0}function ok(n){o0(n).start()}function Vee(n){return hx.apply(this,arguments)}function hx(){return hx=(0,ne.Z)(function*(n){o0(n).hu()}),hx.apply(this,arguments)}function Aee(n){return px.apply(this,arguments)}function px(){return px=(0,ne.Z)(function*(n){const e=o0(n);for(const t of n.Eu)e.uu(t.mutations)}),px.apply(this,arguments)}function Iee(n,e,t){return mx.apply(this,arguments)}function mx(){return mx=(0,ne.Z)(function*(n,e,t){const r=n.Eu.shift(),i=ST.from(r,e,t);yield ik(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Su(n)}),mx.apply(this,arguments)}function Lee(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,ne.Z)(function*(n,e){var t;e&&o0(n).ou&&(yield(t=(0,ne.Z)(function*(r,i){if(function qN(n){switch(n){default:return g1();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}(s=i.code)&&s!==he.ABORTED){const o=r.Eu.shift();o0(r).Qo(),yield ik(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Su(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),sk(n)&&ok(n)}),gx.apply(this,arguments)}function ak(n,e){return vx.apply(this,arguments)}function vx(){return vx=(0,ne.Z)(function*(n,e){const t=c1(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=s0(t);t.vu.add(3),yield wu(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield $h(t)}),vx.apply(this,arguments)}function _x(){return _x=(0,ne.Z)(function*(n,e){const t=c1(n);e?(t.vu.delete(2),yield $h(t)):e||(t.vu.add(2),yield wu(t),t.bu.set("Unknown"))}),_x.apply(this,arguments)}function zu(n){return n.Su||(n.Su=function(e,t,r){const i=c1(e);return i.fu(),new _ee(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:zee.bind(null,n),ao:Tee.bind(null,n),nu:xee.bind(null,n)}),n.Ru.push(function(){var e=(0,ne.Z)(function*(t){t?(n.Su.Qo(),ax(n)?ox(n):n.bu.set("Unknown")):(yield n.Su.stop(),rk(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function o0(n){return n.Du||(n.Du=function(e,t,r){const i=c1(e);return i.fu(),new Cee(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Vee.bind(null,n),ao:Lee.bind(null,n),au:Aee.bind(null,n),cu:Iee.bind(null,n)}),n.Ru.push(function(){var e=(0,ne.Z)(function*(t){t?(n.Du.Qo(),yield Su(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Cx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,u=new Cx(e,t,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tu(n,e){if(bn("AsyncQueue",`${e}: ${n}`),q6(n))return new Ne(he.UNAVAILABLE,`${e}: ${n}`);throw n}class xu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||a1.comparator(t.key,r.key):(t,r)=>a1.comparator(t.key,r.key),this.keyedMap=xh(),this.sortedSet=new m2(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ck{constructor(){this.Cu=new m2(a1.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):g1():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Eu{constructor(e,t,r,i,s,o,u,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new Eu(e,t,xu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Dee{constructor(){this.Nu=void 0,this.listeners=[]}}class Nee{constructor(){this.queries=new $a(e=>EN(e),zh),this.onlineState="Unknown",this.ku=new Set}}function Mx(){return Mx=(0,ne.Z)(function*(n,e){const t=c1(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Dee),i)try{s.Nu=yield t.onListen(r)}catch(o){const u=Tu(o,`Initialization of query '${CT(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&zx(t)}),Mx.apply(this,arguments)}function Sx(){return Sx=(0,ne.Z)(function*(n,e){const t=c1(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Sx.apply(this,arguments)}function Pee(n,e){const t=c1(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const u of o.listeners)u.$u(i)&&(r=!0);o.Nu=i}}r&&zx(t)}function kee(n,e,t){const r=c1(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function zx(n){n.ku.forEach(e=>{e.next()})}class Tx{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fk{constructor(e){this.key=e}}class dk{constructor(e){this.key=e}}class hk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=lt(),this.mutatedKeys=lt(),this.tc=VN(e),this.ec=new xu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new ck,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1;const d="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,m="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,b)=>{const T=i.get(y),H=Th(this.query,b)?b:null,A=!!T&&this.mutatedKeys.has(T.key),D=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let R=!1;T&&H?T.data.isEqual(H.data)?A!==D&&(r.track({type:3,doc:H}),R=!0):this.rc(T,H)||(r.track({type:2,doc:H}),R=!0,(d&&this.tc(H,d)>0||m&&this.tc(H,m)<0)&&(u=!0)):!T&&H?(r.track({type:0,doc:H}),R=!0):T&&!H&&(r.track({type:1,doc:T}),R=!0,(d||m)&&(u=!0)),R&&(H?(o=o.add(H),s=D?s.add(y):s.delete(y)):(o=o.delete(y),s=s.delete(y)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const y="F"===this.query.limitType?o.last():o.first();o=o.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{ec:o,ic:r,zi:u,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((m,y)=>function(b,T){const H=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g1()}};return H(b)-H(T)}(m.type,y.type)||this.tc(m.doc,y.doc)),this.oc(r);const o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,d=u!==this.Xu;return this.Xu=u,0!==s.length||d?{snapshot:new Eu(this.query,e.ec,i,s,e.mutatedKeys,0===u,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ck,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=lt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new dk(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new fk(r))}),t}hc(e){this.Yu=e.ir,this.Zu=lt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Eu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Fee{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Bee{constructor(e){this.key=e,this.fc=!1}}class Uee{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new $a(u=>EN(u),zh),this._c=new Map,this.mc=new Set,this.gc=new m2(a1.comparator),this.yc=new Map,this.Ic=new FT,this.Tc={},this.Ec=new Map,this.Ac=u5.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Gee(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,ne.Z)(function*(n,e){const t=function Yx(n){const e=c1(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$ee.bind(null,e),e.dc.nu=Pee.bind(null,e.eventManager),e.dc.Pc=kee.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function bu(n,e){const t=c1(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,ce.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Za(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,zi(e)),u=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Ex(n,e,t,r,i){return Hx.apply(this,arguments)}(t,e,r,"current"===u,o.resumeToken),t.isPrimaryClient&&G_(t.remoteStore,o)}return i}),xx.apply(this,arguments)}function Hx(){return Hx=(0,ne.Z)(function*(n,e,t,r,i){n.Rc=(b,T,H)=>{return(A=(0,ne.Z)(function*(D,R,G,$){let ee=R.view.sc(G);ee.zi&&(ee=yield R_(D.localStore,R.query,!1).then(({documents:we})=>R.view.sc(we,ee)));const re=$&&$.targetChanges.get(R.targetId),le=R.view.applyChanges(ee,D.isPrimaryClient,re);return Ox(D,R.targetId,le.cc),le.snapshot}),function(D,R,G,$){return A.apply(this,arguments)})(n,b,T,H);var A};const s=yield R_(n.localStore,e,!0),o=new hk(e,s.ir),u=o.sc(s.documents),d=Lh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),m=o.applyChanges(u,n.isPrimaryClient,d);Ox(n,t,m.cc);const y=new Fee(e,t,o);return n.wc.set(e,y),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),m.snapshot}),Hx.apply(this,arguments)}function Wee(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,ne.Z)(function*(n,e){const t=c1(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!zh(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),qh(t.remoteStore,r.targetId),Hu(t,r.targetId)}).catch($6))):(Hu(t,r.targetId),yield Mu(t.localStore,r.targetId,!0))}),Vx.apply(this,arguments)}function Ax(){return Ax=(0,ne.Z)(function*(n,e,t){const r=function Xx(n){const e=c1(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zee.bind(null,e),e}(n);try{const i=yield function(s,o){const u=c1(s),d=K2.now(),m=o.reduce((T,H)=>T.add(H.key),lt());let y,b;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let H=n3(),A=lt();return u.Zi.getEntries(T,m).next(D=>{H=D,H.forEach((R,G)=>{G.isValidDocument()||(A=A.add(R))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,H)).next(D=>{y=D;const R=[];for(const G of o){const $=_J(G,y.get(G.key).overlayedDocument);null!=$&&R.push(new qa(G.key,$,pN($.value.mapValue),F2.exists(!0)))}return u.mutationQueue.addMutationBatch(T,d,R,o)}).next(D=>{b=D;const R=D.applyToLocalDocumentSet(y,A);return u.documentOverlayCache.saveOverlays(T,D.batchId,R)})}).then(()=>({batchId:b.batchId,changes:IN(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let d=s.Tc[s.currentUser.toKey()];d||(d=new m2(Q1)),d=d.insert(o,u),s.Tc[s.currentUser.toKey()]=d}(r,i.batchId,t),yield Ka(r,i.changes),yield Su(r.remoteStore)}catch(i){const s=Tu(i,"Failed to persist write");t.reject(s)}}),Ax.apply(this,arguments)}function pk(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,ne.Z)(function*(n,e){const t=c1(n);try{const r=yield function fee(n,e){const t=c1(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const u=[];e.targetChanges.forEach((y,b)=>{const T=i.get(b);if(!T)return;u.push(t.Bs.removeMatchingKeys(s,y.removedDocuments,b).next(()=>t.Bs.addMatchingKeys(s,y.addedDocuments,b)));let H=T.withSequenceNumber(s.currentSequenceNumber);var A,D,R;null!==e.targetMismatches.get(b)?H=H.withResumeToken(tr.EMPTY_BYTE_STRING,V1.min()).withLastLimboFreeSnapshotVersion(V1.min()):y.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(y.resumeToken,r)),i=i.insert(b,H),D=H,R=y,(0===(A=T).resumeToken.approximateByteSize()||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0)&&u.push(t.Bs.updateTargetData(s,H))});let d=n3(),m=lt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),u.push(function $P(n,e,t){let r=lt(),i=lt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=n3();return t.forEach((u,d)=>{const m=s.get(u);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(V1.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||0===d.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):Be("LocalStore","Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",d.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(y=>{d=y.nr,m=y.sr})),!r.isEqual(V1.min())){const y=t.Bs.getLastRemoteSnapshotVersion(s).next(b=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(y)}return ce.waitFor(u).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,m)).next(()=>d)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(S1(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?S1(o.fc):i.removedDocuments.size>0&&(S1(o.fc),o.fc=!1))}),yield Ka(t,r,e)}catch(r){yield $6(r)}}),Ix.apply(this,arguments)}function mk(n,e,t){const r=c1(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const u=o.view.Mu(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=c1(s);u.onlineState=o;let d=!1;u.queries.forEach((m,y)=>{for(const b of y.listeners)b.Mu(o)&&(d=!0)}),d&&zx(u)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $ee(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,ne.Z)(function*(n,e,t){const r=c1(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new m2(a1.comparator);o=o.insert(s,T2.newNoDocument(s,V1.min()));const u=lt().add(s),d=new Ih(V1.min(),new Map,new m2(Q1),o,u);yield pk(r,d),r.gc=r.gc.remove(s),r.yc.delete(e),Fx(r)}else yield Mu(r.localStore,e,!1).then(()=>Hu(r,e,t)).catch($6)}),Lx.apply(this,arguments)}function qee(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,ne.Z)(function*(n,e){const t=c1(n),r=e.batch.batchId;try{const i=yield function uee(n,e){const t=c1(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,u,d,m){const y=d.batch,b=y.keys();let T=ce.resolve();return b.forEach(H=>{T=T.next(()=>m.getEntry(u,H)).next(A=>{const D=d.docVersions.get(H);S1(null!==D),A.version.compareTo(D)<0&&(y.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),m.addEntry(A)))})}),T.next(()=>o.mutationQueue.removeMutationBatch(u,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=lt();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(u=u.add(o.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);Rx(t,r,null),kx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ka(t,i)}catch(i){yield $6(i)}}),Dx.apply(this,arguments)}function Zee(n,e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,ne.Z)(function*(n,e,t){const r=c1(n);try{const i=yield function(s,o){const u=c1(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return u.mutationQueue.lookupMutationBatch(d,o).next(y=>(S1(null!==y),m=y.keys(),u.mutationQueue.removeMutationBatch(d,y))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,m,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>u.localDocuments.getDocuments(d,m))})}(r.localStore,e);Rx(r,e,t),kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ka(r,i)}catch(i){yield $6(i)}}),Nx.apply(this,arguments)}function kx(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Rx(n,e,t){const r=c1(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Hu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||gk(n,r)})}function gk(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(qh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Fx(n))}function Ox(n,e,t){for(const r of t)r instanceof fk?(n.Ic.addReference(r.key,e),Yee(n,r)):r instanceof dk?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||gk(n,r.key)):g1()}function Yee(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.mc.add(r),Fx(n))}function Fx(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new a1(zt.fromString(e)),r=n.Ac.next();n.yc.set(r,new Bee(t)),n.gc=n.gc.insert(t,r),G_(n.remoteStore,new Za(zi(du(t.path)),r,"TargetPurposeLimboResolution",N3.ct))}}function Ka(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,ne.Z)(function*(n,e,t){const r=c1(n),i=[],s=[],o=[];var u;r.wc.isEmpty()||(r.wc.forEach((u,d)=>{o.push(r.Rc(d,e,t).then(m=>{if((m||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,m?.fromCache?"not-current":"current"),m){i.push(m);const y=jT.Li(d.targetId,m);s.push(y)}}))}),yield Promise.all(o),r.dc.nu(i),yield(u=(0,ne.Z)(function*(d,m){const y=c1(d);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ce.forEach(m,T=>ce.forEach(T.Fi,H=>y.persistence.referenceDelegate.addReference(b,T.targetId,H)).next(()=>ce.forEach(T.Bi,H=>y.persistence.referenceDelegate.removeReference(b,T.targetId,H)))))}catch(b){if(!q6(b))throw b;Be("LocalStore","Failed to update sequence numbers: "+b)}for(const b of m){const T=b.targetId;if(!b.fromCache){const H=y.Ji.get(T),D=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);y.Ji=y.Ji.insert(T,D)}}}),function(d,m){return u.apply(this,arguments)})(r.localStore,s))}),Bx.apply(this,arguments)}function Xee(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,ne.Z)(function*(n,e){const t=c1(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield WP(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(u=>{u.reject(new Ne(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ka(t,r.er)}var i}),Ux.apply(this,arguments)}function Qee(n,e){const t=c1(n),r=t.yc.get(e);if(r&&r.fc)return lt().add(r.key);{let i=lt();const s=t._c.get(e);if(!s)return i;for(const o of s){const u=t.wc.get(o);i=i.unionWith(u.view.nc)}return i}}class j_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ne.Z)(function*(){t.serializer=jh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function GP(n,e,t,r){return new lee(n,e,t,r)}(this.persistence,new UP,e.initialUser,this.serializer)}createPersistence(e){return new BT(N_.zs,this.serializer)}createSharedClientState(e){return new QP}terminate(){var e=this;return(0,ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Vu{initialize(e,t){var r=this;return(0,ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Xee.bind(null,r.syncEngine),yield function yx(n,e){return _x.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Nee}createDatastore(e){const t=jh(e.databaseInfo.databaseId),r=new yee(e.databaseInfo);return new bee(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>mk(this.syncEngine,u,0),o=JP.D()?new JP:new mee,new See(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,u,d,m){const y=new Uee(r,i,s,o,u,d);return m&&(y.vc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ne.Z)(function*(t){const r=c1(t);Be("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield wu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class $_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class f1e{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=jD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,ne.Z)(function*(u){Be("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Tu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function q_(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ne.Z)(function*(s){r.isEqual(s)||(yield WP(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Qx.apply(this,arguments)}function Jx(n,e){return eE.apply(this,arguments)}function eE(){return eE=(0,ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function tE(n){return nE.apply(this,arguments)}(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ak(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>ak(e.remoteStore,s)),n._onlineComponents=e}),eE.apply(this,arguments)}function nE(){return nE=(0,ne.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield q_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Mk(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;bs("Error using user provided cache. Falling back to memory cache: "+t),yield q_(n,new j_)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield q_(n,new j_);return n._offlineComponents}),nE.apply(this,arguments)}function Z_(n){return rE.apply(this,arguments)}function rE(){return rE=(0,ne.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield Jx(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield Jx(n,new Vu))),n._onlineComponents}),rE.apply(this,arguments)}function sE(){return sE=(0,ne.Z)(function*(n){const e=yield Z_(n),t=e.eventManager;return t.onListen=Gee.bind(null,e.syncEngine),t.onUnlisten=Wee.bind(null,e.syncEngine),t}),sE.apply(this,arguments)}function xk(n,e,t={}){const r=new er;return n.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(i,s,o,u,d){const m=new $_({next:b=>{s.enqueueAndForget(()=>function wx(n,e){return Sx.apply(this,arguments)}(i,y)),b.fromCache&&"server"===u.source?d.reject(new Ne(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new Tx(o,m,{includeMetadataChanges:!0,Ku:!0});return function bx(n,e){return Mx.apply(this,arguments)}(i,y)}(yield function Au(n){return sE.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function Ek(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Hk=new Map;function oE(n,e,t){if(!t)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vk(n){if(!a1.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ak(n){if(a1.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Y_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":g1()}function wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Y_(n);throw new Ne(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Lk{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function C1e(n,e,t,r){if(!0===e&&!0===r)throw new Ne(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ek(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yQ;switch(t.type){case"firstParty":return new MQ(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hk.get(e);t&&(Be("ComponentProvider","Removing Datastore"),Hk.delete(e),t.terminate())}(this),Promise.resolve()}}class Sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Ur{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class Ao extends Ur{constructor(e,t,r){super(e,t,du(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new a1(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}class w1e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new tx(this,"async_queue_retry"),this.Xc=()=>{const t=U_();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=U_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=U_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new er;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ne.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!q6(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,bn("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Cx.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&g1()}verifyOperationInProgress(){}sa(){var e=this;return(0,ne.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class x2 extends Zh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new w1e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pk(this),this._firestoreClient.terminate()}}function z1e(n,e){const t="object"==typeof n?n:(0,Pr.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Pr._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,ie.P0)("firestore");s&&function b1e(n,e,t,r={}){var i;const s=(n=wt(n,Zh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&bs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,u;if("string"==typeof r.mockUserToken)o=r.mockUserToken,u=_r.MOCK_USER;else{o=(0,ie.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ne(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _r(d)}n._authCredentials=new _Q(new GD(o,u))}}(i,...s)}return i}function Fn(n){return n._firestoreClient||Pk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Pk(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new QQ(n._databaseId,u,n._persistenceKey,(m=i).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ek(m.experimentalLongPollingOptions),m.useFetchStreams));var u,m;n._firestoreClient=new f1e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class d5{constructor(e){this._byteString=e}static fromBase64String(e){try{return new d5(tr.fromBase64String(e))}catch(t){throw new Ne(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new d5(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Iu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ok{constructor(e){this._methodName=e}}class cE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q1(this._lat,e._lat)||Q1(this._long,e._long)}}const x1e=/^__.*__$/;class E1e{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new mu(e,this.data,t,this.fieldTransforms)}}function Bk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g1()}}class X_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new X_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return J_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Bk(this.ca)&&x1e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class H1e{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jh(e)}ya(e,t,r,i=!1){return new X_({ca:e,methodName:t,ga:r,path:Mn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lu(n){const e=n._freezeSettings(),t=jh(n._databaseId);return new H1e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lE(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);fE("Data must be an object, but it was:",o,r);const u=$k(r,o);let d,m;if(s.merge)d=new t3(o.fieldMask),m=o.fieldTransforms;else if(s.mergeFields){const y=[];for(const b of s.mergeFields){const T=Xh(e,b,t);if(!o.contains(T))throw new Ne(he.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Zk(y,T)||y.push(T)}d=new t3(y),m=o.fieldTransforms.filter(b=>d.covers(b.field))}else d=null,m=o.fieldTransforms;return new E1e(new Br(u),d,m)}function h5(n,e){if(qk(n=(0,ie.m9)(n)))return fE("Unsupported field value:",e,n),$k(n,e);if(n instanceof Ok)return function(t,r){if(!Bk(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let u=h5(o,r.wa(s));null==u&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,ie.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PN(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=K2.fromDate(t);return{timestampValue:vu(r.serializer,i)}}if(t instanceof K2){const i=new K2(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vu(r.serializer,i)}}if(t instanceof cE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof d5)return{bytesValue:rP(r.serializer,t._byteString)};if(t instanceof Sn){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:HT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Y_(t)}`)}(n,e)}function $k(n,e){const t={};return sN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Z6(n,(r,i)=>{const s=h5(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function qk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof K2||n instanceof cE||n instanceof d5||n instanceof Sn||n instanceof Ok)}function fE(n,e,t){if(!qk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Y_(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Xh(n,e,t){if((e=(0,ie.m9)(e))instanceof Iu)return e._internalPath;if("string"==typeof e)return Q_(n,e);throw J_("Field path arguments must be of type string or ",n,!1,void 0,t)}const L1e=new RegExp("[~\\*/\\[\\]]");function Q_(n,e,t){if(e.search(L1e)>=0)throw J_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Iu(...e.split("."))._internalPath}catch{throw J_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function J_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new Ne(he.INVALID_ARGUMENT,u+n+d)}function Zk(n,e){return n.some(t=>t.isEqual(e))}class dE{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new D1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class D1e extends dE{data(){return super.data()}}function eC(n,e){return"string"==typeof e?Q_(n,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}class hE{}class N1e extends hE{}function Yk(n,e,...t){let r=[];e instanceof hE&&r.push(e),r=r.concat(t),function(i){const s=i.filter(u=>u instanceof Du).length,o=i.filter(u=>u instanceof Qh).length;if(s>1||s>0&&o>0)throw new Ne(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Qh extends N1e{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Qh(e,t,r)}_apply(e){const t=this._parse(e);return tR(e._query,t),new Ur(e.firestore,e.converter,_T(e._query,t))}_parse(e){const t=Lu(e.firestore);return function(i,s,o,u,d,m,y){let b;if(d.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){eR(y,m);const T=[];for(const H of y)T.push(Jk(u,i,H));b={arrayValue:{values:T}}}else b=Jk(u,i,y)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||eR(y,m),b=function jk(n,e,t,r=!1){return h5(t,n.ya(r?4:3,e))}(o,"where",y,"in"===m||"not-in"===m);return bt.create(d,m,b)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xk(n,e,t){const r=e,i=eC("where",n);return Qh._create(i,r,t)}class Du extends hE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Du(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Kt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const u of o)tR(s,u),s=_T(s,u)}(e._query,t),new Ur(e.firestore,e.converter,_T(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Jk(n,e,t){if("string"==typeof(t=(0,ie.m9)(t))){if(""===t)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yT(e)&&-1!==t.indexOf("/"))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!a1.isDocumentKey(r))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e5(n,new a1(r))}if(t instanceof Sn)return e5(n,t._key);throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y_(t)}.`)}function eR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tR(n,e){if(e.isInequality()){const r=C_(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=vT(n);null!==s&&function nR(n,e,t){if(!t.isEqual(e))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ne(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class P1e{convertValue(e,t="none"){switch(X6(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g1()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Z6(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new cE(un(e.latitude),un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=p_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ch(e));default:return null}}convertTimestamp(e){const t=K6(e);return new K2(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);S1(hP(r));const i=new J8(r.get(1),r.get(3)),s=new a1(r.popFirst(5));return i.isEqual(t)||bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class p5{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nu extends dE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iC extends Nu{data(e={}){return super.data(e)}}class Pu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new p5(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iC(this._firestore,this._userDataWriter,r.key,r,new p5(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new iC(r._firestore,r._userDataWriter,o.doc.key,o.doc,new p5(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const u=new iC(r._firestore,r._userDataWriter,o.doc.key,o.doc,new p5(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,m=-1;return 0!==o.type&&(d=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),m=s.indexOf(o.doc.key)),{type:R1e(o.type),doc:u,oldIndex:d,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function R1e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g1()}}class a0 extends P1e{constructor(e){super(),this.firestore=e}convertBytes(e){return new d5(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function iR(n){n=wt(n,Ur);const e=wt(n.firestore,x2),t=Fn(e),r=new a0(e);return function Kk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),xk(t,n._query).then(i=>new Pu(e,r,n,i))}function Jh(n,e){return function(t,r){const i=new er;return t.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function jee(n,e,t){return Ax.apply(this,arguments)}(yield function iE(n){return Z_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Fn(n),e)}!function(n,e=!0){ou=Pr.SDK_VERSION,(0,Pr._registerComponent)(new X7.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new x2(new CQ(t.getProvider("auth-internal")),new wQ(t.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new J8(u.options.projectId,d)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,Pr.registerVersion)(UD,"3.12.0",n),(0,Pr.registerVersion)(UD,"3.12.0","esm2017")}();var B2=F(1157),Ya=F(259);class m5{constructor(e){return e}}class oC{constructor(){return(0,Ya.C6)()}}const vE=new h.OlP("angularfire2._apps"),Q1e={provide:m5,useFactory:function X1e(n){return n&&1===n.length?n[0]:new m5((0,Ya.Mq)())},deps:[[new h.FiY,vE]]},J1e={provide:oC,deps:[[new h.FiY,vE]]};function ete(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new m5(r)}}let tte=(()=>{class n{constructor(t){(0,Ya.KN)("angularfire",B2.q4.full,"core"),(0,Ya.KN)("angularfire",B2.q4.full,"app"),(0,Ya.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Q1e,J1e]}),n})();function nte(n,...e){return{ngModule:tte,providers:[{provide:vE,useFactory:ete(n),multi:!0,deps:[h.R0b,h.zs3,B2.HU,...e]}]}}const rte=(0,B2.u3)(Ya.ZF,!0),yE=new Map,oR={activated:!1,tokenObservers:[]},ite={initialized:!1,enabled:!1};function fn(n){return yE.get(n)||Object.assign({},oR)}function aC(){return ite}const _E="https://content-firebaseappcheck.googleapis.com/v1",cte="exchangeDebugToken",aR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ute{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ne.Z)(function*(){t.stop();try{t.pending=new ie.BH,yield function fte(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ie.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gr=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ME(){return ME=(0,ne.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const b=yield i.getHeartbeatsHeader();b&&(r["X-Firebase-Client"]=b)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,u;try{o=yield fetch(n,s)}catch(b){throw Gr.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==o.status)throw Gr.create("fetch-status-error",{httpStatus:o.status});try{u=yield o.json()}catch(b){throw Gr.create("fetch-parse-error",{originalErrorMessage:b?.message})}const d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const m=1e3*Number(d[1]),y=Date.now();return{token:u.token,expireTimeMillis:y+m,issuedAtTimeMillis:y}}),ME.apply(this,arguments)}const mte="firebase-app-check-database",gte=1,ep="firebase-app-check-store";let fC=null;function wE(){return wE=(0,ne.Z)(function*(n,e){const r=(yield function uR(){return fC||(fC=new Promise((n,e)=>{try{const t=indexedDB.open(mte,gte);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Gr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ep,{keyPath:"compositeKey"})}}catch(t){e(Gr.create("storage-open",{originalErrorMessage:t?.message}))}}),fC)}()).transaction(ep,"readwrite"),s=r.objectStore(ep).put({compositeKey:n,value:e});return new Promise((o,u)=>{s.onsuccess=d=>{o()},r.onerror=d=>{var m;u(Gr.create("storage-set",{originalErrorMessage:null===(m=d.target.error)||void 0===m?void 0:m.message}))}})}),wE.apply(this,arguments)}const tp=new ys.Yd("@firebase/app-check");function TE(n,e){return(0,ie.hl)()?function yte(n,e){return function fR(n,e){return wE.apply(this,arguments)}(function hR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{tp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VE(){return VE=(0,ne.Z)(function*(){const n=aC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),VE.apply(this,arguments)}const Ste={error:"UNKNOWN_ERROR"};function zte(n){return ie.US.encodeString(JSON.stringify(n),!1)}function dC(n){return AE.apply(this,arguments)}function AE(){return AE=(0,ne.Z)(function*(n,e=!1){const t=n.app;!function CE(n){if(!fn(n).activated)throw Gr.create("use-before-activation",{appName:n.name})}(t);const r=fn(t);let s,i=r.token;if(i&&!ku(i)&&(r.token=void 0,i=void 0),!i){const d=yield r.cachedTokenPromise;d&&(ku(d)?i=d:yield TE(t,void 0))}if(!e&&i&&ku(i))return{token:i.token};let u,o=!1;if(function EE(){return aC().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function uC(n,e){return ME.apply(this,arguments)}(function cR(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_E}/projects/${t}/apps/${r}:${cte}?key=${i}`,body:{debug_token:e}}}(t,yield function HE(){return VE.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const d=yield r.exchangeTokenPromise;return yield TE(t,d),r.token=d,{token:d.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield fn(t).exchangeTokenPromise}catch(d){"appCheck/throttled"===d.code?tp.warn(d.message):tp.error(d),s=d}return i?s?u=ku(i)?{token:i.token,internalError:s}:gR(s):(u={token:i.token},r.token=i,yield TE(t,i)):u=gR(s),o&&function mR(n,e){const t=fn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,u),u}),AE.apply(this,arguments)}function DE(n,e){const t=fn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function pR(n){const{app:e}=n,t=fn(e);let r=t.tokenRefresher;r||(r=function xte(n){const{app:e}=n;return new ute((0,ne.Z)(function*(){let r;if(r=fn(e).token?yield dC(n,!0):yield dC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=fn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},aR.RETRIAL_MIN_WAIT,aR.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ku(n){return n.expireTimeMillis-Date.now()>0}function gR(n){return{token:zte(Ste),error:n}}class Ete{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fn(this.app);for(const t of e)DE(this.app,t.next);return Promise.resolve()}}const SR="app-check-internal";!function Ute(){(0,Pr._registerComponent)(new X7.wA("app-check",n=>function Hte(n,e){return new Ete(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SR).initialize()})),(0,Pr._registerComponent)(new X7.wA(SR,n=>function Vte(n){return{getToken:e=>dC(n,e),addTokenListener:e=>function LE(n,e,t,r){const{app:i}=n,s=fn(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ku(s.token)){const u=s.token;Promise.resolve().then(()=>{t({token:u.token}),pR(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>pR(n))}(n,"INTERNAL",e),removeTokenListener:e=>DE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pr.registerVersion)("@firebase/app-check","0.7.0")}();class np{constructor(){return(0,B2.vb)("app-check")}}typeof window<"u"&&window;var qte=F(1389);class OE{constructor(e){return e}}class FE{constructor(){return(0,B2.vb)("auth")}}const BE=new h.OlP("angularfire2.auth-instances");function Kte(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new OE(r)}}const Yte={provide:FE,deps:[[new h.FiY,BE]]},Xte={provide:OE,useFactory:function Zte(n,e){const t=(0,B2.JM)("auth",n,e);return t&&new OE(t)},deps:[[new h.FiY,BE],m5]};let Qte=(()=>{class n{constructor(){(0,Ya.KN)("angularfire",B2.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Xte,Yte]}),n})();function Jte(n,...e){return{ngModule:Qte,providers:[{provide:BE,useFactory:Kte(n),multi:!0,deps:[h.R0b,h.zs3,B2.HU,oC,[new h.FiY,np],...e]}]}}const e2e=(0,B2.u3)(qte.o,!0);class pC{constructor(e){return e}}const xR="firestore",UE=new h.OlP("angularfire2.firestore-instances");function r2e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new pC(r)}}const i2e={provide:class t2e{constructor(){return(0,B2.vb)(xR)}},deps:[[new h.FiY,UE]]},s2e={provide:pC,useFactory:function n2e(n,e){const t=(0,B2.JM)(xR,n,e);return t&&new pC(t)},deps:[[new h.FiY,UE],m5]};let ER=(()=>{class n{constructor(){(0,Ya.KN)("angularfire",B2.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[s2e,i2e]}),n})();function o2e(n,...e){return{ngModule:ER,providers:[{provide:UE,useFactory:r2e(n),multi:!0,deps:[h.R0b,h.zs3,B2.HU,oC,[new h.FiY,FE],[new h.FiY,np],...e]}]}}const a2e=(0,B2.u3)(z1e,!0);var c2e=F(6451),mC=F(5363),l2e=F(6063);class GE extends $2.x{constructor(e=1/0,t=1/0,r=l2e.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let u=0;for(let d=1;d<r.length&&r[d]<=o;d+=2)u=d;u&&r.splice(0,u+1)}}}var u2e=F(3099);function HR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,u2e.B)({connector:()=>new GE(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function VR(n,e){return(0,f8.m)(e)?kn(()=>n,e):kn(()=>n)}var WE=F(9468),g5=F(2011),f2e=F(9260);const h2e=new h.OlP("angularfire2.auth.use-emulator"),p2e=new h.OlP("angularfire2.auth.settings"),m2e=new h.OlP("angularfire2.auth.tenant-id"),g2e=new h.OlP("angularfire2.auth.langugage-code"),v2e=new h.OlP("angularfire2.auth.use-device-language"),y2e=new h.OlP("angularfire.auth.persistence");let jE=(()=>{class n{constructor(t,r,i,s,o,u,d,m,y,b,T,H){const A=new $2.x,D=D1(void 0).pipe((0,mC.Q)(o.outsideAngular),kn(()=>s.runOutsideAngular(()=>F.e(568).then(F.bind(F,9568)))),(0,X1.U)(()=>(0,g5.on)(t,s,r)),(0,X1.U)(R=>((n,e,t,r,i,s,o,u)=>(0,g5.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const d=e.runOutsideAngular(()=>n.auth());if(t&&d.useEmulator(...t),r&&(d.tenantId=r),d.languageCode=i,s&&d.useDeviceLanguage(),o)for(const[m,y]of Object.entries(o))d.settings[m]=y;return u&&d.setPersistence(u),d},[t,r,i,s,o,u]))(R,s,u,m,y,b,d,T)),HR({bufferSize:1,refCount:!1}));if($3(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=D1(null);else{D.pipe(m4()).subscribe();const G=D.pipe(kn(re=>re.getRedirectResult().then(le=>le,()=>null)),B2.iC,HR({bufferSize:1,refCount:!1})),$=D.pipe(kn(re=>new p4.y(le=>({unsubscribe:s.runOutsideAngular(()=>re.onAuthStateChanged(we=>le.next(we),we=>le.error(we),()=>le.complete()))})))),ee=D.pipe(kn(re=>new p4.y(le=>({unsubscribe:s.runOutsideAngular(()=>re.onIdTokenChanged(we=>le.next(we),we=>le.error(we),()=>le.complete()))}))));this.authState=G.pipe(VR($),(0,WE.R)(o.outsideAngular),(0,mC.Q)(o.insideAngular)),this.user=G.pipe(VR(ee),(0,WE.R)(o.outsideAngular),(0,mC.Q)(o.insideAngular)),this.idToken=this.user.pipe(kn(re=>re?(0,Et.D)(re.getIdToken()):D1(null))),this.idTokenResult=this.user.pipe(kn(re=>re?(0,Et.D)(re.getIdTokenResult()):D1(null))),this.credential=(0,c2e.T)(G,A,this.authState.pipe($i(re=>!re))).pipe((0,X1.U)(re=>re?.user?re:null),(0,WE.R)(o.outsideAngular),(0,mC.Q)(o.insideAngular))}return(0,g5.pX)(this,D,s,{spy:{apply:(R,G,$)=>{(R.startsWith("signIn")||R.startsWith("createUser"))&&$.then(ee=>A.next(ee))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(g5.Dh),h.LFG(g5.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(B2.HU),h.LFG(h2e,8),h.LFG(p2e,8),h.LFG(m2e,8),h.LFG(g2e,8),h.LFG(v2e,8),h.LFG(y2e,8),h.LFG(np,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),C2e=(()=>{class n{constructor(){f2e.Z.registerVersion("angularfire",B2.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[jE]}),n})(),gC=(()=>{class n{isAuthenticated(){return this.isLoggedIn}constructor(t,r,i,s){this.firestore=t,this.afAuth=r,this.router=i,this.ngZone=s,this.isLoggedIn=!1,this.database=function M1e(n,e,...t){if(n=(0,ie.m9)(n),oE("collection","path",e),n instanceof Zh){const r=zt.fromString(e,...t);return Ak(r),new Ao(n,null,r)}{if(!(n instanceof Sn||n instanceof Ao))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return Ak(r),new Ao(n.firestore,null,r)}}(t,"users")}register(t,r,i){var s=this;return(0,ne.Z)(function*(){if(yield s.checkUserExists(t,i)){const u=yield s.emailExists(t),d=yield s.usernameExists(i);return{status:"failed",errors:{email:u,username:d},message:u?d?"Email or Username already exists.":"Email already exists.":d?"Username already exists.":"Something went wrong"}}try{const u=yield s.afAuth.createUserWithEmailAndPassword(t,r),d=yield s.addUserToFirestore(t,i,null!=u.user?.uid?u.user?.uid:"",r);return"success"===d.status&&(s.isLoggedIn=!0),d}catch{return{status:"failed",errors:{email:!1,username:!1},message:"Something went wrong."}}})()}emailExists(t){var r=this;return(0,ne.Z)(function*(){const i=Yk(r.database,Xk("email","==",t));return!(yield iR(i)).empty})()}usernameExists(t){var r=this;return(0,ne.Z)(function*(){const i=Yk(r.database,Xk("username","==",t));return!(yield iR(i)).empty})()}checkUserExists(t,r){var i=this;return(0,ne.Z)(function*(){const s=yield i.emailExists(t),o=yield i.usernameExists(r);return s||o})()}addUserToFirestore(t,r,i,s){var o=this;return(0,ne.Z)(function*(){try{return yield function O1e(n,e,t){n=wt(n,Sn);const r=wt(n.firestore,x2),i=function mE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Jh(r,[lE(Lu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,F2.none())])}(function Dk(n,e,...t){if(n=(0,ie.m9)(n),1===arguments.length&&(e=jD.A()),oE("doc","path",e),n instanceof Zh){const r=zt.fromString(e,...t);return Vk(r),new Sn(n,null,new a1(r))}{if(!(n instanceof Sn||n instanceof Ao))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return Vk(r),new Sn(n.firestore,n instanceof Ao?n.converter:null,new a1(r))}}(o.database,i),{email:t,username:r,uid:i,password:s,setting:{},profile:{}}),{status:"success",errors:{email:!1,username:!1},message:"Registration successful."}}catch{return{status:"failed",errors:{email:!1,username:!1},message:"Something went wrong."}}})()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pC),h.LFG(jE),h.LFG(Qn),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function v1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?AR(Object(t),!0).forEach(function(r){nr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vC(n){return(vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function IR(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function nr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $E(n,e){return function z2e(n){if(Array.isArray(n))return n}(n)||function x2e(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,u,r=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(d){s=!0,u=d}finally{try{!i&&null!=t.return&&t.return()}finally{if(s)throw u}}return r}}(n,e)||LR(n,e)||function H2e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(n){return function S2e(n){if(Array.isArray(n))return qE(n)}(n)||function T2e(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||LR(n)||function E2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LR(n,e){if(n){if("string"==typeof n)return qE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qE(n,e)}}function qE(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var DR=function(){},ZE={},NR={},PR=null,kR={mark:DR,measure:DR};try{typeof window<"u"&&(ZE=window),typeof document<"u"&&(NR=document),typeof MutationObserver<"u"&&(PR=MutationObserver),typeof performance<"u"&&(kR=performance)}catch{}var CC,bC,MC,wC,SC,RR=(ZE.navigator||{}).userAgent,OR=void 0===RR?"":RR,c0=ZE,E2=NR,FR=PR,_C=kR,Xa=!!E2.documentElement&&!!E2.head&&"function"==typeof E2.addEventListener&&"function"==typeof E2.createElement,BR=~OR.indexOf("MSIE")||~OR.indexOf("Trident/"),Qa="___FONT_AWESOME___",KE=16,UR="fa",GR="svg-inline--fa",v5="data-fa-i2svg",YE="data-fa-pseudo-element",A2e="data-fa-pseudo-element-pending",XE="data-prefix",QE="data-icon",WR="fontawesome-i2svg",I2e="async",L2e=["HTML","HEAD","STYLE","SCRIPT"],jR=function(){try{return!0}catch{return!1}}(),H2="classic",dn="sharp",JE=[H2,dn];function sp(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[H2]}})}var op=sp((nr(CC={},H2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),nr(CC,dn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),CC)),ap=sp((nr(bC={},H2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),nr(bC,dn,{solid:"fass",regular:"fasr",light:"fasl"}),bC)),cp=sp((nr(MC={},H2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),nr(MC,dn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),MC)),D2e=sp((nr(wC={},H2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),nr(wC,dn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),wC)),N2e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,$R="fa-layers-text",P2e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,k2e=sp((nr(SC={},H2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),nr(SC,dn,{900:"fass",400:"fasr",300:"fasl"}),SC)),qR=[1,2,3,4,5,6,7,8,9,10],R2e=qR.concat([11,12,13,14,15,16,17,18,19,20]),O2e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],y5={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},lp=new Set;Object.keys(ap[H2]).map(lp.add.bind(lp)),Object.keys(ap[dn]).map(lp.add.bind(lp));var F2e=[].concat(JE,ip(lp),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",y5.GROUP,y5.SWAP_OPACITY,y5.PRIMARY,y5.SECONDARY]).concat(qR.map(function(n){return"".concat(n,"x")})).concat(R2e.map(function(n){return"w-".concat(n)})),up=c0.FontAwesomeConfig||{};E2&&"function"==typeof E2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=$E(n,2),r=e[1],i=function U2e(n){return""===n||"false"!==n&&("true"===n||n)}(function B2e(n){var e=E2.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(up[r]=i)});var ZR={styleDefault:"solid",familyDefault:"classic",cssPrefix:UR,replacementClass:GR,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};up.familyPrefix&&(up.cssPrefix=up.familyPrefix);var Ru=v1(v1({},ZR),up);Ru.autoReplaceSvg||(Ru.observeMutations=!1);var z1={};Object.keys(ZR).forEach(function(n){Object.defineProperty(z1,n,{enumerable:!0,set:function(t){Ru[n]=t,fp.forEach(function(r){return r(z1)})},get:function(){return Ru[n]}})}),Object.defineProperty(z1,"familyPrefix",{enumerable:!0,set:function(e){Ru.cssPrefix=e,fp.forEach(function(t){return t(z1)})},get:function(){return Ru.cssPrefix}}),c0.FontAwesomeConfig=z1;var fp=[],l0=KE,Io={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},$2e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function dp(){for(var n=12,e="";n-- >0;)e+=$2e[62*Math.random()|0];return e}function Ou(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function eH(n){return n.classList?Ou(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function KR(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zC(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function tH(n){return n.size!==Io.size||n.x!==Io.x||n.y!==Io.y||n.rotate!==Io.rotate||n.flipX||n.flipY}var Y2e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function YR(){var n=UR,e=GR,t=z1.cssPrefix,r=z1.replacementClass,i=Y2e;if(t!==n||r!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),u=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(u,".".concat(r))}return i}var XR=!1;function nH(){z1.autoAddCss&&!XR&&(function j2e(n){if(n&&Xa){var e=E2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=E2.head.childNodes,r=null,i=t.length-1;i>-1;i--){var s=t[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}E2.head.insertBefore(e,r)}}(YR()),XR=!0)}var X2e={mixout:function(){return{dom:{css:YR,insertCss:nH}}},hooks:function(){return{beforeDOMElementCreation:function(){nH()},beforeI2svg:function(){nH()}}}},Ja=c0||{};Ja[Qa]||(Ja[Qa]={}),Ja[Qa].styles||(Ja[Qa].styles={}),Ja[Qa].hooks||(Ja[Qa].hooks={}),Ja[Qa].shims||(Ja[Qa].shims=[]);var ws=Ja[Qa],QR=[],TC=!1;function hp(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,s=void 0===i?[]:i;return"string"==typeof n?KR(n):"<".concat(e," ").concat(function q2e(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(KR(n[t]),'" ')},"").trim()}(r),">").concat(s.map(hp).join(""),"</").concat(e,">")}function JR(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}Xa&&((TC=(E2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(E2.readyState))||E2.addEventListener("DOMContentLoaded",function n(){E2.removeEventListener("DOMContentLoaded",n),TC=1,QR.map(function(e){return e()})}));var rH=function(e,t,r,i){var d,m,y,s=Object.keys(e),o=s.length,u=void 0!==i?function(e,t){return function(r,i,s,o){return e.call(t,r,i,s,o)}}(t,i):t;for(void 0===r?(d=1,y=e[s[0]]):(d=0,y=r);d<o;d++)y=u(y,e[m=s[d]],m,e);return y};function iH(n){var e=function tne(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function eO(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function sH(n,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=eO(e);"function"!=typeof ws.hooks.addPack||i?ws.styles[n]=v1(v1({},ws.styles[n]||{}),s):ws.hooks.addPack(n,eO(e)),"fas"===n&&sH("fa",e)}var xC,EC,HC,Fu=ws.styles,rne=ws.shims,ine=(nr(xC={},H2,Object.values(cp[H2])),nr(xC,dn,Object.values(cp[dn])),xC),oH=null,tO={},nO={},rO={},iO={},sO={},sne=(nr(EC={},H2,Object.keys(op[H2])),nr(EC,dn,Object.keys(op[dn])),EC);var oO=function(){var e=function(s){return rH(Fu,function(o,u,d){return o[d]=rH(u,s,{}),o},{})};tO=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(d){return"number"==typeof d}).forEach(function(d){i[d.toString(16)]=o}),i}),nO=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(d){return"string"==typeof d}).forEach(function(d){i[d]=o}),i}),sO=e(function(i,s,o){var u=s[2];return i[o]=o,u.forEach(function(d){i[d]=o}),i});var t="far"in Fu||z1.autoFetchSvg,r=rH(rne,function(i,s){var o=s[0],u=s[1],d=s[2];return"far"===u&&!t&&(u="fas"),"string"==typeof o&&(i.names[o]={prefix:u,iconName:d}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:u,iconName:d}),i},{names:{},unicodes:{}});rO=r.names,iO=r.unicodes,oH=VC(z1.styleDefault,{family:z1.familyDefault})};function aH(n,e){return(tO[n]||{})[e]}function _5(n,e){return(sO[n]||{})[e]}function aO(n){return rO[n]||{prefix:null,iconName:null}}function u0(){return oH}(function W2e(n){fp.push(n)})(function(n){oH=VC(n.styleDefault,{family:z1.familyDefault})}),oO();var cH=function(){return{prefix:null,iconName:null,rest:[]}};function VC(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===t?H2:t;return ap[r][n]||ap[r][op[r][n]]||(n in ws.styles?n:null)||null}var cO=(nr(HC={},H2,Object.keys(cp[H2])),nr(HC,dn,Object.keys(cp[dn])),HC);function AC(n){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(nr(e={},H2,"".concat(z1.cssPrefix,"-").concat(H2)),nr(e,dn,"".concat(z1.cssPrefix,"-").concat(dn)),e),o=null,u=H2;(n.includes(s[H2])||n.some(function(m){return cO[H2].includes(m)}))&&(u=H2),(n.includes(s[dn])||n.some(function(m){return cO[dn].includes(m)}))&&(u=dn);var d=n.reduce(function(m,y){var b=function ane(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function one(n){return~F2e.indexOf(n)}(i)?null:i}(z1.cssPrefix,y);if(Fu[y]?(y=ine[u].includes(y)?D2e[u][y]:y,o=y,m.prefix=y):sne[u].indexOf(y)>-1?(o=y,m.prefix=VC(y,{family:u})):b?m.iconName=b:y!==z1.replacementClass&&y!==s[H2]&&y!==s[dn]&&m.rest.push(y),!i&&m.prefix&&m.iconName){var T="fa"===o?aO(m.iconName):{},H=_5(m.prefix,m.iconName);T.prefix&&(o=null),m.iconName=T.iconName||H||m.iconName,m.prefix=T.prefix||m.prefix,"far"===m.prefix&&!Fu.far&&Fu.fas&&!z1.autoFetchSvg&&(m.prefix="fas")}return m},cH());return(n.includes("fa-brands")||n.includes("fab"))&&(d.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(d.prefix="fad"),!d.prefix&&u===dn&&(Fu.fass||z1.autoFetchSvg)&&(d.prefix="fass",d.iconName=_5(d.prefix,d.iconName)||d.iconName),("fa"===d.prefix||"fa"===o)&&(d.prefix=u0()||"fas"),d}var une=function(){function n(){(function b2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function M2e(n,e,t){e&&IR(n.prototype,e),t&&IR(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(u){t.definitions[u]=v1(v1({},t.definitions[u]||{}),o[u]),sH(u,o[u]);var d=cp[H2][u];d&&sH(d,o[u]),oO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],u=o.prefix,d=o.iconName,m=o.icon,y=m[2];t[u]||(t[u]={}),y.length>0&&y.forEach(function(b){"string"==typeof b&&(t[u][b]=m)}),t[u][d]=m}),t}}]),n}(),lO=[],Bu={},Uu={},fne=Object.keys(Uu);function lH(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return(Bu[n]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function C5(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(Bu[n]||[]).forEach(function(s){s.apply(null,t)})}function ec(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Uu[n]?Uu[n].apply(null,e):void 0}function uH(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||u0();if(e)return e=_5(t,e)||e,JR(uO.definitions,t,e)||JR(ws.styles,t,e)}var uO=new une,pne={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xa?(C5("beforeI2svg",e),ec("pseudoElements2svg",e),ec("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===z1.autoReplaceSvg&&(z1.autoReplaceSvg=!0),z1.observeMutations=!0,function J2e(n){Xa&&(TC?setTimeout(n,0):QR.push(n))}(function(){gne({autoReplaceSvgRoot:t}),C5("watch",e)})}},P3={noAuto:function(){z1.autoReplaceSvg=!1,z1.observeMutations=!1,C5("noAuto")},config:z1,dom:pne,parse:{icon:function(e){if(null===e)return null;if("object"===vC(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:_5(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=VC(e[0]);return{prefix:r,iconName:_5(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(z1.cssPrefix,"-"))>-1||e.match(N2e))){var i=AC(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||u0(),iconName:_5(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=u0();return{prefix:s,iconName:_5(s,e)||e}}}},library:uO,findIconDefinition:uH,toHtml:hp},gne=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===t?E2:t;(Object.keys(ws.styles).length>0||z1.autoFetchSvg)&&Xa&&z1.autoReplaceSvg&&P3.dom.i2svg({node:r})};function IC(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return hp(r)})}}),Object.defineProperty(n,"node",{get:function(){if(Xa){var r=E2.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function fH(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,s=n.iconName,o=n.transform,u=n.symbol,d=n.title,m=n.maskId,y=n.titleId,b=n.extra,T=n.watchable,H=void 0!==T&&T,A=r.found?r:t,D=A.width,R=A.height,G="fak"===i,$=[z1.replacementClass,s?"".concat(z1.cssPrefix,"-").concat(s):""].filter(function(Ue){return-1===b.classes.indexOf(Ue)}).filter(function(Ue){return""!==Ue||!!Ue}).concat(b.classes).join(" "),ee={children:[],attributes:v1(v1({},b.attributes),{},{"data-prefix":i,"data-icon":s,class:$,role:b.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(D," ").concat(R)})},re=G&&!~b.classes.indexOf("fa-fw")?{width:"".concat(D/R*16*.0625,"em")}:{};H&&(ee.attributes[v5]=""),d&&(ee.children.push({tag:"title",attributes:{id:ee.attributes["aria-labelledby"]||"title-".concat(y||dp())},children:[d]}),delete ee.attributes.title);var le=v1(v1({},ee),{},{prefix:i,iconName:s,main:t,mask:r,maskId:m,transform:o,symbol:u,styles:v1(v1({},re),b.styles)}),we=r.found&&t.found?ec("generateAbstractMask",le)||{children:[],attributes:{}}:ec("generateAbstractIcon",le)||{children:[],attributes:{}},Ke=we.attributes;return le.children=we.children,le.attributes=Ke,u?function yne(n){var t=n.iconName,r=n.children,i=n.attributes,s=n.symbol,o=!0===s?"".concat(n.prefix,"-").concat(z1.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:v1(v1({},i),{},{id:o}),children:r}]}]}(le):function vne(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,s=n.styles,o=n.transform;if(tH(o)&&t.found&&!r.found){var m={x:t.width/t.height/2,y:.5};i.style=zC(v1(v1({},s),{},{"transform-origin":"".concat(m.x+o.x/16,"em ").concat(m.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(le)}function fO(n){var e=n.content,t=n.width,r=n.height,i=n.transform,s=n.title,o=n.extra,u=n.watchable,d=void 0!==u&&u,m=v1(v1(v1({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});d&&(m[v5]="");var y=v1({},o.styles);tH(i)&&(y.transform=function K2e(n){var e=n.transform,t=n.width,i=n.height,s=void 0===i?KE:i,o=n.startCentered,u=void 0!==o&&o,d="";return d+=u&&BR?"translate(".concat(e.x/l0-(void 0===t?KE:t)/2,"em, ").concat(e.y/l0-s/2,"em) "):u?"translate(calc(-50% + ".concat(e.x/l0,"em), calc(-50% + ").concat(e.y/l0,"em)) "):"translate(".concat(e.x/l0,"em, ").concat(e.y/l0,"em) "),(d+="scale(".concat(e.size/l0*(e.flipX?-1:1),", ").concat(e.size/l0*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),y["-webkit-transform"]=y.transform);var b=zC(y);b.length>0&&(m.style=b);var T=[];return T.push({tag:"span",attributes:m,children:[e]}),s&&T.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),T}var dH=ws.styles;function hH(n){var e=n[0],t=n[1],s=$E(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(z1.cssPrefix,"-").concat(y5.GROUP)},children:[{tag:"path",attributes:{class:"".concat(z1.cssPrefix,"-").concat(y5.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(z1.cssPrefix,"-").concat(y5.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var Cne={found:!1,width:512,height:512};function pH(n,e){var t=e;return"fa"===e&&null!==z1.styleDefault&&(e=u0()),new Promise(function(r,i){if(ec("missingIconAbstract"),"fa"===t){var o=aO(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&dH[e]&&dH[e][n])return r(hH(dH[e][n]));(function bne(n,e){!jR&&!z1.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(v1(v1({},Cne),{},{icon:z1.showMissingIcons&&n&&ec("missingIconAbstract")||{}}))})}var dO=function(){},mH=z1.measurePerformance&&_C&&_C.mark&&_C.measure?_C:{mark:dO,measure:dO},pp='FA "6.4.0"',hO=function(e){mH.mark("".concat(pp," ").concat(e," ends")),mH.measure("".concat(pp," ").concat(e),"".concat(pp," ").concat(e," begins"),"".concat(pp," ").concat(e," ends"))},gH={begin:function(e){return mH.mark("".concat(pp," ").concat(e," begins")),function(){return hO(e)}},end:hO},LC=function(){};function pO(n){return"string"==typeof(n.getAttribute?n.getAttribute(v5):null)}function Tne(n){return E2.createElementNS("http://www.w3.org/2000/svg",n)}function xne(n){return E2.createElement(n)}function mO(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===t?"svg"===n.tag?Tne:xne:t;if("string"==typeof n)return E2.createTextNode(n);var i=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(mO(o,{ceFn:r}))}),i}var DC={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(mO(i),t)}),null===t.getAttribute(v5)&&z1.keepOriginalSource){var r=E2.createComment(function Ene(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~eH(t).indexOf(z1.replacementClass))return DC.replace(e);var i=new RegExp("".concat(z1.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(u,d){return d===z1.replacementClass||d.match(i)?u.toSvg.push(d):u.toNode.push(d),u},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(u){return hp(u)}).join("\n");t.setAttribute(v5,""),t.innerHTML=o}};function gO(n){n()}function vO(n,e){var t="function"==typeof e?e:LC;if(0===n.length)t();else{var r=gO;z1.mutateApproach===I2e&&(r=c0.requestAnimationFrame||gO),r(function(){var i=function zne(){return!0===z1.autoReplaceSvg?DC.replace:DC[z1.autoReplaceSvg]||DC.replace}(),s=gH.begin("mutate");n.map(i),s(),t()})}}var vH=!1;function yO(){vH=!0}function yH(){vH=!1}var NC=null;function _O(n){if(FR&&z1.observeMutations){var e=n.treeCallback,t=void 0===e?LC:e,r=n.nodeCallback,i=void 0===r?LC:r,s=n.pseudoElementsCallback,o=void 0===s?LC:s,u=n.observeMutationsRoot,d=void 0===u?E2:u;NC=new FR(function(m){if(!vH){var y=u0();Ou(m).forEach(function(b){if("childList"===b.type&&b.addedNodes.length>0&&!pO(b.addedNodes[0])&&(z1.searchPseudoElements&&o(b.target),t(b.target)),"attributes"===b.type&&b.target.parentNode&&z1.searchPseudoElements&&o(b.target.parentNode),"attributes"===b.type&&pO(b.target)&&~O2e.indexOf(b.attributeName))if("class"===b.attributeName&&function wne(n){var e=n.getAttribute?n.getAttribute(XE):null,t=n.getAttribute?n.getAttribute(QE):null;return e&&t}(b.target)){var T=AC(eH(b.target)),A=T.iconName;b.target.setAttribute(XE,T.prefix||y),A&&b.target.setAttribute(QE,A)}else(function Sne(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(z1.replacementClass)})(b.target)&&i(b.target)})}}),Xa&&NC.observe(d,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function CO(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function Ane(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=AC(eH(n));return i.prefix||(i.prefix=u0()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function cne(n,e){return(nO[n]||{})[e]}(i.prefix,n.innerText)||aH(i.prefix,iH(n.innerText))),!i.iconName&&z1.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}(n),r=t.iconName,i=t.prefix,s=t.rest,o=function Ine(n){var e=Ou(n.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return z1.autoA11y&&(t?e["aria-labelledby"]="".concat(z1.replacementClass,"-title-").concat(r||dp()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),u=lH("parseNodeAttributes",{},n),d=e.styleParser?function Vne(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],u=s.slice(1);return o&&u.length>0&&(r[o]=u.join(":").trim()),r},{})),t}(n):[];return v1({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Io,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:d,attributes:o}},u)}var Dne=ws.styles;function bO(n){var e="nest"===z1.autoReplaceSvg?CO(n,{styleParser:!1}):CO(n);return~e.extra.classes.indexOf($R)?ec("generateLayersText",n,e):ec("generateSvgReplacementMutation",n,e)}var f0=new Set;function MO(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Xa)return Promise.resolve();var t=E2.documentElement.classList,r=function(b){return t.add("".concat(WR,"-").concat(b))},i=function(b){return t.remove("".concat(WR,"-").concat(b))},s=z1.autoFetchSvg?f0:JE.map(function(y){return"fa-".concat(y)}).concat(Object.keys(Dne));s.includes("fa")||s.push("fa");var o=[".".concat($R,":not([").concat(v5,"])")].concat(s.map(function(y){return".".concat(y,":not([").concat(v5,"])")})).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=Ou(n.querySelectorAll(o))}catch{}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var d=gH.begin("onTree"),m=u.reduce(function(y,b){try{var T=bO(b);T&&y.push(T)}catch(H){jR||"MissingIcon"===H.name&&console.error(H)}return y},[]);return new Promise(function(y,b){Promise.all(m).then(function(T){vO(T,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),d(),y()})}).catch(function(T){d(),b(T)})})}function Nne(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;bO(n).then(function(t){t&&vO([t],e)})}function Pne(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:uH(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:uH(i||{})),n(r,v1(v1({},t),{},{mask:i}))}}JE.map(function(n){f0.add("fa-".concat(n))}),Object.keys(op[H2]).map(f0.add.bind(f0)),Object.keys(op[dn]).map(f0.add.bind(f0)),f0=ip(f0);var kne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?Io:r,s=t.symbol,o=void 0!==s&&s,u=t.mask,d=void 0===u?null:u,m=t.maskId,y=void 0===m?null:m,b=t.title,T=void 0===b?null:b,H=t.titleId,A=void 0===H?null:H,D=t.classes,R=void 0===D?[]:D,G=t.attributes,$=void 0===G?{}:G,ee=t.styles,re=void 0===ee?{}:ee;if(e){var le=e.prefix,we=e.iconName,We=e.icon;return IC(v1({type:"icon"},e),function(){return C5("beforeDOMElementCreation",{iconDefinition:e,params:t}),z1.autoA11y&&(T?$["aria-labelledby"]="".concat(z1.replacementClass,"-title-").concat(A||dp()):($["aria-hidden"]="true",$.focusable="false")),fH({icons:{main:hH(We),mask:d?hH(d.icon):{found:!1,width:null,height:null,icon:{}}},prefix:le,iconName:we,transform:v1(v1({},Io),i),symbol:o,title:T,maskId:y,titleId:A,extra:{attributes:$,styles:re,classes:R}})})}},Rne={mixout:function(){return{icon:Pne(kne)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=MO,t.nodeCallback=Nne,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,s=t.callback;return MO(void 0===r?E2:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,s=r.title,o=r.titleId,u=r.prefix,d=r.transform,m=r.symbol,y=r.mask,b=r.maskId,T=r.extra;return new Promise(function(H,A){Promise.all([pH(i,u),y.iconName?pH(y.iconName,y.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(D){var R=$E(D,2);H([t,fH({icons:{main:R[0],mask:R[1]},prefix:u,iconName:i,transform:d,symbol:m,maskId:b,title:s,titleId:o,extra:T,watchable:!0})])}).catch(A)})},e.generateAbstractIcon=function(t){var m,r=t.children,i=t.attributes,s=t.main,o=t.transform,d=zC(t.styles);return d.length>0&&(i.style=d),tH(o)&&(m=ec("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(m||s.icon),{children:r,attributes:i}}}},One={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return IC({type:"layer"},function(){C5("beforeDOMElementCreation",{assembler:t,params:r});var o=[];return t(function(u){Array.isArray(u)?u.map(function(d){o=o.concat(d.abstract)}):o=o.concat(u.abstract)}),[{tag:"span",attributes:{class:["".concat(z1.cssPrefix,"-layers")].concat(ip(s)).join(" ")},children:o}]})}}}},Fne={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,u=void 0===o?[]:o,d=r.attributes,m=void 0===d?{}:d,y=r.styles,b=void 0===y?{}:y;return IC({type:"counter",content:t},function(){return C5("beforeDOMElementCreation",{content:t,params:r}),function _ne(n){var e=n.content,t=n.title,r=n.extra,i=v1(v1(v1({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=zC(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}({content:t.toString(),title:s,extra:{attributes:m,styles:b,classes:["".concat(z1.cssPrefix,"-layers-counter")].concat(ip(u))}})})}}}},Bne={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Io:i,o=r.title,u=void 0===o?null:o,d=r.classes,m=void 0===d?[]:d,y=r.attributes,b=void 0===y?{}:y,T=r.styles,H=void 0===T?{}:T;return IC({type:"text",content:t},function(){return C5("beforeDOMElementCreation",{content:t,params:r}),fO({content:t,transform:v1(v1({},Io),s),title:u,extra:{attributes:b,styles:H,classes:["".concat(z1.cssPrefix,"-layers-text")].concat(ip(m))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,s=r.transform,o=r.extra,u=null,d=null;if(BR){var m=parseInt(getComputedStyle(t).fontSize,10),y=t.getBoundingClientRect();u=y.width/m,d=y.height/m}return z1.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,fO({content:t.innerHTML,width:u,height:d,transform:s,title:i,extra:o,watchable:!0})])}}},Une=new RegExp('"',"ug"),wO=[1105920,1112319];function SO(n,e){var t="".concat(A2e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var o=Ou(n.children).filter(function(We){return We.getAttribute(YE)===e})[0],u=c0.getComputedStyle(n,e),d=u.getPropertyValue("font-family").match(P2e),m=u.getPropertyValue("font-weight"),y=u.getPropertyValue("content");if(o&&!d)return n.removeChild(o),r();if(d&&"none"!==y&&""!==y){var b=u.getPropertyValue("content"),T=~["Sharp"].indexOf(d[2])?dn:H2,H=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(d[2])?ap[T][d[2].toLowerCase()]:k2e[T][m],A=function Gne(n){var e=n.replace(Une,""),t=function nne(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=wO[0]&&t<=wO[1],i=2===e.length&&e[0]===e[1];return{value:iH(i?e[0]:e),isSecondary:r||i}}(b),D=A.value,R=A.isSecondary,G=d[0].startsWith("FontAwesome"),$=aH(H,D),ee=$;if(G){var re=function lne(n){var e=iO[n],t=aH("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(D);re.iconName&&re.prefix&&($=re.iconName,H=re.prefix)}if(!$||R||o&&o.getAttribute(XE)===H&&o.getAttribute(QE)===ee)r();else{n.setAttribute(t,ee),o&&n.removeChild(o);var le=function Lne(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Io,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),we=le.extra;we.attributes[YE]=e,pH($,H).then(function(We){var Ke=fH(v1(v1({},le),{},{icons:{main:We,mask:cH()},prefix:H,iconName:ee,extra:we,watchable:!0})),Ue=E2.createElement("svg");"::before"===e?n.insertBefore(Ue,n.firstChild):n.appendChild(Ue),Ue.outerHTML=Ke.map(function(_t){return hp(_t)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function Wne(n){return Promise.all([SO(n,"::before"),SO(n,"::after")])}function jne(n){return!(n.parentNode===document.head||~L2e.indexOf(n.tagName.toUpperCase())||n.getAttribute(YE)||n.parentNode&&"svg"===n.parentNode.tagName)}function zO(n){if(Xa)return new Promise(function(e,t){var r=Ou(n.querySelectorAll("*")).filter(jne).map(Wne),i=gH.begin("searchPseudoElements");yO(),Promise.all(r).then(function(){i(),yH(),e()}).catch(function(){i(),yH(),t()})})}var TO=!1,xO=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],u=s.slice(1).join("-");if(o&&"h"===u)return r.flipX=!0,r;if(o&&"v"===u)return r.flipY=!0,r;if(u=parseFloat(u),isNaN(u))return r;switch(o){case"grow":r.size=r.size+u;break;case"shrink":r.size=r.size-u;break;case"left":r.x=r.x-u;break;case"right":r.x=r.x+u;break;case"up":r.y=r.y-u;break;case"down":r.y=r.y+u;break;case"rotate":r.rotate=r.rotate+u}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},_H={x:0,y:0,width:"100%",height:"100%"};function EO(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function Kne(n){return"g"===n.tag?n.children:[n]}var Yne={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),s=i?AC(i.split(" ").map(function(o){return o.trim()})):cH();return s.prefix||(s.prefix=u0()),t.mask=s,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,s=t.main,o=t.mask,u=t.maskId,y=s.icon,T=o.icon,H=function Z2e(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),u="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:o.width,iconWidth:s.width}),A={tag:"rect",attributes:v1(v1({},_H),{},{fill:"white"})},D=y.children?{children:y.children.map(EO)}:{},R={tag:"g",attributes:v1({},H.inner),children:[EO(v1({tag:y.tag,attributes:v1(v1({},y.attributes),H.path)},D))]},G={tag:"g",attributes:v1({},H.outer),children:[R]},$="mask-".concat(u||dp()),ee="clip-".concat(u||dp()),re={tag:"mask",attributes:v1(v1({},_H),{},{id:$,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[A,G]},le={tag:"defs",children:[{tag:"clipPath",attributes:{id:ee},children:Kne(T)},re]};return r.push(le,{tag:"rect",attributes:v1({fill:"currentColor","clip-path":"url(#".concat(ee,")"),mask:"url(#".concat($,")")},_H)}),{children:r,attributes:i}}}};!function dne(n,e){var t=e.mixoutsTo;lO=n,Bu={},Object.keys(Uu).forEach(function(r){-1===fne.indexOf(r)&&delete Uu[r]}),lO.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(t[o]=i[o]),"object"===vC(i[o])&&Object.keys(i[o]).forEach(function(u){t[o]||(t[o]={}),t[o][u]=i[o][u]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Bu[o]||(Bu[o]=[]),Bu[o].push(s[o])})}r.provides&&r.provides(Uu)})}([X2e,Rne,One,Fne,Bne,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=zO,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;z1.searchPseudoElements&&zO(void 0===r?E2:r)}}},{mixout:function(){return{dom:{unwatch:function(){yO(),TO=!0}}}},hooks:function(){return{bootstrap:function(){_O(lH("mutationObserverCallbacks",{}))},noAuto:function(){!function Hne(){NC&&NC.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;TO?yH():_O(lH("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return xO(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=xO(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,o=t.iconWidth,u={transform:"translate(".concat(t.containerWidth/2," 256)")},d="translate(".concat(32*i.x,", ").concat(32*i.y,") "),m="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),y="rotate(".concat(i.rotate," 0 0)"),H={outer:u,inner:{transform:"".concat(d," ").concat(m," ").concat(y)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:v1({},H.outer),children:[{tag:"g",attributes:v1({},H.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:v1(v1({},r.icon.attributes),H.path)}]}]}}}},Yne,{provides:function(e){var t=!1;c0.matchMedia&&(t=c0.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:v1(v1({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=v1(v1({},s),{},{attributeName:"opacity"}),u={tag:"circle",attributes:v1(v1({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||u.children.push({tag:"animate",attributes:v1(v1({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:v1(v1({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(u),r.push({tag:"path",attributes:v1(v1({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:v1(v1({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:v1(v1({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:v1(v1({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:P3});var ere=P3.parse,tre=P3.icon;const nre=["*"],sre=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let cre=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HO=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lre=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[h.TTD]}),n})(),ure=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275cmp=h.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[h.TTD],ngContentSelectors:nre,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},encapsulation:2}),n})(),VO=(()=>{class n{constructor(t,r,i,s,o){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[],null!=o&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const s=this.buildParams();this.renderIcon(i,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?ere.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...sre(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=tre(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Y4),h.Y36(cre),h.Y36(HO),h.Y36(lre,8),h.Y36(ure,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(h.Ikx("innerHTML",r.renderedIconHTML,h.oJD),h.uIk("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[h.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),fre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function dre(n,e){if(1&n&&(h.TgZ(0,"span",20),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.emailErrorMessage)}}function hre(n,e){if(1&n&&(h.TgZ(0,"span",20),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.passwordErrorMessage)}}const pre=function(){return["fab","facebook"]},mre=function(){return["fab","google"]},gre=function(){return["fab","twitter"]},vre=function(){return["fas","eye"]},yre=function(){return["fas","eye-slash"]};let _re=(()=>{class n{constructor(t){this.authService=t,this.focusedInput=null,this.particlesOptions=nL,this.emailErrorMessage="You must enter a valid email",this.passwordErrorMessage="You must enter a valid password",this.subscription=new r6.w0,this.showPassword=!1,this.loginForm=new L8({email:new ka(null,[_o.required,n=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.value)?null:{emailInvalid:{value:n.value}}]),password:new ka(null,[_o.required,n=>{const e=/\d/.test(n.value),t=/[a-z]/.test(n.value),r=/[A-Z]/.test(n.value),i=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(n.value);return!n.value||n.value.length<8?{passwordInvalid:{value:n.value}}:e?t?r?i?null:{specialCharInvalid:{value:n.value}}:{uppercaseInvalid:{value:n.value}}:{lowercaseInvalid:{value:n.value}}:{numberInvalid:{value:n.value}}}])})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){if(this.loginForm.valid){console.log(this.loginForm);const{email:t,password:r}=this.loginForm.value;console.log("Esegui il login con email e password:",t,r)}}particlesLoaded(t){console.log("particles loaded")}particlesInit(t){return(0,ne.Z)(function*(){yield Ly(t)})()}ngOnInit(){this.subscription=this.loginForm.get("email")?.valueChanges.subscribe(()=>{const t=this.loginForm.get("email")?.errors;t?t.required?this.emailErrorMessage="This field is required.":t.emailInvalid&&(this.emailErrorMessage="You must enter a valid email."):this.emailErrorMessage=""}),this.subscription=this.loginForm.get("password")?.valueChanges.subscribe(()=>{const t=this.loginForm.get("password")?.errors;t?t.required?this.passwordErrorMessage="This field is required.":t.passwordInvalid?this.passwordErrorMessage="Password must be at least 8 characters long.":t.numberInvalid?this.passwordErrorMessage="Password must contain at least one number.":t.lowercaseInvalid?this.passwordErrorMessage="Password must contain at least one lowercase letter.":t.uppercaseInvalid?this.passwordErrorMessage="Password must contain at least one uppercase letter.":t.specialCharInvalid&&(this.passwordErrorMessage="Password must contain at least one special character."):this.passwordErrorMessage=""})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:35,consts:[["id","particles",3,"options","particlesInit","particlesLoaded"],[1,"box"],[3,"formGroup","ngSubmit"],[1,"social-container"],[1,"social-button","facebook"],[3,"icon"],[1,"social-button","google"],[1,"social-button","twitter"],[1,"inputBox"],["for","userEmail"],["type","text","id","userEmail","name","userEmail","placeholder","Email","formControlName","email",3,"focus","blur"],["class","error-message",4,"ngIf"],["for","userPassword"],["id","userPassword","name","userPassword","placeholder","Password","formControlName","password",3,"type","focus","blur"],["type","button",1,"password-show",3,"click"],["aria-hidden","true",3,"icon"],["type","submit"],[1,"link-container"],[1,"membership"],["href","#","routerLink","/register",1,"link-lr"],[1,"error-message"]],template:function(t,r){if(1&t&&(h.TgZ(0,"ng-particles",0),h.NdJ("particlesLoaded",function(s){return r.particlesLoaded(s)}),h.qZA(),h.TgZ(1,"div",1)(2,"form",2),h.NdJ("ngSubmit",function(){return r.onSubmit()}),h.TgZ(3,"h2"),h._uU(4,"Login"),h.qZA(),h.TgZ(5,"div",3)(6,"button",4),h._UZ(7,"fa-icon",5),h.qZA(),h.TgZ(8,"button",6),h._UZ(9,"fa-icon",5),h.qZA(),h.TgZ(10,"button",7),h._UZ(11,"fa-icon",5),h.qZA()(),h.TgZ(12,"div",8)(13,"label",9),h._uU(14,"Email"),h.qZA(),h.TgZ(15,"input",10),h.NdJ("focus",function(){return r.focusedInput=1})("blur",function(){return r.focusedInput=null}),h.qZA()(),h.YNc(16,dre,2,1,"span",11),h.TgZ(17,"div",8)(18,"label",12),h._uU(19,"Password"),h.qZA(),h.TgZ(20,"input",13),h.NdJ("focus",function(){return r.focusedInput=2})("blur",function(){return r.focusedInput=null}),h.qZA(),h.TgZ(21,"button",14),h.NdJ("click",function(){return r.showPassword=!r.showPassword}),h._UZ(22,"fa-icon",15),h.qZA()(),h.YNc(23,hre,2,1,"span",11),h._UZ(24,"button",16),h.TgZ(25,"div",17)(26,"span",18),h._uU(27,"Not a member? "),h.qZA(),h.TgZ(28,"a",19),h._uU(29,"Register"),h.qZA()()()()),2&t){let i,s,o,u;h.Q6J("options",r.particlesOptions)("particlesInit",r.particlesInit),h.xp6(2),h.Q6J("formGroup",r.loginForm),h.xp6(5),h.Q6J("icon",h.DdM(30,pre)),h.xp6(2),h.Q6J("icon",h.DdM(31,mre)),h.xp6(2),h.Q6J("icon",h.DdM(32,gre)),h.xp6(1),h.ekj("invalid",(null==(i=r.loginForm.get("email"))?null:i.invalid)&&!(null!=(i=r.loginForm.get("email"))&&i.pristine))("inputbox-focused",1===r.focusedInput),h.xp6(1),h.ekj("label-focused",1===r.focusedInput),h.xp6(2),h.ekj("input-focused",1===r.focusedInput),h.xp6(1),h.Q6J("ngIf",(null==(s=r.loginForm.get("email"))?null:s.invalid)&&!(null!=(s=r.loginForm.get("email"))&&s.pristine)),h.xp6(1),h.ekj("invalid",(null==(o=r.loginForm.get("password"))?null:o.invalid)&&!(null!=(o=r.loginForm.get("password"))&&o.pristine))("inputbox-focused",2===r.focusedInput),h.xp6(1),h.ekj("label-focused",2===r.focusedInput),h.xp6(2),h.ekj("input-focused",2===r.focusedInput),h.s9C("type",r.showPassword?"text":"password"),h.xp6(1),h.ekj("password-show-focused",2===r.focusedInput),h.xp6(1),h.Q6J("icon",r.showPassword?h.DdM(33,vre):h.DdM(34,yre)),h.xp6(1),h.Q6J("ngIf",(null==(u=r.loginForm.get("password"))?null:u.invalid)&&!(null!=(u=r.loginForm.get("password"))&&u.pristine)),h.xp6(1),h.ekj("disabled",!r.loginForm.valid)}},dependencies:[Hr,go,sd,hs,Yl,Xl,Ra,h7,D9,VO],styles:['.box[_ngcontent-%COMP%]{background-color:#000c;border-radius:10px;box-shadow:0 15px 25px #000c;margin:auto;padding:55px 35px 35px;position:absolute;top:50%;left:50%;width:400px;transform:translate(-50%,-50%)}.box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600;margin:0 0 40px;padding:0;text-align:center;-webkit-user-select:none;user-select:none}.social-container[_ngcontent-%COMP%]{margin:20px 0;display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:center}.social-button[_ngcontent-%COMP%]{background-color:transparent;color:#666;border:none;border-radius:50%;font-size:25px;height:50px;width:50px;position:relative;cursor:pointer;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 2px 5px #0003;transition:all .3s ease}.social-button.facebook[_ngcontent-%COMP%]:hover{color:#3b5998;background-color:#fff}.social-button.google[_ngcontent-%COMP%]:hover{color:#db4437;background-color:#fff}.social-button.twitter[_ngcontent-%COMP%]:hover{color:#1da1f2;background-color:#fff}.social-button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{height:25px;width:25px;line-height:25px!important;text-align:center;padding:0!important}.social-button[_ngcontent-%COMP%]:hover{transform:scale(1.2) translateY(-5px);box-shadow:0 10px 20px #0000004d}.social-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.link-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:40px}.membership[_ngcontent-%COMP%]{color:#fff;font-size:14px;text-align:center;-webkit-user-select:none!important;user-select:none!important}.link-lr[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:16px;font-weight:500;transition:.35s;padding:5px}.link-lr[_ngcontent-%COMP%]:hover{scale:1.2;text-shadow:0px 0px 2px #fff}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:14px}.password-show[_ngcontent-%COMP%]{text-align:end;position:absolute;background:transparent;outline:none;display:block;border:none;top:18px;color:#fff;right:0;cursor:pointer;transition:all .35s ease;padding:2px}.password-show[_ngcontent-%COMP%]:hover{scale:1.2;padding:2px}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   #userPassword[_ngcontent-%COMP%]{width:90%}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]{position:relative;width:100%;border-bottom:1px solid #fff;margin-bottom:30px;transition:all .3s ease-in-out}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:0;color:#fff;font-size:18px;outline:none;padding:7px 0;width:100%;margin-top:10px}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#757575}.box[_ngcontent-%COMP%]   .inputBox.invalid[_ngcontent-%COMP%]{border-bottom-color:#f44336;margin-bottom:5px}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]::placeholder{color:#f44336}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input.ng-pristine[_ngcontent-%COMP%]::placeholder{color:#757575}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:transparent;position:absolute;-webkit-user-select:none;user-select:none;top:50%;transform:translateY(-50%);transition:all .3s ease-in-out}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{color:transparent!important}.password-show-focused[_ngcontent-%COMP%]{font-size:14px}.inputbox-focused[_ngcontent-%COMP%]{border-image:linear-gradient(to right,#22BBEE,#8855CC,#EE2266,#EE7722)!important;border-image-slice:1!important;border-width:3px!important}.input-focused[_ngcontent-%COMP%]{font-size:14px!important}.label-focused[_ngcontent-%COMP%]{color:#fff!important;font-size:14px!important;transform:translateY(-125%) scale(.8)!important;margin-bottom:5px}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;background-color:#03a9f4;color:#fff;margin-top:15px;border-radius:40px;line-height:5px;border:2px solid transparent;cursor:pointer;font-weight:600;padding:15px 0;opacity:.8;letter-spacing:1px;outline:none;text-align:center;width:100%;transition:all .35s ease}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{opacity:1;box-shadow:0 0 5px #03a9f4;background-color:transparent;border:2px solid #03a9f4;color:#03a9f4}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{letter-spacing:2px}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:after{content:"Submit"}.box[_ngcontent-%COMP%]   button[type=submit].disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:12px}@media (max-width: 460px){.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;margin:0;padding:0;height:100%;border-radius:0;top:0;left:0;transform:none}form[_ngcontent-%COMP%]{width:80%}}@media (max-width: 300px){.error-message[_ngcontent-%COMP%]{font-size:10px}}']}),n})();const Cre={background:{color:{value:""},image:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('./assets/background-access.png')",position:"center",repeat:"no-repeat",size:"cover",opacity:.3},particles:{number:{value:100,density:{enable:!0,value_area:3e3}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5,random:!1},size:{value:3,random:!0},line_linked:{enable:!1},move:{enable:!0,speed:6,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1}},interactivity:{detect_on:"window",events:{onhover:{enable:!1},onclick:{enable:!1},resize:!1}},fps_limit:60};function Mre(n,e){1&n&&h._UZ(0,"p",28)}function wre(n,e){1&n&&h._UZ(0,"p",29)}function Sre(n,e){if(1&n&&(h.TgZ(0,"p",30),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.Q6J("ngClass","success"==t.submitStatus?"message-loader-success":"message-loader-failed"),h.xp6(1),h.hij("Registration ",t.submitStatus,"")}}function zre(n,e){if(1&n&&(h.TgZ(0,"div",23)(1,"span",24),h.YNc(2,Mre,1,0,"p",25),h.YNc(3,wre,1,0,"p",26),h.qZA(),h.YNc(4,Sre,2,2,"p",27),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngClass",t.submitStatus),h.xp6(1),h.Q6J("ngIf","success"==t.submitStatus),h.xp6(1),h.Q6J("ngIf","failed"==t.submitStatus),h.xp6(1),h.Q6J("ngIf","success"==t.submitStatus||"failed"==t.submitStatus)}}function Tre(n,e){if(1&n&&(h.TgZ(0,"span",31),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.emailErrorMessage)}}function xre(n,e){if(1&n&&(h.TgZ(0,"span",31),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.usernameErrorMessage)}}function Ere(n,e){if(1&n&&(h.TgZ(0,"span",31),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.passwordErrorMessage)}}const Hre=function(){return["fab","facebook"]},Vre=function(){return["fab","google"]},Are=function(){return["fab","twitter"]},Ire=function(){return["fas","eye"]},Lre=function(){return["fas","eye-slash"]};let Dre=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.submitStatus=null,this.focusedInput=null,this.particlesOptions=Cre,this.emailErrorMessage="You must enter a valid email",this.passwordErrorMessage="You must enter a valid password",this.usernameErrorMessage="You must enter a valid username",this.subscription=new r6.w0,this.showPassword=!1,this.registerForm=new L8({email:new ka(null,[_o.required,n=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.value)?null:{emailInvalid:{value:n.value}}]),username:new ka(null,[_o.required,n=>{const e=/[a-zA-Z]/.test(n.value);return!n.value||n.value.length<1?{lengthTooShort:{value:n.value}}:!n.value||n.value.length>20?{lengthTooLong:{value:n.value}}:e?null:{letterInvalid:{value:n.value}}}]),password:new ka(null,[_o.required,n=>{const e=/\d/.test(n.value),t=/[a-z]/.test(n.value),r=/[A-Z]/.test(n.value),i=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(n.value);return!n.value||n.value.length<8?{passwordInvalid:{value:n.value}}:e?t?r?i?null:{specialCharInvalid:{value:n.value}}:{uppercaseInvalid:{value:n.value}}:{lowercaseInvalid:{value:n.value}}:{numberInvalid:{value:n.value}}}])})}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get username(){return this.registerForm.get("username")}onSubmit(){var t=this;return(0,ne.Z)(function*(){if(t.registerForm.valid){const{email:r,username:i,password:s}=t.registerForm.value;t.submitStatus="pending",yield t.authService.register(r,s,i).then(o=>{console.log(o),"success"==o.status?setTimeout(()=>{t.submitStatus="success",setTimeout(()=>{t.submitStatus=null,t.router.navigate(["/home"])},1500)},2250):"failed"==o.status&&setTimeout(()=>{t.submitStatus="failed",setTimeout(()=>{t.submitStatus=null},1500)},2250)})}})()}particlesLoaded(t){console.log("particles loaded")}particlesInit(t){return(0,ne.Z)(function*(){yield Ly(t)})()}ngOnInit(){this.subscription=this.registerForm.get("email")?.valueChanges.subscribe(()=>{const t=this.registerForm.get("email")?.errors;t?t.required?this.emailErrorMessage="This field is required.":t.emailInvalid&&(this.emailErrorMessage="You must enter a valid email."):this.emailErrorMessage=""}),this.subscription=this.registerForm.get("username")?.valueChanges.subscribe(()=>{const t=this.registerForm.get("username")?.errors;t?t.required?this.usernameErrorMessage="This field is required.":t.lengthTooShort?this.usernameErrorMessage="Username must be at least 1 character long.":t.lengthTooLong?this.usernameErrorMessage="Username must be at most 20 characters long.":t.letterInvalid&&(this.usernameErrorMessage="Username must contain at least one letter."):this.usernameErrorMessage=""}),this.subscription=this.registerForm.get("password")?.valueChanges.subscribe(()=>{const t=this.registerForm.get("password")?.errors;t?t.required?this.passwordErrorMessage="This field is required.":t.passwordInvalid?this.passwordErrorMessage="Password must be at least 8 characters long.":t.numberInvalid?this.passwordErrorMessage="Password must contain at least one number.":t.lowercaseInvalid?this.passwordErrorMessage="Password must contain at least one lowercase letter.":t.uppercaseInvalid?this.passwordErrorMessage="Password must contain at least one uppercase letter.":t.specialCharInvalid&&(this.passwordErrorMessage="Password must contain at least one special character."):this.passwordErrorMessage=""})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gC),h.Y36(Qn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],features:[h._Bn([gC])],decls:36,vars:45,consts:[["id","particles",3,"options","particlesInit","particlesLoaded"],["class","overlay",4,"ngIf"],[1,"box"],[3,"formGroup","ngSubmit"],[1,"social-container"],[1,"social-button","facebook"],[3,"icon"],[1,"social-button","google"],[1,"social-button","twitter"],[1,"inputBox"],["for","userEmail"],["type","text","id","userEmail","name","userEmail","placeholder","Email","formControlName","email",3,"focus","blur"],["class","error-message",4,"ngIf"],["for","userName"],["type","text","id","userName","name","userName","placeholder","Username","formControlName","username",3,"focus","blur"],["for","userPassword"],["id","userPassword","name","userPassword","placeholder","Password","formControlName","password",3,"type","focus","blur"],["type","button",1,"password-show",3,"click"],["aria-hidden","true",3,"icon"],["type","submit"],[1,"link-container"],[1,"membership"],["href","#","routerLink","/login",1,"link-lr"],[1,"overlay"],[1,"loader",3,"ngClass"],["class","fas fa-check",4,"ngIf"],["class","fas fa-x",4,"ngIf"],["class","message-loader",3,"ngClass",4,"ngIf"],[1,"fas","fa-check"],[1,"fas","fa-x"],[1,"message-loader",3,"ngClass"],[1,"error-message"]],template:function(t,r){if(1&t&&(h.TgZ(0,"ng-particles",0),h.NdJ("particlesLoaded",function(s){return r.particlesLoaded(s)}),h.qZA(),h.YNc(1,zre,5,4,"div",1),h.TgZ(2,"div",2)(3,"form",3),h.NdJ("ngSubmit",function(){return r.onSubmit()}),h.TgZ(4,"h2"),h._uU(5,"Register"),h.qZA(),h.TgZ(6,"div",4)(7,"button",5),h._UZ(8,"fa-icon",6),h.qZA(),h.TgZ(9,"button",7),h._UZ(10,"fa-icon",6),h.qZA(),h.TgZ(11,"button",8),h._UZ(12,"fa-icon",6),h.qZA()(),h.TgZ(13,"div",9)(14,"label",10),h._uU(15,"Email"),h.qZA(),h.TgZ(16,"input",11),h.NdJ("focus",function(){return r.focusedInput=1})("blur",function(){return r.focusedInput=null}),h.qZA()(),h.YNc(17,Tre,2,1,"span",12),h.TgZ(18,"div",9)(19,"label",13),h._uU(20,"Username"),h.qZA(),h.TgZ(21,"input",14),h.NdJ("focus",function(){return r.focusedInput=3})("blur",function(){return r.focusedInput=null}),h.qZA()(),h.YNc(22,xre,2,1,"span",12),h.TgZ(23,"div",9)(24,"label",15),h._uU(25,"Password"),h.qZA(),h.TgZ(26,"input",16),h.NdJ("focus",function(){return r.focusedInput=2})("blur",function(){return r.focusedInput=null}),h.qZA(),h.TgZ(27,"button",17),h.NdJ("click",function(){return r.showPassword=!r.showPassword}),h._UZ(28,"fa-icon",18),h.qZA()(),h.YNc(29,Ere,2,1,"span",12),h._UZ(30,"button",19),h.TgZ(31,"div",20)(32,"span",21),h._uU(33,"Already a member? "),h.qZA(),h.TgZ(34,"a",22),h._uU(35,"Login"),h.qZA()()()()),2&t){let i,s,o,u,d,m;h.Q6J("options",r.particlesOptions)("particlesInit",r.particlesInit),h.xp6(1),h.Q6J("ngIf",null!=r.submitStatus),h.xp6(2),h.Q6J("formGroup",r.registerForm),h.xp6(5),h.Q6J("icon",h.DdM(40,Hre)),h.xp6(2),h.Q6J("icon",h.DdM(41,Vre)),h.xp6(2),h.Q6J("icon",h.DdM(42,Are)),h.xp6(1),h.ekj("invalid",(null==(i=r.registerForm.get("email"))?null:i.invalid)&&!(null!=(i=r.registerForm.get("email"))&&i.pristine))("inputbox-focused",1===r.focusedInput),h.xp6(1),h.ekj("label-focused",1===r.focusedInput),h.xp6(2),h.ekj("input-focused",1===r.focusedInput),h.xp6(1),h.Q6J("ngIf",(null==(s=r.registerForm.get("email"))?null:s.invalid)&&!(null!=(s=r.registerForm.get("email"))&&s.pristine)),h.xp6(1),h.ekj("invalid",(null==(o=r.registerForm.get("username"))?null:o.invalid)&&!(null!=(o=r.registerForm.get("username"))&&o.pristine))("inputbox-focused",3===r.focusedInput),h.xp6(1),h.ekj("label-focused",3===r.focusedInput),h.xp6(2),h.ekj("input-focused",3===r.focusedInput),h.xp6(1),h.Q6J("ngIf",(null==(u=r.registerForm.get("username"))?null:u.invalid)&&!(null!=(u=r.registerForm.get("username"))&&u.pristine)),h.xp6(1),h.ekj("invalid",(null==(d=r.registerForm.get("password"))?null:d.invalid)&&!(null!=(d=r.registerForm.get("password"))&&d.pristine))("inputbox-focused",2===r.focusedInput),h.xp6(1),h.ekj("label-focused",2===r.focusedInput),h.xp6(2),h.ekj("input-focused",2===r.focusedInput),h.s9C("type",r.showPassword?"text":"password"),h.xp6(1),h.ekj("password-show-focused",2===r.focusedInput),h.xp6(1),h.Q6J("icon",r.showPassword?h.DdM(43,Ire):h.DdM(44,Lre)),h.xp6(1),h.Q6J("ngIf",(null==(m=r.registerForm.get("password"))?null:m.invalid)&&!(null!=(m=r.registerForm.get("password"))&&m.pristine)),h.xp6(1),h.ekj("disabled",!r.registerForm.valid)}},dependencies:[$1,Hr,go,sd,hs,Yl,Xl,Ra,h7,D9,VO],styles:['.box[_ngcontent-%COMP%]{background-color:#000c;border-radius:10px;box-shadow:0 15px 25px #000c;margin:auto;padding:55px 35px 35px;position:absolute;top:50%;left:50%;width:400px;transform:translate(-50%,-50%)}.box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-weight:600;margin:0 0 40px;padding:0;text-align:center;-webkit-user-select:none;user-select:none}.social-container[_ngcontent-%COMP%]{margin:20px 0;display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:center}.social-button[_ngcontent-%COMP%]{background-color:transparent;color:#666;border:none;border-radius:50%;font-size:25px;height:50px;width:50px;position:relative;cursor:pointer;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 2px 5px #0003;transition:all .3s ease}.social-button.facebook[_ngcontent-%COMP%]:hover{color:#3b5998;background-color:#fff}.social-button.google[_ngcontent-%COMP%]:hover{color:#db4437;background-color:#fff}.social-button.twitter[_ngcontent-%COMP%]:hover{color:#1da1f2;background-color:#fff}.social-button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{height:25px;width:25px;line-height:25px!important;text-align:center;padding:0!important}.social-button[_ngcontent-%COMP%]:hover{transform:scale(1.2) translateY(-5px);box-shadow:0 10px 20px #0000004d}.social-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.link-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:40px}.membership[_ngcontent-%COMP%]{color:#fff;font-size:14px;text-align:center;-webkit-user-select:none!important;user-select:none!important}.link-lr[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:16px;font-weight:500;transition:.35s;padding:5px}.link-lr[_ngcontent-%COMP%]:hover{scale:1.2;text-shadow:0px 0px 2px #fff}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:14px}.password-show[_ngcontent-%COMP%]{text-align:end;position:absolute;background:transparent;outline:none;display:block;border:none;top:18px;color:#fff;right:0;cursor:pointer;transition:all .35s ease;padding:2px}.password-show[_ngcontent-%COMP%]:hover{scale:1.2;padding:2px}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   #userPassword[_ngcontent-%COMP%]{width:90%}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]{position:relative;width:100%;border-bottom:1px solid #fff;margin-bottom:30px;transition:all .3s ease-in-out}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:0;color:#fff;font-size:18px;outline:none;padding:7px 0;width:100%;margin-top:10px}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#757575}.box[_ngcontent-%COMP%]   .inputBox.invalid[_ngcontent-%COMP%]{border-bottom-color:#f44336;margin-bottom:5px}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]::placeholder{color:#f44336}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input.ng-pristine[_ngcontent-%COMP%]::placeholder{color:#757575}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:transparent;position:absolute;-webkit-user-select:none;user-select:none;top:50%;transform:translateY(-50%);transition:all .3s ease-in-out}.box[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{color:transparent!important}.password-show-focused[_ngcontent-%COMP%]{font-size:14px}.inputbox-focused[_ngcontent-%COMP%]{border-image:linear-gradient(to right,#22BBEE,#8855CC,#EE2266,#EE7722)!important;border-image-slice:1!important;border-width:3px!important}.input-focused[_ngcontent-%COMP%]{font-size:14px!important}.label-focused[_ngcontent-%COMP%]{color:#fff!important;font-size:14px!important;transform:translateY(-125%) scale(.8)!important;margin-bottom:5px}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;background-color:#03a9f4;color:#fff;margin-top:15px;border-radius:40px;line-height:5px;border:2px solid transparent;cursor:pointer;font-weight:600;padding:15px 0;opacity:.8;letter-spacing:1px;outline:none;text-align:center;width:100%;transition:all .35s ease}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{opacity:1;box-shadow:0 0 5px #03a9f4;background-color:transparent;border:2px solid #03a9f4;color:#03a9f4}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{letter-spacing:2px}.box[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:after{content:"Submit"}.box[_ngcontent-%COMP%]   button[type=submit].disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:12px}.overlay[_ngcontent-%COMP%]{width:100%;height:100vh;top:0;left:0;position:absolute;background-color:#ffffff80;z-index:9999;pointer-events:auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]{width:40px;border-radius:40px;height:40px;background-color:transparent;text-align:center;font-weight:700;color:transparent;font-size:0;border:5px solid transparent;transition:all .35s ease}.pending[_ngcontent-%COMP%]{border-color:#bbb;border-left-color:#1ecd97;animation:_ngcontent-%COMP%_rotating 2s .25s linear infinite;transition:all .35s ease}.success[_ngcontent-%COMP%]{scale:1.5;color:#1ecd97;font-size:20px;border:5px solid #1ECD97}.failed[_ngcontent-%COMP%]{scale:1.5;color:#f44336;font-size:20px;border:5px solid #f44336}.message-loader[_ngcontent-%COMP%]{font-size:0px;margin-top:15px;text-align:center;transition:all .35s ease}.message-loader-success[_ngcontent-%COMP%]{color:#1ecd97;font-size:14px}.message-loader-failed[_ngcontent-%COMP%]{color:#f44336;font-size:14px}@keyframes _ngcontent-%COMP%_rotating{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 460px){.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;margin:0;padding:0;height:100%;border-radius:0;top:0;left:0;transform:none}form[_ngcontent-%COMP%]{width:80%}}@media (max-width: 300px){.error-message[_ngcontent-%COMP%]{font-size:10px}}']}),n})(),AO=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-intro-screen"]],decls:16,vars:0,consts:[[1,"page-container"],[1,"intro-container"],[1,"logo-container"],["src","assets/icona.ico","alt","KingOfChess Logo",1,"logo"],[1,"title"],[1,"subtitle"],[1,"button-container"],["routerLink","/login",1,"login-button","btn"],["routerLink","/register",1,"register-button","btn"],[1,"footer"],[1,"footer-text"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"h1",4),h._uU(5,"KingOfChess"),h.qZA(),h.TgZ(6,"h2",5),h._uU(7,"Il regno degli scacchi ti aspetta!"),h.qZA(),h.TgZ(8,"div",6)(9,"button",7),h._uU(10,"Login"),h.qZA(),h.TgZ(11,"button",8),h._uU(12,"Registrati"),h.qZA()()(),h.TgZ(13,"div",9)(14,"p",10),h._uU(15,"\xa9 2023 KingOfChess. Tutti i diritti riservati."),h.qZA()()())},dependencies:[go],styles:[".page-container[_ngcontent-%COMP%]{height:100vh;background-repeat:no-repeat;background-size:cover;background-image:linear-gradient(to bottom,#00dbde,#fc00ff);animation:_ngcontent-%COMP%_gradient 5s ease infinite;display:flex;flex-direction:column;align-items:center;position:relative;overflow:hidden}.intro-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:15vh;position:relative;overflow:hidden}.logo-container[_ngcontent-%COMP%]{width:75px;height:75px;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeIn 2s ease-in-out}.logo[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.title[_ngcontent-%COMP%]{color:#fff;margin-top:20px;font-size:72px;text-shadow:2px 2px 4px rgba(0,0,0,.5);font-weight:700;margin-bottom:30px;animation:_ngcontent-%COMP%_fadeIn 2s ease-in-out}.subtitle[_ngcontent-%COMP%]{font-size:24px;color:#fff;font-weight:500;margin-bottom:50px;animation:_ngcontent-%COMP%_fadeIn 3s ease-in-out}.btn[_ngcontent-%COMP%]{border-radius:50px;padding:20px 50px;font-size:24px;font-weight:700;transition:all .2s ease-in-out}.button-container[_ngcontent-%COMP%]{display:flex;gap:20px;animation:_ngcontent-%COMP%_fadeIn 3s ease-in-out}.footer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 3s ease-in-out}.login-button[_ngcontent-%COMP%]{background-color:#343a40;border-color:#343a40;color:#fff;border:0px;box-shadow:0 3px 3px #00000040;cursor:pointer}.register-button[_ngcontent-%COMP%]{background-color:#fff;border-color:#fff;color:#343a40;border:0px;box-shadow:0 3px 3px #00000040;cursor:pointer}.login-button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#343a40;border-color:#fff;transform:translateY(-2px);box-shadow:0 5px 5px #00000040}.register-button[_ngcontent-%COMP%]:hover{background-color:#343a40;color:#fff;border-color:#343a40;transform:translateY(-2px);box-shadow:0 5px 5px #00000040}.footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;font-size:14px;color:#fff;opacity:.8}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 991px){.btn[_ngcontent-%COMP%]{padding:10px 30px;font-size:18px}.title[_ngcontent-%COMP%]{font-size:60px}.subtitle[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 500px){.title[_ngcontent-%COMP%]{font-size:40px;margin-bottom:15px}.subtitle[_ngcontent-%COMP%]{font-size:14px;margin-bottom:30px}.footer-text[_ngcontent-%COMP%]{font-size:8px}}@keyframes _ngcontent-%COMP%_gradient{0%{background-image:linear-gradient(to bottom,#00dbde,#fc00ff)}6.25%{background-image:linear-gradient(to bottom,#0bd2df,#f209fe)}12.5%{background-image:linear-gradient(to bottom,#15c9e1,#e712fc)}18.75%{background-image:linear-gradient(to bottom,#20c0e2,#dd1bfb)}25%{background-image:linear-gradient(to bottom,#2ab7e4,#d225fa)}31.25%{background-image:linear-gradient(to bottom,#35ade5,#c82ef8)}37.5%{background-image:linear-gradient(to bottom,#3fa4e6,#bd37f7)}43.75%{background-image:linear-gradient(to bottom,#4a9be8,#b340f5)}56.25%{background-image:linear-gradient(to bottom,#4a9be8,#b340f5)}62.5%{background-image:linear-gradient(to bottom,#3fa4e6,#bd37f7)}68.75%{background-image:linear-gradient(to bottom,#35ade5,#c82ef8)}75%{background-image:linear-gradient(to bottom,#2ab7e4,#d225fa)}81.25%{background-image:linear-gradient(to bottom,#20c0e2,#dd1bfb)}87.5%{background-image:linear-gradient(to bottom,#15c9e1,#e712fc)}93.75%{background-image:linear-gradient(to bottom,#0bd2df,#f209fe)}to{background-image:linear-gradient(to bottom,#00dbde,#fc00ff)}}"]}),n})(),Nre=(()=>{class n{constructor(t){this.authService=t}canActivate(t,r){return this.authService.isAuthenticated()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(gC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"home works!"),h.qZA())}}),n})();const kre={particles:{number:{value:100,density:{enable:!0,value_area:1200}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#ffffff"},polygon:{nb_sides:5}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:5,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:200,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!1,straight:!1,out_mode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:0,duration:2,opacity:8,speed:1},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0,config_demo:{hide_card:!1,background_color:"#b61924",background_image:"",background_position:"50% 50%",background_repeat:"no-repeat",background_size:"cover"}};function CH(){return CH=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CH.apply(this,arguments)}var Rre={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},Ore=new(function(){function n(){}var e=n.prototype;return e.load=function(t,r,i){if(t.el="string"==typeof i?document.querySelector(i):i,t.options=CH({},Rre,r),t.isInput="input"===t.el.tagName.toLowerCase(),t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(m){return m.trim()}),t.stringsElement="string"==typeof t.options.stringsElement?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(t.stringsElement.children),o=s.length;if(o)for(var u=0;u<o;u+=1)t.strings.push(s[u].innerHTML.trim())}for(var d in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[d]=d;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:"html"===t.contentType?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var r="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(i)}},e.appendFadeOutAnimationCss=function(t){var r="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+r+"]")){var i=document.createElement("style");i.setAttribute(r,"true"),i.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(i)}},n}()),IO=new(function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,r,i){if("html"!==i.contentType)return r;var s=t.substring(r).charAt(0);if("<"===s||"&"===s){var o;for(o="<"===s?">":";";t.substring(r+1).charAt(0)!==o&&!(1+ ++r>t.length););r++}return r},e.backSpaceHtmlChars=function(t,r,i){if("html"!==i.contentType)return r;var s=t.substring(r).charAt(0);if(">"===s||";"===s){var o;for(o=">"===s?"<":"&";t.substring(r-1).charAt(0)!==o&&!(--r<0););r--}return r},n}()),Fre=function(){function n(t,r){Ore.load(this,r,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){void 0===t&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){0===t.strPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,r){var i=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),o=1;!0!==this.pause.status?this.timeout=setTimeout(function(){r=IO.typeHtmlChars(t,r,i);var u=0,d=t.substring(r);if("^"===d.charAt(0)&&/^\^\d+/.test(d)){var m=1;m+=(d=/\d+/.exec(d)[0]).length,u=parseInt(d),i.temporaryPause=!0,i.options.onTypingPaused(i.arrayPos,i),t=t.substring(0,r)+t.substring(r+m),i.toggleBlinking(!0)}if("`"===d.charAt(0)){for(;"`"!==t.substring(r+o).charAt(0)&&(o++,!(r+o>t.length)););var y=t.substring(0,r),b=t.substring(y.length+1,r+o),T=t.substring(r+o+1);t=y+b+T,o--}i.timeout=setTimeout(function(){i.toggleBlinking(!1),r>=t.length?i.doneTyping(t,r):i.keepTyping(t,r,o),i.temporaryPause&&(i.temporaryPause=!1,i.options.onTypingResumed(i.arrayPos,i))},u)},s):this.setPauseStatus(t,r,!0)},e.keepTyping=function(t,r,i){0===r&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=t.substring(0,r+=i);this.replaceText(s),this.typewrite(t,r)},e.doneTyping=function(t,r){var i=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){i.backspace(t,r)},this.backDelay))},e.backspace=function(t,r){var i=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){r=IO.backSpaceHtmlChars(t,r,i);var o=t.substring(0,r);if(i.replaceText(o),i.smartBackspace){var u=i.strings[i.arrayPos+1];i.stopNum=u&&o===u.substring(0,r)?r:0}r>i.stopNum?(r--,i.backspace(t,r)):r<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.options.onLastStringBackspaced(),i.shuffleStringsIfNeeded(),i.begin()):i.typewrite(i.strings[i.sequence[i.arrayPos]],r))},s)}else this.setPauseStatus(t,r,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,r,i){this.pause.typewrite=i,this.pause.curString=t,this.pause.curStrPos=r},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:"html"===this.contentType?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(r){t.stop()}),this.el.addEventListener("blur",function(r){t.el.value&&0!==t.el.value.length||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n}();const Bre=["wrapper"],Ure=["*"];let bH=(()=>{class n{constructor(){this.typeSpeed=30,this.completed=new h.vpe,this.preStringTyped=new h.vpe,this.stringTyped=new h.vpe,this.lastStringBackspaced=new h.vpe,this.typingPaused=new h.vpe,this.typingResumed=new h.vpe,this.reset=new h.vpe,this.stopped=new h.vpe,this.started=new h.vpe,this.destroyed=new h.vpe}ngAfterViewInit(){this.typed=new Fre(this.content.nativeElement.querySelector(".typing"),this.options),!1!==this.showCursor&&this.updateCursorStyle()}toggle(){this.typed.toggle()}stop(){this.typed.stop()}start(){this.typed.start()}destroy(){this.typed.destroy()}doReset(t){this.typed.reset(t)}get options(){const t=s=>()=>s.emit(),r=s=>o=>s.emit(o),i={strings:this.strings??[""],stringsElement:this.stringsElement,typeSpeed:this.typeSpeed,startDelay:this.startDelay,backSpeed:this.backSpeed,smartBackspace:this.smartBackspace,shuffle:this.shuffle,backDelay:this.backDelay,fadeOut:this.fadeOut,fadeOutClass:this.fadeOutClass,fadeOutDelay:this.fadeOutDelay,loop:this.loop,loopCount:this.loopCount,showCursor:this.showCursor,autoInsertCss:this.autoInsertCss,attr:this.attr,bindInputFocusEvents:this.bindInputFocusEvents,contentType:this.contentType,onComplete:t(this.completed),preStringTyped:r(this.preStringTyped),onStringTyped:r(this.stringTyped),onLastStringBackspaced:t(this.lastStringBackspaced),onTypingPaused:r(this.typingPaused),onTypingResumed:r(this.typingResumed),onReset:t(this.reset),onStop:r(this.stopped),onStart:r(this.started),onDestroy:t(this.destroyed)};return Object.keys(i).forEach(s=>{void 0===i[s]&&delete i[s]}),i}updateCursorStyle(){const t=getComputedStyle(this.content.nativeElement.querySelector(".typing")),r=this.content.nativeElement.querySelector(".typed-cursor").style;r.fontSize=t.fontSize,r.color=this.cursorColor||t.color}ngOnChanges(t){this.typed&&(this.typed.destroy(),this.ngAfterViewInit())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ngx-typed-js"]],viewQuery:function(t,r){if(1&t&&h.Gf(Bre,7),2&t){let i;h.iGM(i=h.CRH())&&(r.content=i.first)}},inputs:{cursorColor:"cursorColor",strings:"strings",stringsElement:"stringsElement",typeSpeed:"typeSpeed",startDelay:"startDelay",backSpeed:"backSpeed",smartBackspace:"smartBackspace",shuffle:"shuffle",backDelay:"backDelay",fadeOut:"fadeOut",fadeOutClass:"fadeOutClass",fadeOutDelay:"fadeOutDelay",loop:"loop",loopCount:"loopCount",showCursor:"showCursor",cursorChar:"cursorChar",autoInsertCss:"autoInsertCss",attr:"attr",bindInputFocusEvents:"bindInputFocusEvents",contentType:"contentType"},outputs:{completed:"completed",preStringTyped:"preStringTyped",stringTyped:"stringTyped",lastStringBackspaced:"lastStringBackspaced",typingPaused:"typingPaused",typingResumed:"typingResumed",reset:"reset",stopped:"stopped",started:"started",destroyed:"destroyed"},features:[h.TTD],ngContentSelectors:Ure,decls:3,vars:0,consts:[["wrapper",""]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",null,0),h.Hsn(2),h.qZA())},styles:["[_nghost-%COMP%] > .typing[_ngcontent-%COMP%]{display:inline}"]}),n})(),Gre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[]]}),n})();function Wre(n,e){return{type:7,name:n,definitions:e,options:{}}}function jre(n,e=null){return{type:4,styles:e,timings:n}}function LO(n){return{type:6,styles:n,offset:null}}function DO(n,e,t){return{type:0,name:n,styles:e,options:t}}function $re(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}let MH=(()=>{class n{constructor(){this.animationComplete$=new GE,this.introComplete$=new GE}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qre=function(){return["Oops! Something is clearly wrong here..."]},Zre=function(n,e){return{"typed-cursor-1":n,"typed-cursor-1-finished":e}};function Kre(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"ngx-typed-js",6),h.NdJ("completed",function(){h.CHM(t);const i=h.oxw();return i.showMessage2=!0,h.KtG(i.hideCursor())}),h._UZ(1,"span",7),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("startDelay",500)("typeSpeed",10)("strings",h.DdM(7,qre))("loop",!1)("typeSpeed",50)("cursorChar","|")("ngClass",h.WLB(8,Zre,!t.showMessage2,t.showMessage2))}}const Xre=function(){return["It looks like you are looking for an invalid chess move!"]},Qre=function(n,e){return{"typed-cursor-2":n,"typed-cursor-2-finished":e}};function Jre(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"ngx-typed-js",6),h.NdJ("completed",function(){h.CHM(t);const i=h.oxw();return i.showReturnButton=!0,h.KtG(i.hideCursor())}),h._UZ(1,"span",8),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("startDelay",500)("typeSpeed",10)("strings",h.DdM(7,Xre))("loop",!1)("typeSpeed",50)("cursorChar","|")("ngClass",h.WLB(8,Qre,!t.showReturnButton,t.showReturnButton))}}function eie(n,e){1&n&&(h.TgZ(0,"button",9),h._uU(1,"Return to Home Page"),h.qZA())}const tie=[{path:"login",component:_re},{path:"register",component:Dre},{path:"",component:AO},{path:"intro",component:AO},{path:"home",component:Pre,canActivate:[Nre]},{path:"404",component:(()=>{class n{constructor(t){this.introService=t,this.typed=new bH,this.particlesOptions=kre,this.showError=!1,this.showMessage1=!1,this.showMessage2=!1,this.showReturnButton=!1,this.showCursor=!0,this.subscription=new r6.w0}particlesLoaded(t){console.log("particles loaded")}particlesInit(t){return(0,ne.Z)(function*(){yield Ly(t)})()}ngOnInit(){this.subscription.add(this.introService.animationComplete$.subscribe(()=>{setTimeout(()=>{this.showError=!0},1e3)})),this.subscription.add(this.introService.introComplete$.subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}animationDone(t){"open"===t.toState&&(this.showMessage1=!0)}hideCursor(){const t=document.querySelector(".typed-cursor");t&&t.remove()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(MH))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-not-found"]],viewQuery:function(t,r){if(1&t&&h.Gf(bH,5),2&t){let i;h.iGM(i=h.CRH())&&(r.typed=i.first)}},decls:8,vars:6,consts:[["id","particles",3,"options","particlesInit","particlesLoaded"],[1,"container-404"],[1,"error-404"],[1,"number"],[3,"startDelay","typeSpeed","strings","loop","cursorChar","ngClass","completed",4,"ngIf"],["class","back-button","routerLink","/",4,"ngIf"],[3,"startDelay","typeSpeed","strings","loop","cursorChar","ngClass","completed"],[1,"typing","not-found"],[1,"typing","message"],["routerLink","/",1,"back-button"]],template:function(t,r){1&t&&(h.TgZ(0,"ng-particles",0),h.NdJ("particlesLoaded",function(s){return r.particlesLoaded(s)}),h.qZA(),h.TgZ(1,"div",1)(2,"div",2)(3,"div",3),h.NdJ("@openClose.done",function(s){return r.animationDone(s)}),h._uU(4,"404"),h.qZA(),h.YNc(5,Kre,2,11,"ngx-typed-js",4),h.YNc(6,Jre,2,11,"ngx-typed-js",4),h.YNc(7,eie,2,0,"button",5),h.qZA()()),2&t&&(h.Q6J("options",r.particlesOptions)("particlesInit",r.particlesInit),h.xp6(3),h.Q6J("@openClose",r.showError?"open":"closed"),h.xp6(2),h.Q6J("ngIf",r.showMessage1),h.xp6(1),h.Q6J("ngIf",r.showMessage2),h.xp6(1),h.Q6J("ngIf",r.showReturnButton))},dependencies:[$1,Hr,go,D9,bH],styles:['@font-face{font-family:Cabin;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(cabin.797595ec1675cb7c.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Cabin;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(cabin.797595ec1675cb7c.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Cabin;font-style:normal;font-weight:400;font-stretch:100%;font-display:swap;src:url(cabin.797595ec1675cb7c.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Cabin;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(cabin.797595ec1675cb7c.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Cabin;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(cabin.797595ec1675cb7c.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Cabin;font-style:normal;font-weight:700;font-stretch:100%;font-display:swap;src:url(cabin.797595ec1675cb7c.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:900;font-display:swap;src:url(montserrat.71ceac8535344101.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:900;font-display:swap;src:url(montserrat.71ceac8535344101.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:900;font-display:swap;src:url(montserrat.71ceac8535344101.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:900;font-display:swap;src:url(montserrat.71ceac8535344101.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:900;font-display:swap;src:url(montserrat.71ceac8535344101.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.container-404[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:100%;background:#212121}.error-404[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;position:absolute}.number[_ngcontent-%COMP%]{font-size:120px;line-height:inherit!important;line-height:120px;font-family:montserrat,sans-serif!important;color:#fff;animation:_ngcontent-%COMP%_numberAnimation 1.5s ease-in-out}@keyframes _ngcontent-%COMP%_numberAnimation{0%{transform:scale(.5);opacity:0;rotate:0deg}to{transform:scale(1);opacity:1;rotate:360deg}}.not-found[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.message[_ngcontent-%COMP%]{margin-top:1rem;color:#fff;margin-bottom:0}.back-button[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem 2rem;background-color:#ff0562;color:#fff;border:none;border-radius:10px;transition:all .3s ease;animation:_ngcontent-%COMP%_buttonAnimation 1.5s ease-in-out}@keyframes _ngcontent-%COMP%_buttonAnimation{0%{transform:scale(.5);opacity:0}to{transform:scale(1);opacity:1}}.back-button[_ngcontent-%COMP%]:hover{background-color:#333}.typed-cursor-end[_ngcontent-%COMP%]{opacity:0!important}@media only screen and (max-width: 600px){.number[_ngcontent-%COMP%]{font-size:6rem}.not-found[_ngcontent-%COMP%]{font-size:1.5rem}.back-button[_ngcontent-%COMP%]{padding:.5rem 1rem}}@media only screen and (max-width: 495px){.number[_ngcontent-%COMP%]{font-size:4rem}.not-found[_ngcontent-%COMP%]{padding:0px 1rem;font-size:1.2rem}.message[_ngcontent-%COMP%]{font-size:.7rem}.back-button[_ngcontent-%COMP%]{padding:.2rem .5rem}}@media only screen and (max-width: 380px){.number[_ngcontent-%COMP%]{font-size:3.5rem}.not-found[_ngcontent-%COMP%]{padding:0px .5rem;font-size:1rem}.message[_ngcontent-%COMP%]{font-size:.6rem}.back-button[_ngcontent-%COMP%]{font-size:.8rem;padding:.2rem .5rem}}@media only screen and (max-width: 310px){.number[_ngcontent-%COMP%]{font-size:3rem}.not-found[_ngcontent-%COMP%]{padding:0px .5rem;font-size:.9rem}.message[_ngcontent-%COMP%]{font-size:.55rem}}'],data:{animation:[Wre("openClose",[DO("open",LO({opacity:1})),DO("closed",LO({opacity:0})),$re("closed => open",[jre("1s")])])]}}),n})()},{path:"**",redirectTo:"/404"}];let nie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Rg.forRoot(tie),Rg]}),n})();var Lo=(()=>(function(n){n.SlideLeft="SlideLeft",n.SlideRight="SlideRight",n.SlideUp="SlideUp",n.SlideDown="SlideDown",n.FadeOut="FadeOut"}(Lo||(Lo={})),Lo))();const Gu={UKNOWN:"Unknown"},wH={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Gu.UKNOWN},PC={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Wu={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},d0={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Gu.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},PO=[d0.PS4,d0.CHROME_BOOK,d0.MAC,d0.DELL,d0.ASUS,d0.UNKNOWN],rie={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Gu.UKNOWN},iie={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Gu.UKNOWN.toLowerCase()},kO={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},oie={...PC,...Wu,...kO,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},SH={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},zH={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},aie=Object.keys(SH).reduce((n,e)=>(n[e]=SH[e],n),{}),RO=Object.keys(zH).reduce((n,e)=>(n[wH[e]]=zH[e],n),{});var Do=Object.freeze({__proto__:null,GENERAL:Gu,BROWSERS:wH,MOBILES_RE:PC,TABLETS_RE:Wu,DEVICES:d0,DESKTOP_DEVICES:PO,OS:rie,OS_VERSIONS:iie,OS_RE:kO,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:oie,OS_VERSIONS_RE_MAP:SH,BROWSER_VERSIONS_RE_MAP:zH,OS_VERSIONS_RE:aie,BROWSER_VERSIONS_RE:RO});class cie{constructor(){}test(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(r=>this.test(e,r)):t&&Array.isArray(t.or)?t.or.some(r=>this.test(e,r)):!(!t||!t.not||this.test(e,t.not))}exec(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((r,i)=>r||this.exec(e,i),null):null}}var b5=(()=>(function(n){n.Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown"}(b5||(b5={})),b5))(),mp=(()=>(function(n){n.Portrait="portrait",n.Landscape="landscape"}(mp||(mp={})),mp))();const TH="iPad";let lie=(()=>{class n{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new cie,this.deviceType="",this.orientation="",qr(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const r=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(r.forEach(i=>{this[i.prop]=Object.keys(Do[i.const]).reduce((s,o)=>"device"===Do[i.const][o]&&qr(this.platformId)&&(this.reTree.test(this.userAgent,Wu[TH])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(s[Do[i.const][o]]=TH,Object):(s[Do[i.const][o]]=this.reTree.test(t,Do[`${i.const}_RE`][o]),s),{})}),r.forEach(i=>{this[i.prop]=Object.keys(Do[i.const]).map(s=>Do[i.const][s]).reduce((s,o)=>"device"===i.prop&&s===Do[i.const].ANDROID?this[i.prop][o]?o:s:s===Do[i.const].UNKNOWN&&this[i.prop][o]?o:s,Do[i.const].UNKNOWN)}),this.browser_version="0",this.browser!==wH.UNKNOWN){const s=this.reTree.exec(t,RO[this.browser]);s&&(this.browser_version=s[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?mp.Landscape:mp.Portrait:Gu.UKNOWN,this.deviceType=this.isTablet()?b5.Tablet:this.isMobile(this.userAgent)?b5.Mobile:this.isDesktop(this.userAgent)?b5.Desktop:b5.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(PC).find(i=>this.reTree.test(t,PC[i]))}isTablet(t=this.userAgent){return!(!qr(this.platformId)||!(this.reTree.test(this.userAgent,Wu[TH])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Wu).find(i=>!!this.reTree.test(t,Wu[i]))}isDesktop(t=this.userAgent){return(this.device!==d0.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&PO.indexOf(this.device)>-1}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uie=function(n,e,t,r){return{left:n,top:e,transition:t,opacity:r}};function fie(n,e){if(1&n&&(h.TgZ(0,"div",1)(1,"div",2)(2,"div",3),h._UZ(3,"img",4),h.qZA(),h.TgZ(4,"div",5)(5,"p",6),h._uU(6,"Welcome To KingOfChess"),h.qZA()(),h._UZ(7,"div",7),h.qZA()()),2&n){const t=h.oxw();h.Q6J("ngStyle",h.l5B(1,uie,t.windowWidth,t.windowHeight,t.transition,t.opacityChange))}}let die=(()=>{class n{constructor(t){this.introService=t,this.animationDuration=.5,this.duration=3,this.animationType=Lo.SlideLeft,this.showIntro=!0,this.windowWidth="0px",this.windowHeight="0px",this.opacityChange=1,this.transition="left 0.5s"}ngOnInit(){setTimeout(()=>{let t="";switch(this.animationType){case Lo.SlideLeft:this.windowWidth="-"+window.innerWidth+"px",t="left "+this.animationDuration+"s";break;case Lo.SlideRight:this.windowWidth=window.innerWidth+"px",t="left "+this.animationDuration+"s";break;case Lo.SlideUp:this.windowHeight="-"+window.innerHeight+"px",t="top "+this.animationDuration+"s";break;case Lo.SlideDown:this.windowHeight=window.innerHeight+"px",t="top"+this.animationDuration+"s";break;case Lo.FadeOut:this.opacityChange=0,t="opacity "+this.animationDuration+"s";break;default:this.windowWidth="-"+window.innerWidth+"px",t="left "+this.animationDuration+"s"}this.transition=t,this.introService.animationComplete$.next(),setTimeout(()=>{this.showIntro=!1,this.introService.introComplete$.next()},1e3*this.animationDuration)},1e3*this.duration)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(MH))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-app-intro"]],inputs:{animationDuration:"animationDuration",duration:"duration",animationType:"animationType"},decls:1,vars:1,consts:[["class","app-intro",3,"ngStyle",4,"ngIf"],[1,"app-intro",3,"ngStyle"],[1,"app-intro-container"],[1,"logo-container"],["src","assets\\app-intro-icon.png","alt","Pawn intro logo","width","35px","height","35px",1,"logo"],[1,"label-container"],[1,"typed"],[1,"loader-container"]],template:function(t,r){1&t&&h.YNc(0,fie,8,6,"div",0),2&t&&h.Q6J("ngIf",r.showIntro)},dependencies:[Hr,Ai],styles:[".app-intro{background-color:#161616;background-size:cover;background-repeat:no-repeat;background-position:center;position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;z-index:100;opacity:1}.app-intro-container{display:flex;flex-direction:column;justify-content:center;align-items:center}.logo-container{animation:rotate 1s linear 1}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.label-container{color:#fff;font-size:2.5em;font-weight:700;display:grid;place-items:center}.typed{text-shadow:6px 5px 8px rgba(0,0,0,.5);color:#fff;overflow:hidden;white-space:nowrap;border-right:0px;width:0;animation:typing 1.5s steps(30,end) forwards,blinking 2s 1}@keyframes typing{0%{width:0}to{width:100%}}@keyframes blinking{0%{border-right:2px solid #fff}to{border-right:0px solid transparent}}.loader-container{background:url(loader.a4af4a8cdf774ea5.svg) no-repeat center center;max-width:100%;max-height:100%;background-size:contain;width:80px;height:80px;margin-top:80px}@media (max-width: 991px){.label-container{font-size:1.8em}}@media (max-width: 500px){.label-container{font-size:1.2em}}\n"],encapsulation:2}),n})();function tc(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function OO(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var xH,si,Bn,Y2,M4,LH,DH,jO,ZO,Yu,wp,k3={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ju={duration:.5,overwrite:!1,delay:0},b4=1e8,r2=1/b4,EH=2*Math.PI,hie=EH/4,pie=0,FO=Math.sqrt,mie=Math.cos,gie=Math.sin,Mr=function(e){return"string"==typeof e},hn=function(e){return"function"==typeof e},nc=function(e){return"number"==typeof e},HH=function(e){return typeof e>"u"},No=function(e){return"object"==typeof e},r3=function(e){return!1!==e},VH=function(){return typeof window<"u"},kC=function(e){return hn(e)||Mr(e)},BO="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},oi=Array.isArray,AH=/(?:-?\.?\d|\.)+/gi,UO=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$u=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,IH=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,GO=/[+-]=-?[.\d]+/,WO=/[^,'"\[\]\s]+/gi,vie=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,R3={},RC={},$O=function(e){return(RC=w5(e,R3))&&a3},NH=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},OC=function(e,t){return!t&&console.warn(e)},qO=function(e,t){return e&&(R3[e]=t)&&RC&&(RC[e]=t)||R3},gp=function(){return 0},yie={suppressEvents:!0,isStart:!0,kill:!1},FC={suppressEvents:!0,kill:!1},_ie={suppressEvents:!0},PH={},h0=[],kH={},O3={},RH={},KO=30,BC=[],OH="",FH=function(e){var r,i,t=e[0];if(No(t)||hn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=BC.length;i--&&!BC[i].targetTest(t););r=BC[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new SF(e[i],r)))||e.splice(i,1);return e},M5=function(e){return e._gsap||FH(z4(e))[0]._gsap},YO=function(e,t,r){return(r=e[t])&&hn(r)?e[t]():HH(r)&&e.getAttribute&&e.getAttribute(t)||r},i3=function(e,t){return(e=e.split(",")).forEach(t)||e},zn=function(e){return Math.round(1e5*e)/1e5||0},Wr=function(e){return Math.round(1e7*e)/1e7||0},qu=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),"+"===r?e+i:"-"===r?e-i:"*"===r?e*i:e/i},Cie=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},UC=function(){var r,i,e=h0.length,t=h0.slice(0);for(kH={},h0.length=0,r=0;r<e;r++)(i=t[r])&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},XO=function(e,t,r,i){h0.length&&!si&&UC(),e.render(t,r,i||si&&t<0&&(e._initted||e._startAt)),h0.length&&!si&&UC()},QO=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(WO).length<2?t:Mr(e)?e.trim():e},JO=function(e){return e},w4=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},w5=function(e,t){for(var r in t)e[r]=t[r];return e},eF=function n(e,t){for(var r in t)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=No(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},GC=function(e,t){var i,r={};for(i in e)i in t||(r[i]=e[i]);return r},vp=function(e){var t=e.parent||Y2,r=e.keyframes?function(e){return function(t,r){for(var i in r)i in t||"duration"===i&&e||"ease"===i||(t[i]=r[i])}}(oi(e.keyframes)):w4;if(r3(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},tF=function(e,t,r,i,s){void 0===r&&(r="_first"),void 0===i&&(i="_last");var u,o=e[i];if(s)for(u=t[s];o&&o[s]>u;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},WC=function(e,t,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},p0=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},S5=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},wie=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},BH=function(e,t,r,i){return e._startAt&&(si?e._startAt.revert(FC):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Sie=function n(e){return!e||e._ts&&n(e.parent)},nF=function(e){return e._repeat?Zu(e._tTime,e=e.duration()+e._rDelay)*e:0},Zu=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},jC=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},$C=function(e){return e._end=Wr(e._start+(e._tDur/Math.abs(e._ts||e._rts||r2)||0))},qC=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Wr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),$C(e),r._dirty||S5(r,e)),e},rF=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=jC(e.rawTime(),t),(!t._dur||_p(0,t.totalDuration(),r)-t._tTime>r2)&&t.render(r,!0)),S5(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-r2}},Po=function(e,t,r,i){return t.parent&&p0(t),t._start=Wr((nc(r)?r:r||e!==Y2?S4(e,r,t):e._time)+t._delay),t._end=Wr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),tF(e,t,"_first","_last",e._sort?"_start":0),UH(t)||(e._recent=t),i||rF(e,t),e._ts<0&&qC(e,e._tTime),e},iF=function(e,t){return(R3.ScrollTrigger||NH("scrollTrigger",t))&&R3.ScrollTrigger.create(t,e)},sF=function(e,t,r,i,s){return XH(e,t,s),e._initted?!r&&e._pt&&!si&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&ZO!==F3.frame?(h0.push(e),e._lazy=[s,i],1):void 0:1},zie=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},UH=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Ku=function(e,t,r,i){var s=e._repeat,o=Wr(t)||0,u=e._tTime/e._tDur;return u&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Wr(o*(s+1)+e._rDelay*s):o,u>0&&!i&&qC(e,e._tTime=e._tDur*u),e.parent&&$C(e),r||S5(e.parent,e),e},oF=function(e){return e instanceof s3?S5(e):Ku(e,e._dur)},Eie={_start:0,endTime:gp,totalDuration:gp},S4=function n(e,t,r){var u,d,m,i=e.labels,s=e._recent||Eie,o=e.duration()>=b4?s.endTime(!1):e._dur;return Mr(t)&&(isNaN(t)||t in i)?(d=t.charAt(0),m="%"===t.substr(-1),u=t.indexOf("="),"<"===d||">"===d?(u>=0&&(t=t.replace(/=/,"")),("<"===d?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(m?(u<0?s:r).totalDuration()/100:1)):u<0?(t in i||(i[t]=o),i[t]):(d=parseFloat(t.charAt(u-1)+t.substr(u+1)),m&&r&&(d=d/100*(oi(r)?r[0]:r).totalDuration()),u>1?n(e,t.substr(0,u-1),r)+d:o+d)):null==t?o:+t},yp=function(e,t,r){var u,d,i=nc(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s];if(i&&(o.duration=t[1]),o.parent=r,e){for(u=o,d=r;d&&!("immediateRender"in u);)u=d.vars.defaults||{},d=r3(d.vars.inherit)&&d.parent;o.immediateRender=r3(u.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new rr(t[0],o,t[s+1])},m0=function(e,t){return e||0===e?t(e):t},_p=function(e,t,r){return r<e?e:r>t?t:r},ai=function(e,t){return Mr(e)&&(t=vie.exec(e))?t[1]:""},GH=[].slice,aF=function(e,t){return e&&No(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&No(e[0]))&&!e.nodeType&&e!==M4},z4=function(e,t,r){return Bn&&!t&&Bn.selector?Bn.selector(e):!Mr(e)||r||!LH&&Xu()?oi(e)?function(e,t,r){return void 0===r&&(r=[]),e.forEach(function(i){var s;return Mr(i)&&!t||aF(i,1)?(s=r).push.apply(s,z4(i)):r.push(i)})||r}(e,r):aF(e)?GH.call(e,0):e?[e]:[]:GH.call((t||DH).querySelectorAll(e),0)},WH=function(e){return e=z4(e)[0]||OC("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return z4(t,r.querySelectorAll?r:r===e?OC("Invalid scope")||DH.createElement("div"):e)}},cF=function(e){return e.sort(function(){return.5-Math.random()})},lF=function(e){if(hn(e))return e;var t=No(e)?e:{each:e},r=z5(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},u=i>0&&i<1,d=isNaN(i)||u,m=t.axis,y=i,b=i;return Mr(i)?y=b={center:.5,edges:.5,end:1}[i]||0:!u&&d&&(y=i[0],b=i[1]),function(T,H,A){var G,$,ee,re,le,we,We,Ke,Ue,D=(A||t).length,R=o[D];if(!R){if(!(Ue="auto"===t.grid?0:(t.grid||[1,b4])[1])){for(We=-b4;We<(We=A[Ue++].getBoundingClientRect().left)&&Ue<D;);Ue--}for(R=o[D]=[],G=d?Math.min(Ue,D)*y-.5:i%Ue,$=Ue===b4?0:d?D*b/Ue-.5:i/Ue|0,We=0,Ke=b4,we=0;we<D;we++)ee=we%Ue-G,re=$-(we/Ue|0),R[we]=le=m?Math.abs("y"===m?re:ee):FO(ee*ee+re*re),le>We&&(We=le),le<Ke&&(Ke=le);"random"===i&&cF(R),R.max=We-Ke,R.min=Ke,R.v=D=(parseFloat(t.amount)||parseFloat(t.each)*(Ue>D?D-1:m?"y"===m?D/Ue:Ue:Math.max(Ue,D/Ue))||0)*("edges"===i?-1:1),R.b=D<0?s-D:s,R.u=ai(t.amount||t.each)||0,r=r&&D<0?bF(r):r}return D=(R[T]-R.min)/R.max||0,Wr(R.b+(r?r(D):D)*R.v)+R.u}},jH=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Wr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(nc(r)?0:ai(r))}},uF=function(e,t){var i,s,r=oi(e);return!r&&No(e)&&(i=r=e.radius||b4,e.values?(e=z4(e.values),(s=!nc(e[0]))&&(i*=i)):e=jH(e.increment)),m0(t,r?hn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var T,H,u=parseFloat(s?o.x:o),d=parseFloat(s?o.y:0),m=b4,y=0,b=e.length;b--;)(T=s?(T=e[b].x-u)*T+(H=e[b].y-d)*H:Math.abs(e[b]-u))<m&&(m=T,y=b);return y=!i||m<=i?e[y]:o,s||y===o||nc(o)?y:y+ai(o)}:jH(e))},fF=function(e,t,r,i){return m0(oi(e)?!t:!0===r?!!(r=0):!i,function(){return oi(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*i)/i})},dF=function(e,t,r){return m0(r,function(i){return e[~~t(i)]})},Cp=function(e){for(var i,s,o,u,t=0,r="";~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),u="["===e.charAt(i+7),s=e.substr(i+7,o-i-7).match(u?WO:AH),r+=e.substr(t,i-t)+fF(u?s:+s[0],u?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},hF=function(e,t,r,i,s){var o=t-e,u=i-r;return m0(s,function(d){return r+((d-e)/o*u||0)})},pF=function(e,t,r){var o,u,d,i=e.labels,s=b4;for(o in i)(u=i[o]-t)<0==!!r&&u&&s>(u=Math.abs(u))&&(d=o,s=u);return d},T4=function(e,t,r){var d,m,y,i=e.vars,s=i[t],o=Bn,u=e._ctx;if(s)return d=i[t+"Params"],m=i.callbackScope||e,r&&h0.length&&UC(),u&&(Bn=u),y=d?s.apply(m,d):s.call(m),Bn=o,y},bp=function(e){return p0(e),e.scrollTrigger&&e.scrollTrigger.kill(!!si),e.progress()<1&&T4(e,"onInterrupt"),e},mF=[],gF=function(e){if(VH()){var t=(e=!e.name&&e.default||e).name,r=hn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:gp,render:eV,add:KH,kill:Qie,modifier:Xie,rawVars:0},o={targetTest:0,get:0,getSetter:JH,aliases:{},register:0};if(Xu(),e!==i){if(O3[t])return;w4(i,w4(GC(e,s),o)),w5(i.prototype,w5(s,GC(e,o))),O3[i.prop=t]=i,e.targetTest&&(BC.push(i),PH[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}qO(t,i),e.register&&e.register(a3,i,o3)}else mF.push(e)},s2=255,Mp={aqua:[0,s2,s2],lime:[0,s2,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,s2],navy:[0,0,128],white:[s2,s2,s2],olive:[128,128,0],yellow:[s2,s2,0],orange:[s2,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[s2,0,0],pink:[s2,192,203],cyan:[0,s2,s2],transparent:[s2,s2,s2,0]},$H=function(e,t,r){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*s2+.5|0},vF=function(e,t,r){var s,o,u,d,m,y,b,T,H,A,i=e?nc(e)?[e>>16,e>>8&s2,e&s2]:0:Mp.black;if(!i){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Mp[e])i=Mp[e];else if("#"===e.charAt(0)){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),u=e.charAt(3),e="#"+s+s+o+o+u+u+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(i=parseInt(e.substr(1,6),16))>>16,i>>8&s2,i&s2,parseInt(e.substr(7),16)/255];i=[(e=parseInt(e.substr(1),16))>>16,e>>8&s2,e&s2]}else if("hsl"===e.substr(0,3))if(i=A=e.match(AH),t){if(~e.indexOf("="))return i=e.match(UO),r&&i.length<4&&(i[3]=1),i}else d=+i[0]%360/360,m=+i[1]/100,s=2*(y=+i[2]/100)-(o=y<=.5?y*(m+1):y+m-y*m),i.length>3&&(i[3]*=1),i[0]=$H(d+1/3,s,o),i[1]=$H(d,s,o),i[2]=$H(d-1/3,s,o);else i=e.match(AH)||Mp.transparent;i=i.map(Number)}return t&&!A&&(s=i[0]/s2,o=i[1]/s2,u=i[2]/s2,y=((b=Math.max(s,o,u))+(T=Math.min(s,o,u)))/2,b===T?d=m=0:(H=b-T,m=y>.5?H/(2-b-T):H/(b+T),d=b===s?(o-u)/H+(o<u?6:0):b===o?(u-s)/H+2:(s-o)/H+4,d*=60),i[0]=~~(d+.5),i[1]=~~(100*m+.5),i[2]=~~(100*y+.5)),r&&i.length<4&&(i[3]=1),i},yF=function(e){var t=[],r=[],i=-1;return e.split(g0).forEach(function(s){var o=s.match($u)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},_F=function(e,t,r){var d,m,y,b,i="",s=(e+i).match(g0),o=t?"hsla(":"rgba(",u=0;if(!s)return e;if(s=s.map(function(T){return(T=vF(T,t,1))&&o+(t?T[0]+","+T[1]+"%,"+T[2]+"%,"+T[3]:T.join(","))+")"}),r&&(y=yF(e),(d=r.c).join(i)!==y.c.join(i)))for(b=(m=e.replace(g0,"1").split($u)).length-1;u<b;u++)i+=m[u]+(~d.indexOf(u)?s.shift()||o+"0,0,0,0)":(y.length?y:s.length?s:r).shift());if(!m)for(b=(m=e.split(g0)).length-1;u<b;u++)i+=m[u]+s[u];return i+m[b]},g0=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Mp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),kie=/hsl[a]?\(/,CF=function(e){var r,t=e.join(" ");if(g0.lastIndex=0,g0.test(t))return r=kie.test(t),e[1]=_F(e[1],r),e[0]=_F(e[0],r,yF(e[1])),!0},F3=function(){var d,m,y,b,T,H,n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,u=[],A=function D(R){var ee,re,le,we,G=n()-i,$=!0===R;if(G>e&&(r+=G-t),((ee=(le=(i+=G)-r)-o)>0||$)&&(we=++b.frame,T=le-1e3*b.time,b.time=le/=1e3,o+=ee+(ee>=s?4:s-ee),re=1),$||(d=m(D)),re)for(H=0;H<u.length;H++)u[H](le,T,we,R)};return b={time:0,frame:0,tick:function(){A(!0)},deltaRatio:function(R){return T/(1e3/(R||60))},wake:function(){jO&&(!LH&&VH()&&(M4=LH=window,DH=M4.document||{},R3.gsap=a3,(M4.gsapVersions||(M4.gsapVersions=[])).push(a3.version),$O(RC||M4.GreenSockGlobals||!M4.gsap&&M4||{}),y=M4.requestAnimationFrame,mF.forEach(gF)),d&&b.sleep(),m=y||function(R){return setTimeout(R,o-1e3*b.time+1|0)},wp=1,A(2))},sleep:function(){(y?M4.cancelAnimationFrame:clearTimeout)(d),wp=0,m=gp},lagSmoothing:function(R,G){e=R||1/0,t=Math.min(G||33,e)},fps:function(R){o=1e3*b.time+(s=1e3/(R||240))},add:function(R,G,$){var ee=G?function(re,le,we,We){R(re,le,we,We),b.remove(ee)}:R;return b.remove(R),u[$?"unshift":"push"](ee),Xu(),ee},remove:function(R,G){~(G=u.indexOf(R))&&u.splice(G,1)&&H>=G&&H--},_listeners:u}}(),Xu=function(){return!wp&&F3.wake()},St={},Rie=/^[\d.\-M][\d.\-,\s]/,Oie=/["']/g,Fie=function(e){for(var u,d,m,t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length;s<o;s++)d=r[s],u=s!==o-1?d.lastIndexOf(","):d.length,m=d.substr(0,u),t[i]=isNaN(m)?m.replace(Oie,"").trim():+m,i=d.substr(u+1).trim();return t},bF=function(e){return function(t){return 1-e(1-t)}},MF=function n(e,t){for(var i,r=e._first;r;)r instanceof s3?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},z5=function(e,t){return e&&(hn(e)?e:St[e]||function(e){var t=(e+"").split("("),r=St[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Fie(t[1])]:function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)}(e).split(",").map(QO)):St._CE&&Rie.test(e)?St._CE("",e):r}(e))||t},T5=function(e,t,r,i){void 0===r&&(r=function(d){return 1-t(1-d)}),void 0===i&&(i=function(d){return d<.5?t(2*d)/2:1-t(2*(1-d))/2});var o,s={easeIn:t,easeOut:r,easeInOut:i};return i3(e,function(u){for(var d in St[u]=R3[u]=s,St[o=u.toLowerCase()]=r,s)St[o+("easeIn"===d?".in":"easeOut"===d?".out":".inOut")]=St[u+"."+d]=s[d]}),s},wF=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},qH=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/EH*(Math.asin(1/i)||0),u=function(y){return 1===y?1:i*Math.pow(2,-10*y)*gie((y-o)*s)+1},d="out"===e?u:"in"===e?function(m){return 1-u(1-m)}:wF(u);return s=EH/s,d.config=function(m,y){return n(e,m,y)},d},ZH=function n(e,t){void 0===t&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i="out"===e?r:"in"===e?function(s){return 1-r(1-s)}:wF(r);return i.config=function(s){return n(e,s)},i};i3("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;T5(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(2*r,t)/2:1-Math.pow(2*(1-r),t)/2})}),St.Linear.easeNone=St.none=St.Linear.easeIn,T5("Elastic",qH("in"),qH("out"),qH()),function(n,e){var s=function(u){return u<.36363636363636365?n*u*u:u<.7272727272727273?n*Math.pow(u-1.5/e,2)+.75:u<.9090909090909092?n*(u-=2.25/e)*u+.9375:n*Math.pow(u-2.625/e,2)+.984375};T5("Bounce",function(o){return 1-s(1-o)},s)}(7.5625,2.75),T5("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),T5("Circ",function(n){return-(FO(1-n*n)-1)}),T5("Sine",function(n){return 1===n?1:1-mie(n*hie)}),T5("Back",ZH("in"),ZH("out"),ZH()),St.SteppedEase=St.steps=R3.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-r2;return function(u){return((i*_p(0,o,u)|0)+s)*r}}},ju.ease=St["quad.out"],i3("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return OH+=n+","+n+"Params,"});var SF=function(e,t){this.id=pie++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:YO,this.set=t?t.getSetter:JH},Qu=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ku(this,+t.duration,1,1),this.data=t.data,Bn&&(this._ctx=Bn,Bn.data.push(this)),wp||F3.wake()}var e=n.prototype;return e.delay=function(r){return r||0===r?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Ku(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Xu(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(qC(this,r),!s._dp||s.parent||rF(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Po(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===r2||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),XO(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+nF(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?r:1-r)+nF(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Zu(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-r2?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?jC(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-r2?0:this._rts,this.totalTime(_p(-Math.abs(this._delay),this._tDur,i),!0),$C(this),wie(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Xu(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==r2&&(this._tTime-=r2)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Po(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(r3(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?jC(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){void 0===r&&(r=_ie);var i=si;return si=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),"nested"!==this.data&&!1!==r.kill&&this.kill(),si=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,oF(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,oF(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(S4(this,r),r3(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,r3(i))},e.play=function(r,i){return null!=r&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return null!=r&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return null!=r&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-r2:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-r2,this},e.isActive=function(){var s,r=this.parent||this._dp,i=this._start;return!(r&&!(this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-r2))},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),"onUpdate"===r&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=hn(r)?r:JO,u=function(){var m=i.then;i.then=null,hn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=m),s(o),i.then=m};i._initted&&1===i.totalProgress()&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},e.kill=function(){bp(this)},n}();w4(Qu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-r2,_prom:0,_ps:!1,_rts:1});var s3=function(n){function e(r,i){var s;return void 0===r&&(r={}),(s=n.call(this,r)||this).labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=r3(r.sortChildren),Y2&&Po(r.parent||Y2,tc(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&iF(tc(s),r.scrollTrigger),s}OO(e,n);var t=e.prototype;return t.to=function(i,s,o){return yp(0,arguments,this),this},t.from=function(i,s,o){return yp(1,arguments,this),this},t.fromTo=function(i,s,o,u){return yp(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,vp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new rr(i,s,S4(this,o),1),this},t.call=function(i,s,o){return Po(this,rr.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,u,d,m,y){return o.duration=s,o.stagger=o.stagger||u,o.onComplete=m,o.onCompleteParams=y,o.parent=this,new rr(i,o,S4(this,d)),this},t.staggerFrom=function(i,s,o,u,d,m,y){return o.runBackwards=1,vp(o).immediateRender=r3(o.immediateRender),this.staggerTo(i,s,o,u,d,m,y)},t.staggerFromTo=function(i,s,o,u,d,m,y,b){return u.startAt=o,vp(u).immediateRender=r3(u.immediateRender),this.staggerTo(i,s,u,d,m,y,b)},t.render=function(i,s,o){var T,H,A,D,R,G,$,ee,re,le,we,We,u=this._time,d=this._dirty?this.totalDuration():this._tDur,m=this._dur,y=i<=0?0:Wr(i),b=this._zTime<0!=i<0&&(this._initted||!m);if(this!==Y2&&y>d&&i>=0&&(y=d),y!==this._tTime||o||b){if(u!==this._time&&m&&(y+=this._time-u,i+=this._time-u),T=y,re=this._start,G=!(ee=this._ts),b&&(m||(u=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(we=this._yoyo,R=m+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*R+i,s,o);if(T=Wr(y%R),y===d?(D=this._repeat,T=m):((D=~~(y/R))&&D===y/R&&(T=m,D--),T>m&&(T=m)),le=Zu(this._tTime,R),!u&&this._tTime&&le!==D&&this._tTime-le*R-this._dur<=0&&(le=D),we&&1&D&&(T=m-T,We=1),D!==le&&!this._lock){var Ke=we&&1&le,Ue=Ke===(we&&1&D);if(D<le&&(Ke=!Ke),u=Ke?0:m,this._lock=1,this.render(u||(We?0:Wr(D*R)),s,!m)._lock=0,this._tTime=y,!s&&this.parent&&T4(this,"onRepeat"),this.vars.repeatRefresh&&!We&&(this.invalidate()._lock=1),u&&u!==this._time||G!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,d=this._tDur,Ue&&(this._lock=2,this.render(u=Ke?m:-1e-4,!0),this.vars.repeatRefresh&&!We&&this.invalidate()),this._lock=0,!this._ts&&!G)return this;MF(this,We)}}if(this._hasPause&&!this._forcing&&this._lock<2&&($=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if("isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if("isPause"===i.data&&i._start<t)return i;i=i._prev}}(this,Wr(u),Wr(T)),$&&(y-=T-(T=$._start))),this._tTime=y,this._time=T,this._act=!ee,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&T&&!s&&!D&&(T4(this,"onStart"),this._tTime!==y))return this;if(T>=u&&i>=0)for(H=this._first;H;){if(A=H._next,(H._act||T>=H._start)&&H._ts&&$!==H){if(H.parent!==this)return this.render(i,s,o);if(H.render(H._ts>0?(T-H._start)*H._ts:(H._dirty?H.totalDuration():H._tDur)+(T-H._start)*H._ts,s,o),T!==this._time||!this._ts&&!G){$=0,A&&(y+=this._zTime=-r2);break}}H=A}else{H=this._last;for(var _t=i<0?i:T;H;){if(A=H._prev,(H._act||_t<=H._end)&&H._ts&&$!==H){if(H.parent!==this)return this.render(i,s,o);if(H.render(H._ts>0?(_t-H._start)*H._ts:(H._dirty?H.totalDuration():H._tDur)+(_t-H._start)*H._ts,s,o||si&&(H._initted||H._startAt)),T!==this._time||!this._ts&&!G){$=0,A&&(y+=this._zTime=_t?-r2:r2);break}}H=A}}if($&&!s&&(this.pause(),$.render(T>=u?0:-r2)._zTime=T>=u?1:-1,this._ts))return this._start=re,$C(this),this.render(i,s,o);this._onUpdate&&!s&&T4(this,"onUpdate",!0),(y===d&&this._tTime>=this.totalDuration()||!y&&u)&&(re===this._start||Math.abs(ee)!==Math.abs(this._ts))&&(this._lock||((i||!m)&&(y===d&&this._ts>0||!y&&this._ts<0)&&p0(this,1),!s&&(!(i<0)||u)&&(y||u||!d)&&(T4(this,y===d&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(nc(s)||(s=S4(this,s,i)),!(i instanceof Qu)){if(oi(i))return i.forEach(function(u){return o.add(u,s)}),this;if(Mr(i))return this.addLabel(i,s);if(!hn(i))return this;i=rr.delayedCall(0,i)}return this!==i?Po(this,i,s):this},t.getChildren=function(i,s,o,u){void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===u&&(u=-b4);for(var d=[],m=this._first;m;)m._start>=u&&(m instanceof rr?s&&d.push(m):(o&&d.push(m),i&&d.push.apply(d,m.getChildren(!0,s,o)))),m=m._next;return d},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Mr(i)?this.removeLabel(i):hn(i)?this.killTweensOf(i):(WC(this,i),i===this._recent&&(this._recent=this._last),S5(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Wr(F3.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=S4(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var u=rr.delayedCall(0,s||gp,o);return u.data="isPause",this._hasPause=1,Po(this,u,S4(this,i))},t.removePause=function(i){var s=this._first;for(i=S4(this,i);s;)s._start===i&&"isPause"===s.data&&p0(s),s=s._next},t.killTweensOf=function(i,s,o){for(var u=this.getTweensOf(i,o),d=u.length;d--;)v0!==u[d]&&u[d].kill(i,s);return this},t.getTweensOf=function(i,s){for(var y,o=[],u=z4(i),d=this._first,m=nc(s);d;)d instanceof rr?Cie(d._targets,u)&&(m?(!v0||d._initted&&d._ts)&&d.globalTime(0)<=s&&d.globalTime(d.totalDuration())>s:!s||d.isActive())&&o.push(d):(y=d.getTweensOf(u,s)).length&&o.push.apply(o,y),d=d._next;return o},t.tweenTo=function(i,s){s=s||{};var H,o=this,u=S4(o,i),m=s.startAt,y=s.onStart,b=s.onStartParams,T=s.immediateRender,A=rr.to(o,w4({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:s.duration||Math.abs((u-(m&&"time"in m?m.time:o._time))/o.timeScale())||r2,onStart:function(){if(o.pause(),!H){var R=s.duration||Math.abs((u-(m&&"time"in m?m.time:o._time))/o.timeScale());A._dur!==R&&Ku(A,R,0,1).render(A._time,!0,!0),H=1}y&&y.apply(A,b||[])}},s));return T?A.render(0):A},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,w4({startAt:{time:S4(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return void 0===i&&(i=this._time),pF(this,S4(this,i))},t.previousLabel=function(i){return void 0===i&&(i=this._time),pF(this,S4(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+r2)},t.shiftChildren=function(i,s,o){void 0===o&&(o=0);for(var m,u=this._first,d=this.labels;u;)u._start>=o&&(u._start+=i,u._end+=i),u=u._next;if(s)for(m in d)d[m]>=o&&(d[m]+=i);return S5(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){void 0===i&&(i=!0);for(var o,s=this._first;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),S5(this)},t.totalDuration=function(i){var m,y,b,s=0,o=this,u=o._last,d=b4;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(b=o.parent;u;)m=u._prev,u._dirty&&u.totalDuration(),(y=u._start)>d&&o._sort&&u._ts&&!o._lock?(o._lock=1,Po(o,u,y-u._delay,1)._lock=0):d=y,y<0&&u._ts&&(s-=y,(!b&&!o._dp||b&&b.smoothChildTiming)&&(o._start+=y/o._ts,o._time-=y,o._tTime-=y),o.shiftChildren(-y,!1,-1/0),d=0),u._end>s&&u._ts&&(s=u._end),u=m;Ku(o,o===Y2&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Y2._ts&&(XO(Y2,jC(i,Y2)),ZO=F3.frame),F3.frame>=KO){KO+=k3.autoSleep||120;var s=Y2._first;if((!s||!s._ts)&&k3.autoSleep&&F3._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||F3.sleep()}}},e}(Qu);w4(s3.prototype,{_lock:0,_hasPause:0,_forcing:0});var v0,YH,Gie=function(e,t,r,i,s,o,u){var b,T,H,A,D,R,G,$,d=new o3(this._pt,e,t,0,1,VF,null,s),m=0,y=0;for(d.b=r,d.e=i,r+="",(G=~(i+="").indexOf("random("))&&(i=Cp(i)),o&&(o($=[r,i],e,t),r=$[0],i=$[1]),T=r.match(IH)||[];b=IH.exec(i);)A=b[0],D=i.substring(m,b.index),H?H=(H+1)%5:"rgba("===D.substr(-5)&&(H=1),A!==T[y++]&&(R=parseFloat(T[y-1])||0,d._pt={_next:d._pt,p:D||1===y?D:",",s:R,c:"="===A.charAt(1)?qu(R,A)-R:parseFloat(A)-R,m:H&&H<4?Math.round:0},m=IH.lastIndex);return d.c=m<i.length?i.substring(m,i.length):"",d.fp=u,(GO.test(i)||G)&&(d.e=0),this._pt=d,d},KH=function(e,t,r,i,s,o,u,d,m,y){hn(i)&&(i=i(s||0,e,o));var A,b=e[t],T="get"!==r?r:hn(b)?m?e[t.indexOf("set")||!hn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](m):e[t]():b,H=hn(b)?m?Zie:EF:QH;if(Mr(i)&&(~i.indexOf("random(")&&(i=Cp(i)),"="===i.charAt(1)&&((A=qu(T,i)+(ai(T)||0))||0===A)&&(i=A)),!y||T!==i||YH)return isNaN(T*i)||""===i?(!b&&!(t in e)&&NH(t,i),Gie.call(this,e,t,T,i,H,d||k3.stringFilter,m)):(A=new o3(this._pt,e,t,+T||0,i-(T||0),"boolean"==typeof b?Yie:HF,0,H),m&&(A.fp=m),u&&A.modifier(u,this,e),this._pt=A)},zF=function(e,t,r,i,s,o){var u,d,m,y;if(O3[e]&&!1!==(u=new O3[e]).init(s,u.rawVars?t[e]:function(e,t,r,i,s){if(hn(e)&&(e=Sp(e,s,t,r,i)),!No(e)||e.style&&e.nodeType||oi(e)||BO(e))return Mr(e)?Sp(e,s,t,r,i):e;var u,o={};for(u in e)o[u]=Sp(e[u],s,t,r,i);return o}(t[e],i,s,o,r),r,i,o)&&(r._pt=d=new o3(r._pt,s,e,0,1,u.render,u,0,u.priority),r!==Yu))for(m=r._ptLookup[r._targets.indexOf(s)],y=u._props.length;y--;)m[u._props[y]]=d;return u},XH=function n(e,t,r){var We,Ke,Ue,_t,At,y2,J2,V2,ft,pn,Ut,zr,B5,i=e.vars,s=i.ease,o=i.startAt,u=i.immediateRender,d=i.lazy,m=i.onUpdate,y=i.onUpdateParams,b=i.callbackScope,T=i.runBackwards,H=i.yoyoEase,A=i.keyframes,D=i.autoRevert,R=e._dur,G=e._startAt,$=e._targets,ee=e.parent,re=ee&&"nested"===ee.data?ee.vars.targets:$,le="auto"===e._overwrite&&!xH,we=e.timeline;if(we&&(!A||!s)&&(s="none"),e._ease=z5(s,ju.ease),e._yEase=H?bF(z5(!0===H?s:H,ju.ease)):0,H&&e._yoyo&&!e._repeat&&(H=e._yEase,e._yEase=e._ease,e._ease=H),e._from=!we&&!!i.runBackwards,!we||A&&!i.stagger){if(zr=(V2=$[0]?M5($[0]).harness:0)&&i[V2.prop],We=GC(i,PH),G&&(G._zTime<0&&G.progress(1),t<0&&T&&u&&!D?G.render(-1,!0):G.revert(T&&R?FC:yie),G._lazy=0),o){if(p0(e._startAt=rr.set($,w4({data:"isStart",overwrite:!1,parent:ee,immediateRender:!0,lazy:!G&&r3(d),startAt:null,delay:0,onUpdate:m,onUpdateParams:y,callbackScope:b,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(si||!u&&!D)&&e._startAt.revert(FC),u&&R&&t<=0&&r<=0)return void(t&&(e._zTime=t))}else if(T&&R&&!G)if(t&&(u=!1),Ue=w4({overwrite:!1,data:"isFromStart",lazy:u&&!G&&r3(d),immediateRender:u,stagger:0,parent:ee},We),zr&&(Ue[V2.prop]=zr),p0(e._startAt=rr.set($,Ue)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(si?e._startAt.revert(FC):e._startAt.render(-1,!0)),e._zTime=t,u){if(!t)return}else n(e._startAt,r2,r2);for(e._pt=e._ptCache=0,d=R&&r3(d)||d&&!R,Ke=0;Ke<$.length;Ke++){if(J2=(At=$[Ke])._gsap||FH($)[Ke]._gsap,e._ptLookup[Ke]=pn={},kH[J2.id]&&h0.length&&UC(),Ut=re===$?Ke:re.indexOf(At),V2&&!1!==(ft=new V2).init(At,zr||We,e,Ut,re)&&(e._pt=_t=new o3(e._pt,At,ft.name,0,1,ft.render,ft,0,ft.priority),ft._props.forEach(function(U5){pn[U5]=_t}),ft.priority&&(y2=1)),!V2||zr)for(Ue in We)O3[Ue]&&(ft=zF(Ue,We,e,Ut,At,re))?ft.priority&&(y2=1):pn[Ue]=_t=KH.call(e,At,Ue,"get",We[Ue],Ut,re,0,i.stringFilter);e._op&&e._op[Ke]&&e.kill(At,e._op[Ke]),le&&e._pt&&(v0=e,Y2.killTweensOf(At,pn,e.globalTime(t)),B5=!e.parent,v0=0),e._pt&&d&&(kH[J2.id]=1)}y2&&AF(e),e._onInit&&e._onInit(e)}e._onUpdate=m,e._initted=(!e._op||e._pt)&&!B5,A&&t<=0&&we.render(b4,!0,!0)},qie=function(e,t,r,i){var o,u,s=t.ease||i||"power1.inOut";if(oi(t))u=r[e]||(r[e]=[]),t.forEach(function(d,m){return u.push({t:m/(t.length-1)*100,v:d,e:s})});else for(o in t)u=r[o]||(r[o]=[]),"ease"===o||u.push({t:parseFloat(e),v:t[o],e:s})},Sp=function(e,t,r,i,s){return hn(e)?e.call(t,r,i,s):Mr(e)&&~e.indexOf("random(")?Cp(e):e},TF=OH+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",xF={};i3(TF+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return xF[n]=1});var rr=function(n){function e(r,i,s,o){var u;"number"==typeof i&&(s.duration=i,i=s,s=null);var re,le,we,We,Ke,Ue,_t,At,d=(u=n.call(this,o?i:vp(i))||this).vars,m=d.duration,y=d.delay,b=d.immediateRender,T=d.stagger,H=d.overwrite,A=d.keyframes,D=d.defaults,R=d.scrollTrigger,G=d.yoyoEase,$=i.parent||Y2,ee=(oi(r)||BO(r)?nc(r[0]):"length"in i)?[r]:z4(r);if(u._targets=ee.length?FH(ee):OC("GSAP target "+r+" not found. https://greensock.com",!k3.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=H,A||T||kC(m)||kC(y)){if(i=u.vars,(re=u.timeline=new s3({data:"nested",defaults:D||{},targets:$&&"nested"===$.data?$.vars.targets:ee})).kill(),re.parent=re._dp=tc(u),re._start=0,T||kC(m)||kC(y)){if(We=ee.length,_t=T&&lF(T),No(T))for(Ke in T)~TF.indexOf(Ke)&&(At||(At={}),At[Ke]=T[Ke]);for(le=0;le<We;le++)(we=GC(i,xF)).stagger=0,G&&(we.yoyoEase=G),At&&w5(we,At),Ue=ee[le],we.duration=+Sp(m,tc(u),le,Ue,ee),we.delay=(+Sp(y,tc(u),le,Ue,ee)||0)-u._delay,!T&&1===We&&we.delay&&(u._delay=y=we.delay,u._start+=y,we.delay=0),re.to(Ue,we,_t?_t(le,Ue,ee):0),re._ease=St.none;re.duration()?m=y=0:u.timeline=0}else if(A){vp(w4(re.vars.defaults,{ease:"none"})),re._ease=z5(A.ease||i.ease||"none");var J2,V2,ft,y2=0;if(oi(A))A.forEach(function(pn){return re.to(ee,pn,">")}),re.duration();else{for(Ke in we={},A)"ease"===Ke||"easeEach"===Ke||qie(Ke,A[Ke],we,A.easeEach);for(Ke in we)for(J2=we[Ke].sort(function(pn,Ut){return pn.t-Ut.t}),y2=0,le=0;le<J2.length;le++)(ft={ease:(V2=J2[le]).e,duration:(V2.t-(le?J2[le-1].t:0))/100*m})[Ke]=V2.v,re.to(ee,ft,y2),y2+=ft.duration;re.duration()<m&&re.to({},{duration:m-re.duration()})}}m||u.duration(m=re.duration())}else u.timeline=0;return!0===H&&!xH&&(v0=tc(u),Y2.killTweensOf(ee),v0=0),Po($,tc(u),s),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(b||!m&&!A&&u._start===Wr($._time)&&r3(b)&&Sie(tc(u))&&"nested"!==$.data)&&(u._tTime=-r2,u.render(Math.max(0,-y)||0)),R&&iF(tc(u),R),u}OO(e,n);var t=e.prototype;return t.render=function(i,s,o){var T,H,A,D,R,G,$,ee,re,u=this._time,d=this._tDur,m=this._dur,y=i<0,b=i>d-r2&&!y?d:i<r2?0:i;if(m){if(b!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==y){if(T=b,ee=this.timeline,this._repeat){if(D=m+this._rDelay,this._repeat<-1&&y)return this.totalTime(100*D+i,s,o);if(T=Wr(b%D),b===d?(A=this._repeat,T=m):((A=~~(b/D))&&A===b/D&&(T=m,A--),T>m&&(T=m)),(G=this._yoyo&&1&A)&&(re=this._yEase,T=m-T),R=Zu(this._tTime,D),T===u&&!o&&this._initted)return this._tTime=b,this;A!==R&&(ee&&this._yEase&&MF(ee,G),this.vars.repeatRefresh&&!G&&!this._lock&&(this._lock=o=1,this.render(Wr(D*A),!0).invalidate()._lock=0))}if(!this._initted){if(sF(this,y?i:T,o,s,b))return this._tTime=0,this;if(u!==this._time)return this;if(m!==this._dur)return this.render(i,s,o)}if(this._tTime=b,this._time=T,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=$=(re||this._ease)(T/m),this._from&&(this.ratio=$=1-$),T&&!u&&!s&&!A&&(T4(this,"onStart"),this._tTime!==b))return this;for(H=this._pt;H;)H.r($,H.d),H=H._next;ee&&ee.render(i<0?i:!T&&G?-r2:ee._dur*ee._ease(T/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(y&&BH(this,i,0,o),T4(this,"onUpdate")),this._repeat&&A!==R&&this.vars.onRepeat&&!s&&this.parent&&T4(this,"onRepeat"),(b===this._tDur||!b)&&this._tTime===b&&(y&&!this._onUpdate&&BH(this,i,0,!0),(i||!m)&&(b===this._tDur&&this._ts>0||!b&&this._ts<0)&&p0(this,1),!s&&(!y||u)&&(b||u||G)&&(T4(this,b===d?"onComplete":"onReverseComplete",!0),this._prom&&!(b<d&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,i){var m,y,b,s=e.ratio,o=t<0||!t&&(!e._start&&zie(e)&&(e._initted||!UH(e))||(e._ts<0||e._dp._ts<0)&&!UH(e))?0:1,u=e._rDelay,d=0;if(u&&e._repeat&&(d=_p(0,e._tDur,t),y=Zu(d,u),e._yoyo&&1&y&&(o=1-o),y!==Zu(e._tTime,u)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||si||i||e._zTime===r2||!t&&e._zTime){if(!e._initted&&sF(e,t,i,r,d))return;for(b=e._zTime,e._zTime=t||(r?r2:0),r||(r=t&&!b),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=d,m=e._pt;m;)m.r(o,m.d),m=m._next;t<0&&BH(e,t,0,!0),e._onUpdate&&!r&&T4(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&T4(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&p0(e,1),!r&&!si&&(T4(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,i,s,o);return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,u){wp||F3.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||XH(this,d),function(e,t,r,i,s,o,u){var m,y,b,T,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],b=e._ptLookup,T=e._targets.length;T--;){if((m=b[T][t])&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return YH=1,e.vars[t]="+=0",XH(e,u),YH=0,1;d.push(m)}for(T=d.length;T--;)(m=(y=d[T])._pt||y).s=!i&&0!==i||s?m.s+(i||0)+o*m.c:i,m.c=r-m.s,y.e&&(y.e=zn(r)+ai(y.e)),y.b&&(y.b=m.s+ai(y.b))}(this,i,s,o,u,this._ease(d/this._dur),d)?this.resetTo(i,s,o,u):(qC(this,0),this.parent||tF(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(void 0===s&&(s="all"),!(i||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?bp(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,v0&&!0!==v0.vars.overwrite)._first||bp(this),this.parent&&o!==this.timeline.totalDuration()&&Ku(this,this._dur*this.timeline._tDur/o,0,1),this}var b,T,H,A,D,R,G,u=this._targets,d=i?z4(i):u,m=this._ptLookup,y=this._pt;if((!s||"all"===s)&&function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0}(u,d))return"all"===s&&(this._pt=0),bp(this);for(b=this._op=this._op||[],"all"!==s&&(Mr(s)&&(D={},i3(s,function($){return D[$]=1}),s=D),s=function(e,t){var s,o,u,d,r=e[0]?M5(e[0]).harness:0,i=r&&r.aliases;if(!i)return t;for(o in s=w5({},t),i)if(o in s)for(u=(d=i[o].split(",")).length;u--;)s[d[u]]=s[o];return s}(u,s)),G=u.length;G--;)if(~d.indexOf(u[G]))for(D in T=m[G],"all"===s?(b[G]=s,A=T,H={}):(H=b[G]=b[G]||{},A=s),A)(R=T&&T[D])&&((!("kill"in R.d)||!0===R.d.kill(D))&&WC(this,R,"_pt"),delete T[D]),"all"!==H&&(H[D]=1);return this._initted&&!this._pt&&y&&bp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return yp(1,arguments)},e.delayedCall=function(i,s,o,u){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:u})},e.fromTo=function(i,s,o){return yp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Y2.killTweensOf(i,s,o)},e}(Qu);w4(rr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),i3("staggerTo,staggerFrom,staggerFromTo",function(n){rr[n]=function(){var e=new s3,t=GH.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var QH=function(e,t,r){return e[t]=r},EF=function(e,t,r){return e[t](r)},Zie=function(e,t,r,i){return e[t](i.fp,r)},Kie=function(e,t,r){return e.setAttribute(t,r)},JH=function(e,t){return hn(e[t])?EF:HH(e[t])&&e.setAttribute?Kie:QH},HF=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},Yie=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},VF=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},eV=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Xie=function(e,t,r,i){for(var o,s=this._pt;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Qie=function(e){for(var r,i,t=this._pt;t;)i=t._next,t.p===e&&!t.op||t.op===e?WC(this,t,"_pt"):t.dep||(r=1),t=i;return!r},Jie=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},AF=function(e){for(var r,i,s,o,t=e._pt;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},o3=function(){function n(t,r,i,s,o,u,d,m,y){this.t=r,this.s=s,this.c=o,this.p=i,this.r=u||HF,this.d=d||this,this.set=m||QH,this.pr=y||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Jie,this.m=r,this.mt=s,this.tween=i},n}();i3(OH+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return PH[n]=1}),R3.TweenMax=R3.TweenLite=rr,R3.TimelineLite=R3.TimelineMax=s3,Y2=new s3({sortChildren:!1,defaults:ju,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),k3.stringFilter=CF;var Ju=[],ZC={},e3e=[],IF=0,tV=function(e){return(ZC[e]||e3e).map(function(t){return t()})},nV=function(){var e=Date.now(),t=[];e-IF>2&&(tV("matchMediaInit"),Ju.forEach(function(r){var o,u,d,m,i=r.queries,s=r.conditions;for(u in i)(o=M4.matchMedia(i[u]).matches)&&(d=1),o!==s[u]&&(s[u]=o,m=1);m&&(r.revert(),d&&t.push(r))}),tV("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),IF=e,tV("matchMedia"))},LF=function(){function n(t,r){this.selector=r&&WH(r),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){hn(r)&&(s=i,i=r,r=hn);var o=this,u=function(){var b,m=Bn,y=o.selector;return m&&m!==o&&m.data.push(o),s&&(o.selector=WH(s)),Bn=o,b=i.apply(o,arguments),hn(b)&&o._r.push(b),Bn=m,o.selector=y,o.isReverted=!1,b};return o.last=u,r===hn?u(o):r?o[r]=u:u},e.ignore=function(r){var i=Bn;Bn=null,r(this),Bn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof rr&&!(i.parent&&"nested"===i.parent.data)&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(d){"isFlip"===d.data&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(m){return o.splice(o.indexOf(m),1)}))}),o.map(function(d){return{g:d.globalTime(0),t:d}}).sort(function(d,m){return m.g-d.g||-1}).forEach(function(d){return d.t.revert(r)}),this.data.forEach(function(d){return!(d instanceof Qu)&&d.revert&&d.revert(r)}),this._r.forEach(function(d){return d(r,s)}),this.isReverted=!0}else this.data.forEach(function(d){return d.kill&&d.kill()});if(this.clear(),i){var u=Ju.indexOf(this);~u&&Ju.splice(u,1)}},e.revert=function(r){this.kill(r||{})},n}(),t3e=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){No(r)||(r={matches:r});var d,m,y,o=new LF(0,s||this.scope),u=o.conditions={};for(m in this.contexts.push(o),i=o.add("onMatch",i),o.queries=r,r)"all"===m?y=1:(d=M4.matchMedia(r[m]))&&(Ju.indexOf(o)<0&&Ju.push(o),(u[m]=d.matches)&&(y=1),d.addListener?d.addListener(nV):d.addEventListener("change",nV));return y&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),KC={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return gF(i)})},timeline:function(e){return new s3(e)},getTweensOf:function(e,t){return Y2.getTweensOf(e,t)},getProperty:function(e,t,r,i){Mr(e)&&(e=z4(e)[0]);var s=M5(e||{}).get,o=r?JO:QO;return"native"===r&&(r=""),e&&(t?o((O3[t]&&O3[t].get||s)(e,t,r,i)):function(u,d,m){return o((O3[u]&&O3[u].get||s)(e,u,d,m))})},quickSetter:function(e,t,r){if((e=z4(e)).length>1){var i=e.map(function(y){return a3.quickSetter(y,t,r)}),s=i.length;return function(y){for(var b=s;b--;)i[b](y)}}var o=O3[t],u=M5(e=e[0]||{}),d=u.harness&&(u.harness.aliases||{})[t]||t,m=o?function(y){var b=new o;Yu._pt=0,b.init(e,r?y+r:y,Yu,0,[e]),b.render(1,b),Yu._pt&&eV(1,Yu)}:u.set(e,d);return o?m:function(y){return m(e,d,r?y+r:y,u,1)}},quickTo:function(e,t,r){var i,s=a3.to(e,w5(((i={})[t]="+=0.1",i.paused=!0,i),r||{})),o=function(d,m,y){return s.resetTo(t,d,m,y)};return o.tween=s,o},isTweening:function(e){return Y2.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=z5(e.ease,ju.ease)),eF(ju,e||{})},config:function(e){return eF(k3,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.defaults,o=e.extendTimeline;(e.plugins||"").split(",").forEach(function(u){return u&&!O3[u]&&!R3[u]&&OC(t+" effect requires "+u+" plugin.")}),RH[t]=function(u,d,m){return r(z4(u),w4(d||{},s),m)},o&&(s3.prototype[t]=function(u,d,m){return this.add(RH[t](u,No(d)?d:(m=d)&&{},this),m)})},registerEase:function(e,t){St[e]=z5(t)},parseEase:function(e,t){return arguments.length?z5(e,t):St},getById:function(e){return Y2.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,s,r=new s3(e);for(r.smoothChildTiming=r3(e.smoothChildTiming),Y2.remove(r),r._dp=0,r._time=r._tTime=Y2._time,i=Y2._first;i;)s=i._next,(t||!(!i._dur&&i instanceof rr&&i.vars.onComplete===i._targets[0]))&&Po(r,i,i._start-i._delay),i=s;return Po(Y2,r,0),r},context:function(e,t){return e?new LF(e,t):Bn},matchMedia:function(e){return new t3e(e)},matchMediaRefresh:function(){return Ju.forEach(function(e){var r,i,t=e.conditions;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||nV()},addEventListener:function(e,t){var r=ZC[e]||(ZC[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=ZC[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:function n(e,t,r){var i=t-e;return oi(e)?dF(e,n(0,e.length),t):m0(r,function(s){return(i+(s-e)%i)%i+e})},wrapYoyo:function n(e,t,r){var i=t-e,s=2*i;return oi(e)?dF(e,n(0,e.length-1),t):m0(r,function(o){return e+((o=(s+(o-e)%s)%s||0)>i?s-o:o)})},distribute:lF,random:fF,snap:uF,normalize:function(e,t,r){return hF(e,t,0,1,r)},getUnit:ai,clamp:function(e,t,r){return m0(r,function(i){return _p(e,t,i)})},splitColor:vF,toArray:z4,selector:WH,mapRange:hF,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||ai(r))}},interpolate:function n(e,t,r,i){var s=isNaN(e+t)?0:function(H){return(1-H)*e+H*t};if(!s){var d,m,y,b,T,o=Mr(e),u={};if(!0===r&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(oi(e)&&!oi(t)){for(y=[],T=(b=e.length)-2,m=1;m<b;m++)y.push(n(e[m-1],e[m]));b--,s=function(A){A*=b;var D=Math.min(T,~~A);return y[D](A-D)},r=t}else i||(e=w5(oi(e)?[]:{},e));if(!y){for(d in t)KH.call(u,e,d,"get",t[d]);s=function(A){return eV(A,u)||(o?e.p:e)}}}return m0(r,s)},shuffle:cF},install:$O,effects:RH,ticker:F3,updateRoot:s3.updateRoot,plugins:O3,globalTimeline:Y2,core:{PropTween:o3,globals:qO,Tween:rr,Timeline:s3,Animation:Qu,getCache:M5,_removeLinkedListItem:WC,reverting:function(){return si},context:function(e){return e&&Bn&&(Bn.data.push(e),e._ctx=Bn),Bn},suppressOverwrites:function(e){return xH=e}}};i3("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return KC[n]=rr[n]}),F3.add(s3.updateRoot),Yu=KC.to({},{duration:0});var n3e=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},rV=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(u){var d,m;if(Mr(s)&&(d={},i3(s,function(y){return d[y]=1}),s=d),t){for(m in d={},s)d[m]=t(s[m]);s=d}!function(e,t){var i,s,o,r=e._targets;for(i in t)for(s=r.length;s--;)(o=e._ptLookup[s][i])&&(o=o.d)&&(o._pt&&(o=n3e(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))}(u,s)}}}},a3=KC.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,u,d;for(o in this.tween=r,t)d=e.getAttribute(o)||"",(u=this.add(e,"setAttribute",(d||0)+"",t[o],i,s,0,0,o)).op=o,u.b=d,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)si?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},rV("roundProps",jH),rV("modifiers"),rV("snap",uF))||KC;rr.version=s3.version=a3.version="3.11.5",jO=1,VH()&&Xu();var DF,y0,e9,iV,x5,NF,sV,BF,rc={},E5=180/Math.PI,t9=Math.PI/180,n9=Math.atan2,PF=1e8,oV=/([A-Z])/g,o3e=/(left|right|width|margin|padding|x)/i,a3e=/[\s,\(]\S/,ko={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},aV=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},c3e=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},l3e=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},u3e=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},kF=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},RF=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},f3e=function(e,t,r){return e.style[t]=r},d3e=function(e,t,r){return e.style.setProperty(t,r)},h3e=function(e,t,r){return e._gsap[t]=r},p3e=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},m3e=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},g3e=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},X2="transform",Ss=X2+"Origin",v3e=function n(e,t){var r=this,i=this.target,s=i.style;if(e in rc){if(this.tfm=this.tfm||{},"transform"===e)return ko.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(~(e=ko[e]||e).indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=ic(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:ic(i,e),this.props.indexOf(X2)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ss,t,"")),e=X2}(s||t)&&this.props.push(e,t,s[e])},OF=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},y3e=function(){var s,o,e=this.props,t=this.target,r=t.style,i=t._gsap;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty("--"===e[s].substr(0,2)?e[s]:e[s].replace(oV,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),(!(s=sV())||!s.isStart)&&!r[X2]&&(OF(r),i.uncache=1)}},FF=function(e,t){var r={target:e,props:[],revert:y3e,save:v3e};return e._gsap||a3.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},cV=function(e,t){var r=y0.createElementNS?y0.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):y0.createElement(e);return r.style?r:y0.createElement(e)},Ro=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(oV,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,r9(t)||t,1)||""},UF="O,Moz,ms,Ms,Webkit".split(","),r9=function(e,t,r){var s=(t||x5).style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(UF[o]+e in s););return o<0?null:(3===o?"ms":o>=0?UF[o]:"")+e},lV=function(){typeof window<"u"&&window.document&&(DF=window,e9=(y0=DF.document).documentElement,x5=cV("div")||{style:{}},cV("div"),X2=r9(X2),Ss=X2+"Origin",x5.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",BF=!!r9("perspective"),sV=a3.core.reverting,iV=1)},uV=function n(e){var o,t=cV("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText;if(e9.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),e9.removeChild(t),this.style.cssText=s,o},GF=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},WF=function(e){var t;try{t=e.getBBox()}catch{t=uV.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===uV||(t=uV.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+GF(e,["x","cx","x1"])||0,y:+GF(e,["y","cy","y1"])||0,width:0,height:0}},jF=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!WF(e))},zp=function(e,t){if(t){var r=e.style;t in rc&&t!==Ss&&(t=X2),r.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),r.removeProperty(t.replace(oV,"-$1").toLowerCase())):r.removeAttribute(t)}},_0=function(e,t,r,i,s,o){var u=new o3(e._pt,t,r,0,1,o?RF:kF);return e._pt=u,u.b=i,u.e=s,e._props.push(r),u},$F={deg:1,rad:1,turn:1},_3e={grid:1,flex:1},C0=function n(e,t,r,i){var A,D,R,G,s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",u=x5.style,d=o3e.test(t),m="svg"===e.tagName.toLowerCase(),y=(m?"client":"offset")+(d?"Width":"Height"),b=100,T="px"===i,H="%"===i;return i===o||!s||$F[i]||$F[o]?s:("px"!==o&&!T&&(s=n(e,t,r,"px")),G=e.getCTM&&jF(e),!H&&"%"!==o||!rc[t]&&!~t.indexOf("adius")?(u[d?"width":"height"]=b+(T?o:i),D=~t.indexOf("adius")||"em"===i&&e.appendChild&&!m?e:e.parentNode,G&&(D=(e.ownerSVGElement||{}).parentNode),(!D||D===y0||!D.appendChild)&&(D=y0.body),(R=D._gsap)&&H&&R.width&&d&&R.time===F3.time&&!R.uncache?zn(s/R.width*b):((H||"%"===o)&&!_3e[Ro(D,"display")]&&(u.position=Ro(e,"position")),D===e&&(u.position="static"),D.appendChild(x5),A=x5[y],D.removeChild(x5),u.position="absolute",d&&H&&((R=M5(D)).time=F3.time,R.width=D[y]),zn(T?A*s/b:A&&s?b/A*s:0))):(A=G?e.getBBox()[d?"width":"height"]:e[y],zn(H?s/A*b:s/100*A)))},ic=function(e,t,r,i){var s;return iV||lV(),t in ko&&"transform"!==t&&~(t=ko[t]).indexOf(",")&&(t=t.split(",")[0]),rc[t]&&"transform"!==t?(s=xp(e,i),s="transformOrigin"!==t?s[t]:s.svg?s.origin:XC(Ro(e,Ss))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||i||~(s+"").indexOf("calc("))&&(s=YC[t]&&YC[t](e,t,r)||Ro(e,t)||YO(e,t)||("opacity"===t?1:0)),r&&!~(s+"").trim().indexOf(" ")?C0(e,t,s,r)+r:s},C3e=function(e,t,r,i){if(!r||"none"===r){var s=r9(t,e,1),o=s&&Ro(e,s,1);o&&o!==r?(t=s,r=o):"borderColor"===t&&(r=Ro(e,"borderTopColor"))}var y,b,T,H,A,D,R,G,$,ee,re,u=new o3(this._pt,e.style,t,0,1,VF),d=0,m=0;if(u.b=r,u.e=i,r+="","auto"==(i+="")&&(e.style[t]=i,i=Ro(e,t)||i,e.style[t]=r),CF(y=[r,i]),i=y[1],T=(r=y[0]).match($u)||[],(i.match($u)||[]).length){for(;b=$u.exec(i);)R=b[0],$=i.substring(d,b.index),A?A=(A+1)%5:("rgba("===$.substr(-5)||"hsla("===$.substr(-5))&&(A=1),R!==(D=T[m++]||"")&&(H=parseFloat(D)||0,re=D.substr((H+"").length),"="===R.charAt(1)&&(R=qu(H,R)+re),G=parseFloat(R),ee=R.substr((G+"").length),d=$u.lastIndex-ee.length,ee||(ee=ee||k3.units[t]||re,d===i.length&&(i+=ee,u.e+=ee)),re!==ee&&(H=C0(e,t,D,ee)||0),u._pt={_next:u._pt,p:$||1===m?$:",",s:H,c:G-H,m:A&&A<4||"zIndex"===t?Math.round:0});u.c=d<i.length?i.substring(d,i.length):""}else u.r="display"===t&&"none"===i?RF:kF;return GO.test(i)&&(u.e=0),this._pt=u,u},qF={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},b3e=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return("top"===r||"bottom"===r||"left"===i||"right"===i)&&(e=r,r=i,i=e),t[0]=qF[r]||r,t[1]=qF[i]||i,t.join(" ")},M3e=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var u,d,m,r=t.t,i=r.style,s=t.u,o=r._gsap;if("all"===s||!0===s)i.cssText="",d=1;else for(m=(s=s.split(",")).length;--m>-1;)rc[u=s[m]]&&(d=1,u="transformOrigin"===u?Ss:X2),zp(r,u);d&&(zp(r,X2),o&&(o.svg&&r.removeAttribute("transform"),xp(r,1),o.uncache=1,OF(i)))}},YC={clearProps:function(e,t,r,i,s){if("isFromStart"!==s.data){var o=e._pt=new o3(e._pt,t,r,0,0,M3e);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Tp=[1,0,0,1,0,0],ZF={},KF=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},YF=function(e){var t=Ro(e,X2);return KF(t)?Tp:t.substr(7).match(UO).map(zn)},fV=function(e,t){var o,u,d,m,r=e._gsap||M5(e),i=e.style,s=YF(e);return r.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(d=e.transform.baseVal.consolidate().matrix).a,d.b,d.c,d.d,d.e,d.f]).join(",")?Tp:s:(s===Tp&&!e.offsetParent&&e!==e9&&!r.svg&&(d=i.display,i.display="block",(!(o=e.parentNode)||!e.offsetParent)&&(m=1,u=e.nextElementSibling,e9.appendChild(e)),s=YF(e),d?i.display=d:zp(e,"display"),m&&(u?o.insertBefore(e,u):o?o.appendChild(e):e9.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},dV=function(e,t,r,i,s,o){var we,We,Ue,u=e._gsap,d=s||fV(e,!0),m=u.xOrigin||0,y=u.yOrigin||0,b=u.xOffset||0,T=u.yOffset||0,H=d[0],A=d[1],D=d[2],R=d[3],G=d[4],$=d[5],ee=t.split(" "),re=parseFloat(ee[0])||0,le=parseFloat(ee[1])||0;r?d!==Tp&&(We=H*R-A*D)&&(Ue=re*(-A/We)+le*(H/We)-(H*$-A*G)/We,re=re*(R/We)+le*(-D/We)+(D*$-R*G)/We,le=Ue):(re=(we=WF(e)).x+(~ee[0].indexOf("%")?re/100*we.width:re),le=we.y+(~(ee[1]||ee[0]).indexOf("%")?le/100*we.height:le)),i||!1!==i&&u.smooth?(u.xOffset=b+((G=re-m)*H+($=le-y)*D)-G,u.yOffset=T+(G*A+$*R)-$):u.xOffset=u.yOffset=0,u.xOrigin=re,u.yOrigin=le,u.smooth=!!i,u.origin=t,u.originIsAbsolute=!!r,e.style[Ss]="0px 0px",o&&(_0(o,u,"xOrigin",m,re),_0(o,u,"yOrigin",y,le),_0(o,u,"xOffset",b,u.xOffset),_0(o,u,"yOffset",T,u.yOffset)),e.setAttribute("data-svg-origin",re+" "+le)},xp=function(e,t){var r=e._gsap||new SF(e);if("x"in r&&!t&&!r.uncache)return r;var y,b,T,H,A,D,R,G,$,ee,re,le,we,We,Ke,Ue,_t,At,y2,J2,V2,ft,pn,Ut,zr,B5,U5,cm,G5,wX,cc,W5,i=e.style,s=r.scaleX<0,o="px",u="deg",d=getComputedStyle(e),m=Ro(e,Ss)||"0";return y=b=T=D=R=G=$=ee=re=0,H=A=1,r.svg=!(!e.getCTM||!jF(e)),d.translate&&(("none"!==d.translate||"none"!==d.scale||"none"!==d.rotate)&&(i[X2]=("none"!==d.translate?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==d.rotate?"rotate("+d.rotate+") ":"")+("none"!==d.scale?"scale("+d.scale.split(" ").join(",")+") ":"")+("none"!==d[X2]?d[X2]:"")),i.scale=i.rotate=i.translate="none"),We=fV(e,r.svg),r.svg&&(r.uncache?(zr=e.getBBox(),m=r.xOrigin-zr.x+"px "+(r.yOrigin-zr.y)+"px",Ut=""):Ut=!t&&e.getAttribute("data-svg-origin"),dV(e,Ut||m,!!Ut||r.originIsAbsolute,!1!==r.smooth,We)),le=r.xOrigin||0,we=r.yOrigin||0,We!==Tp&&(At=We[0],y2=We[1],J2=We[2],V2=We[3],y=ft=We[4],b=pn=We[5],6===We.length?(H=Math.sqrt(At*At+y2*y2),A=Math.sqrt(V2*V2+J2*J2),D=At||y2?n9(y2,At)*E5:0,($=J2||V2?n9(J2,V2)*E5+D:0)&&(A*=Math.abs(Math.cos($*t9))),r.svg&&(y-=le-(le*At+we*J2),b-=we-(le*y2+we*V2))):(wX=We[7],U5=We[8],cm=We[9],cc=We[11],y=We[12],b=We[13],T=We[14],R=(Ke=n9(W5=We[6],G5=We[10]))*E5,Ke&&(Ut=ft*(Ue=Math.cos(-Ke))+U5*(_t=Math.sin(-Ke)),zr=pn*Ue+cm*_t,B5=W5*Ue+G5*_t,U5=ft*-_t+U5*Ue,cm=pn*-_t+cm*Ue,G5=W5*-_t+G5*Ue,cc=wX*-_t+cc*Ue,ft=Ut,pn=zr,W5=B5),G=(Ke=n9(-J2,G5))*E5,Ke&&(Ue=Math.cos(-Ke),cc=V2*(_t=Math.sin(-Ke))+cc*Ue,At=Ut=At*Ue-U5*_t,y2=zr=y2*Ue-cm*_t,J2=B5=J2*Ue-G5*_t),D=(Ke=n9(y2,At))*E5,Ke&&(Ut=At*(Ue=Math.cos(Ke))+y2*(_t=Math.sin(Ke)),zr=ft*Ue+pn*_t,y2=y2*Ue-At*_t,pn=pn*Ue-ft*_t,At=Ut,ft=zr),R&&Math.abs(R)+Math.abs(D)>359.9&&(R=D=0,G=180-G),H=zn(Math.sqrt(At*At+y2*y2+J2*J2)),A=zn(Math.sqrt(pn*pn+W5*W5)),Ke=n9(ft,pn),$=Math.abs(Ke)>2e-4?Ke*E5:0,re=cc?1/(cc<0?-cc:cc):0),r.svg&&(Ut=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!KF(Ro(e,X2)),Ut&&e.setAttribute("transform",Ut))),Math.abs($)>90&&Math.abs($)<270&&(s?(H*=-1,$+=D<=0?180:-180,D+=D<=0?180:-180):(A*=-1,$+=$<=0?180:-180)),t=t||r.uncache,r.x=y-((r.xPercent=y&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-y)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=b-((r.yPercent=b&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-b)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=T+o,r.scaleX=zn(H),r.scaleY=zn(A),r.rotation=zn(D)+u,r.rotationX=zn(R)+u,r.rotationY=zn(G)+u,r.skewX=$+u,r.skewY=ee+u,r.transformPerspective=re+o,(r.zOrigin=parseFloat(m.split(" ")[2])||0)&&(i[Ss]=XC(m)),r.xOffset=r.yOffset=0,r.force3D=k3.force3D,r.renderTransform=r.svg?S3e:BF?XF:w3e,r.uncache=0,r},XC=function(e){return(e=e.split(" "))[0]+" "+e[1]},hV=function(e,t,r){var i=ai(t);return zn(parseFloat(t)+parseFloat(C0(e,"x",r+"px",i)))+i},w3e=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,XF(e,t)},H5="0deg",Ep="0px",V5=") ",XF=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,u=r.y,d=r.z,m=r.rotation,y=r.rotationY,b=r.rotationX,T=r.skewX,H=r.skewY,A=r.scaleX,D=r.scaleY,R=r.transformPerspective,G=r.force3D,$=r.target,ee=r.zOrigin,re="",le="auto"===G&&e&&1!==e||!0===G;if(ee&&(b!==H5||y!==H5)){var Ue,we=parseFloat(y)*t9,We=Math.sin(we),Ke=Math.cos(we);we=parseFloat(b)*t9,Ue=Math.cos(we),o=hV($,o,We*Ue*-ee),u=hV($,u,-Math.sin(we)*-ee),d=hV($,d,Ke*Ue*-ee+ee)}R!==Ep&&(re+="perspective("+R+V5),(i||s)&&(re+="translate("+i+"%, "+s+"%) "),(le||o!==Ep||u!==Ep||d!==Ep)&&(re+=d!==Ep||le?"translate3d("+o+", "+u+", "+d+") ":"translate("+o+", "+u+V5),m!==H5&&(re+="rotate("+m+V5),y!==H5&&(re+="rotateY("+y+V5),b!==H5&&(re+="rotateX("+b+V5),(T!==H5||H!==H5)&&(re+="skew("+T+", "+H+V5),(1!==A||1!==D)&&(re+="scale("+A+", "+D+V5),$.style[X2]=re||"translate(0, 0)"},S3e=function(e,t){var le,we,We,Ke,Ue,r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,u=r.y,d=r.rotation,m=r.skewX,y=r.skewY,b=r.scaleX,T=r.scaleY,H=r.target,A=r.xOrigin,D=r.yOrigin,R=r.xOffset,G=r.yOffset,$=r.forceCSS,ee=parseFloat(o),re=parseFloat(u);d=parseFloat(d),m=parseFloat(m),(y=parseFloat(y))&&(m+=y=parseFloat(y),d+=y),d||m?(d*=t9,m*=t9,le=Math.cos(d)*b,we=Math.sin(d)*b,We=Math.sin(d-m)*-T,Ke=Math.cos(d-m)*T,m&&(y*=t9,Ue=Math.tan(m-y),We*=Ue=Math.sqrt(1+Ue*Ue),Ke*=Ue,y&&(Ue=Math.tan(y),le*=Ue=Math.sqrt(1+Ue*Ue),we*=Ue)),le=zn(le),we=zn(we),We=zn(We),Ke=zn(Ke)):(le=b,Ke=T,we=We=0),(ee&&!~(o+"").indexOf("px")||re&&!~(u+"").indexOf("px"))&&(ee=C0(H,"x",o,"px"),re=C0(H,"y",u,"px")),(A||D||R||G)&&(ee=zn(ee+A-(A*le+D*We)+R),re=zn(re+D-(A*we+D*Ke)+G)),(i||s)&&(Ue=H.getBBox(),ee=zn(ee+i/100*Ue.width),re=zn(re+s/100*Ue.height)),H.setAttribute("transform",Ue="matrix("+le+","+we+","+We+","+Ke+","+ee+","+re+")"),$&&(H.style[X2]=Ue)},z3e=function(e,t,r,i,s){var b,T,o=360,u=Mr(s),m=parseFloat(s)*(u&&~s.indexOf("rad")?E5:1)-i,y=i+m+"deg";return u&&("short"===(b=s.split("_")[1])&&(m%=o)!=m%180&&(m+=m<0?o:-o),"cw"===b&&m<0?m=(m+o*PF)%o-~~(m/o)*o:"ccw"===b&&m>0&&(m=(m-o*PF)%o-~~(m/o)*o)),e._pt=T=new o3(e._pt,t,r,i,m,c3e),T.e=y,T.u="deg",e._props.push(r),T},QF=function(e,t){for(var r in t)e[r]=t[r];return e},T3e=function(e,t,r){var u,d,m,y,b,T,A,i=QF({},r._gsap),o=r.style;for(d in i.svg?(m=r.getAttribute("transform"),r.setAttribute("transform",""),o[X2]=t,u=xp(r,1),zp(r,X2),r.setAttribute("transform",m)):(m=getComputedStyle(r)[X2],o[X2]=t,u=xp(r,1),o[X2]=m),rc)(m=i[d])!==(y=u[d])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(d)<0&&(b=ai(m)!==(A=ai(y))?C0(r,d,m,A):parseFloat(m),T=parseFloat(y),e._pt=new o3(e._pt,u,d,b,T-b,aV),e._pt.u=A||0,e._props.push(d));QF(u,i)};i3("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(u){return e<2?n+u:"border"+u+n});YC[e>1?"border"+n:n]=function(u,d,m,y,b){var T,H;if(arguments.length<4)return T=o.map(function(A){return ic(u,A,m)}),5===(H=T.join(" ")).split(T[0]).length?T[0]:H;T=(y+"").split(" "),H={},o.forEach(function(A,D){return H[A]=T[D]=T[D]||T[(D-1)/2|0]}),u.init(d,H,b)}});var JF={name:"css",register:lV,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var m,y,b,T,H,A,D,R,G,$,ee,re,le,we,We,Ke,o=this._props,u=e.style,d=r.vars.startAt;for(D in iV||lV(),this.styles=this.styles||FF(e),Ke=this.styles.props,this.tween=r,t)if("autoRound"!==D&&(y=t[D],!O3[D]||!zF(D,t,r,i,e,s)))if(A=YC[D],"function"==(H=typeof y)&&(H=typeof(y=y.call(r,i,e,s))),"string"===H&&~y.indexOf("random(")&&(y=Cp(y)),A)A(this,e,D,y,r)&&(We=1);else if("--"===D.substr(0,2))m=(getComputedStyle(e).getPropertyValue(D)+"").trim(),y+="",g0.lastIndex=0,g0.test(m)||(R=ai(m),G=ai(y)),G?R!==G&&(m=C0(e,D,m,G)+G):R&&(y+=R),this.add(u,"setProperty",m,y,i,s,0,0,D),o.push(D),Ke.push(D,0,u[D]);else if("undefined"!==H){if(d&&D in d?(m="function"==typeof d[D]?d[D].call(r,i,e,s):d[D],Mr(m)&&~m.indexOf("random(")&&(m=Cp(m)),ai(m+"")||(m+=k3.units[D]||ai(ic(e,D))||""),"="===(m+"").charAt(1)&&(m=ic(e,D))):m=ic(e,D),T=parseFloat(m),($="string"===H&&"="===y.charAt(1)&&y.substr(0,2))&&(y=y.substr(2)),b=parseFloat(y),D in ko&&("autoAlpha"===D&&(1===T&&"hidden"===ic(e,"visibility")&&b&&(T=0),Ke.push("visibility",0,u.visibility),_0(this,u,"visibility",T?"inherit":"hidden",b?"inherit":"hidden",!b)),"scale"!==D&&"transform"!==D&&~(D=ko[D]).indexOf(",")&&(D=D.split(",")[0])),ee=D in rc)if(this.styles.save(D),re||((le=e._gsap).renderTransform&&!t.parseTransform||xp(e,t.parseTransform),we=!1!==t.smoothOrigin&&le.smooth,(re=this._pt=new o3(this._pt,u,X2,0,1,le.renderTransform,le,0,-1)).dep=1),"scale"===D)this._pt=new o3(this._pt,le,"scaleY",le.scaleY,($?qu(le.scaleY,$+b):b)-le.scaleY||0,aV),this._pt.u=0,o.push("scaleY",D),D+="X";else{if("transformOrigin"===D){Ke.push(Ss,0,u[Ss]),y=b3e(y),le.svg?dV(e,y,0,we,0,this):((G=parseFloat(y.split(" ")[2])||0)!==le.zOrigin&&_0(this,le,"zOrigin",le.zOrigin,G),_0(this,u,D,XC(m),XC(y)));continue}if("svgOrigin"===D){dV(e,y,1,we,0,this);continue}if(D in ZF){z3e(this,le,D,T,$?qu(T,$+y):y);continue}if("smoothOrigin"===D){_0(this,le,"smooth",le.smooth,y);continue}if("force3D"===D){le[D]=y;continue}if("transform"===D){T3e(this,y,e);continue}}else D in u||(D=r9(D)||D);if(ee||(b||0===b)&&(T||0===T)&&!a3e.test(y)&&D in u)b||(b=0),(R=(m+"").substr((T+"").length))!==(G=ai(y)||(D in k3.units?k3.units[D]:R))&&(T=C0(e,D,m,G)),this._pt=new o3(this._pt,ee?le:u,D,T,($?qu(T,$+b):b)-T,ee||"px"!==G&&"zIndex"!==D||!1===t.autoRound?aV:u3e),this._pt.u=G||0,R!==G&&"%"!==G&&(this._pt.b=m,this._pt.r=l3e);else if(D in u)C3e.call(this,e,D,m,$?$+y:y);else if(D in e)this.add(e,D,m||e[D],$?$+y:y,i,s);else if("parseTransform"!==D){NH(D,y);continue}ee||(D in u?Ke.push(D,0,u[D]):Ke.push(D,1,m||e[D])),o.push(D)}We&&AF(this)},render:function(e,t){if(t.tween._time||!sV())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:ic,aliases:ko,getSetter:function(e,t,r){var i=ko[t];return i&&i.indexOf(",")<0&&(t=i),t in rc&&t!==Ss&&(e._gsap.x||ic(e,"x"))?r&&NF===r?"scale"===t?p3e:h3e:(NF=r||{})&&("scale"===t?m3e:g3e):e.style&&!HH(e.style[t])?f3e:~t.indexOf("-")?d3e:JH(e,t)},core:{_removeProperty:zp,_getMatrix:fV}};a3.utils.checkPrefix=r9,a3.core.getStyleSaver=FF,function(n,e,t,r){var i=i3(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){rc[s]=1});i3(e,function(s){k3.units[s]="deg",ZF[s]=1}),ko[i[13]]=n+","+e,i3("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var o=s.split(":");ko[o[1]]=i[o[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),i3("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){k3.units[n]="px"}),a3.registerPlugin(JF);var eB=a3.registerPlugin(JF)||a3;let tB=(()=>{class n{constructor(){this.cursorImageSubject=new $2.x,this.cursorImage$=this.cursorImageSubject.asObservable(),this.clickAnimationSubject=new $2.x,this.clickAnimation$=this.clickAnimationSubject.asObservable()}changeCursor(t){this.cursorImageSubject.next(t)}animateClick(t,r){this.clickAnimationSubject.next({x:t,y:r})}clickAnimation(t){eB.to(t,{scale:2,opacity:0,duration:.5,ease:"power2.out",onComplete:()=>this.cleanupAnimation(t)})}cleanupAnimation(t){t.parentNode.removeChild(t)}addClassToCursor(t,r){t.classList.add(r)}removeClassFromCursor(t,r){t.classList.remove(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x3e=(()=>{class n{constructor(t,r,i){this.cursorService=t,this.el=r,this.renderer=i,this.cursorImage="assets/cursor-white.png",this.cursorPos={x:0,y:0}}ngOnInit(){this.cursorService.cursorImage$.subscribe(t=>{this.cursorImage=t}),this.cursorService.clickAnimation$.subscribe(t=>{const r=this.renderer.createElement("span");this.renderer.addClass(r,"click-effect"),this.renderer.setStyle(r,"left",t.x-6+"px"),this.renderer.setStyle(r,"top",t.y-10+"px"),this.renderer.appendChild(this.el.nativeElement,r),this.cursorService.clickAnimation(r)})}onMouseMove(t){this.cursorPos={x:t.clientX,y:t.clientY}}onMouseClick(t){this.cursorService.animateClick(t.clientX,t.clientY)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(tB),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-cursor"]],hostBindings:function(t,r){1&t&&h.NdJ("mousemove",function(s){return r.onMouseMove(s)},!1,h.evT)("click",function(s){return r.onMouseClick(s)},!1,h.evT)},decls:1,vars:6,consts:[[1,"cursor"]],template:function(t,r){1&t&&h._UZ(0,"div",0),2&t&&h.Udp("left",r.cursorPos.x,"px")("top",r.cursorPos.y,"px")("background-image","url("+r.cursorImage+")")},styles:[".cursor[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:50%;pointer-events:none;z-index:10000;background-size:cover}.click-effect[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:50%;background-color:#ffffff4d;pointer-events:none}"]}),n})();function E3e(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-app-intro",2),h.NdJ("introAnimationComplete",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.introAnimationComplete=!0)})("introExitComplete",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.introExitComplete=!0)}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("animationDuration",.75)("animationType",t.animationType.FadeOut)("duration",2)}}function H3e(n,e){1&n&&h._UZ(0,"router-outlet")}function V3e(n,e){1&n&&h._UZ(0,"app-cursor")}let A3e=(()=>{class n{constructor(t,r){this.introService=t,this.deviceService=r,this.title="KingOfChess",this.introAnimationComplete=!1,this.introExitComplete=!1,this.animationType=Lo,this.subscription=new r6.w0,this.isMobile=this.deviceService.isMobile()}ngOnInit(){this.subscription.add(this.introService.animationComplete$.subscribe(()=>{this.introAnimationComplete=!0})),this.subscription.add(this.introService.introComplete$.subscribe(()=>{this.introExitComplete=!0}))}onResize(t){this.isMobile=this.deviceService.isMobile()}get cursorStyle(){return this.isMobile?"default":"none !important"}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(MH),h.Y36(lie))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("resize",function(s){return r.onResize(s)},!1,h.Jf7),2&t&&h.Udp("cursor",r.cursorStyle)},decls:3,vars:3,consts:[[3,"animationDuration","animationType","duration","introAnimationComplete","introExitComplete",4,"ngIf"],[4,"ngIf"],[3,"animationDuration","animationType","duration","introAnimationComplete","introExitComplete"]],template:function(t,r){1&t&&(h.YNc(0,E3e,1,3,"app-app-intro",0),h.YNc(1,H3e,1,0,"router-outlet",1),h.YNc(2,V3e,1,0,"app-cursor",1)),2&t&&(h.Q6J("ngIf",!r.introExitComplete),h.xp6(1),h.Q6J("ngIf",r.introAnimationComplete),h.xp6(1),h.Q6J("ngIf",!r.isMobile))},dependencies:[Hr,Ki,die,x3e]}),n})();class QC{}class pV{}class sc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof sc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new sc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof sc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(u=>-1===s.indexOf(u)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class I3e{encodeKey(e){return nB(e)}encodeValue(e){return nB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const D3e=/%(\d[a-f0-9])/gi,N3e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nB(n){return encodeURIComponent(n).replace(D3e,(e,t)=>N3e[t]??e)}function JC(n){return`${n}`}class b0{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new I3e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function L3e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,u]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],d=t.get(o)||[];d.push(u),t.set(o,d)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(JC):[JC(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new b0({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(JC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(JC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class P3e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function rB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iB(n){return typeof Blob<"u"&&n instanceof Blob}function sB(n){return typeof FormData<"u"&&n instanceof FormData}class Hp{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function k3e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new sc),this.context||(this.context=new P3e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+o}}else this.params=new b0,this.urlWithParams=t}serializeBody(){return null===this.body?null:rB(this.body)||iB(this.body)||sB(this.body)||function R3e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof b0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sB(this.body)?null:iB(this.body)?this.body.type||null:rB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof b0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let d=e.headers||this.headers,m=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce((b,T)=>b.set(T,e.setHeaders[T]),d)),e.setParams&&(m=Object.keys(e.setParams).reduce((b,T)=>b.set(T,e.setParams[T]),m)),new Hp(t,r,s,{params:m,headers:d,context:y,reportProgress:u,responseType:i,withCredentials:o})}}var Un=(()=>((Un=Un||{})[Un.Sent=0]="Sent",Un[Un.UploadProgress=1]="UploadProgress",Un[Un.ResponseHeader=2]="ResponseHeader",Un[Un.DownloadProgress=3]="DownloadProgress",Un[Un.Response=4]="Response",Un[Un.User=5]="User",Un))();class mV{constructor(e,t=200,r="OK"){this.headers=e.headers||new sc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gV extends mV{constructor(e={}){super(e),this.type=Un.ResponseHeader}clone(e={}){return new gV({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eb extends mV{constructor(e={}){super(e),this.type=Un.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new eb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class oB extends mV{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vV(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let O3e=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Hp)s=t;else{let d,m;d=i.headers instanceof sc?i.headers:new sc(i.headers),i.params&&(m=i.params instanceof b0?i.params:new b0({fromObject:i.params})),s=new Hp(t,r,void 0!==i.body?i.body:null,{headers:d,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=D1(s).pipe(Ha(d=>this.handler.handle(d)));if(t instanceof Hp||"events"===i.observe)return o;const u=o.pipe($i(d=>d instanceof eb));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,X1.U)(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe((0,X1.U)(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe((0,X1.U)(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return u.pipe((0,X1.U)(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new b0).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,vV(i,r))}post(t,r,i={}){return this.request("POST",t,vV(i,r))}put(t,r,i={}){return this.request("PUT",t,vV(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(QC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function aB(n,e){return e(n)}function F3e(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const U3e=new h.OlP("HTTP_INTERCEPTORS"),Vp=new h.OlP("HTTP_INTERCEPTOR_FNS");function G3e(){let n=null;return(e,t)=>(null===n&&(n=((0,h.f3M)(U3e,{optional:!0})??[]).reduceRight(F3e,aB)),n(e,t))}let cB=(()=>{class n extends QC{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Vp)));this.chain=r.reduceRight((i,s)=>function B3e(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),aB)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pV),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const q3e=/^\)\]\}',?\n/;let uB=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new p4.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,A)=>i.setRequestHeader(H,A.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const s=t.serializeBody();let o=null;const u=()=>{if(null!==o)return o;const H=i.statusText||"OK",A=new sc(i.getAllResponseHeaders()),D=function Z3e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new gV({headers:A,status:i.status,statusText:H,url:D}),o},d=()=>{let{headers:H,status:A,statusText:D,url:R}=u(),G=null;204!==A&&(G=typeof i.response>"u"?i.responseText:i.response),0===A&&(A=G?200:0);let $=A>=200&&A<300;if("json"===t.responseType&&"string"==typeof G){const ee=G;G=G.replace(q3e,"");try{G=""!==G?JSON.parse(G):null}catch(re){G=ee,$&&($=!1,G={error:re,text:G})}}$?(r.next(new eb({body:G,headers:H,status:A,statusText:D,url:R||void 0})),r.complete()):r.error(new oB({error:G,headers:H,status:A,statusText:D,url:R||void 0}))},m=H=>{const{url:A}=u(),D=new oB({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:A||void 0});r.error(D)};let y=!1;const b=H=>{y||(r.next(u()),y=!0);let A={type:Un.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(A.total=H.total),"text"===t.responseType&&i.responseText&&(A.partialText=i.responseText),r.next(A)},T=H=>{let A={type:Un.UploadProgress,loaded:H.loaded};H.lengthComputable&&(A.total=H.total),r.next(A)};return i.addEventListener("load",d),i.addEventListener("error",m),i.addEventListener("timeout",m),i.addEventListener("abort",m),t.reportProgress&&(i.addEventListener("progress",b),null!==s&&i.upload&&i.upload.addEventListener("progress",T)),i.send(s),r.next({type:Un.Sent}),()=>{i.removeEventListener("error",m),i.removeEventListener("abort",m),i.removeEventListener("load",d),i.removeEventListener("timeout",m),t.reportProgress&&(i.removeEventListener("progress",b),null!==s&&i.upload&&i.upload.removeEventListener("progress",T)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(yc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const yV=new h.OlP("XSRF_ENABLED"),fB=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dB=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hB{}let X3e=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ei(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve),h.LFG(h.Lbi),h.LFG(fB))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Q3e(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(yV)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(hB).getToken(),i=(0,h.f3M)(dB);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Tn=(()=>((Tn=Tn||{})[Tn.Interceptors=0]="Interceptors",Tn[Tn.LegacyInterceptors=1]="LegacyInterceptors",Tn[Tn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Tn[Tn.NoXsrfProtection=3]="NoXsrfProtection",Tn[Tn.JsonpSupport=4]="JsonpSupport",Tn[Tn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Tn))();function i9(n,e){return{\u0275kind:n,\u0275providers:e}}function J3e(...n){const e=[O3e,uB,cB,{provide:QC,useExisting:cB},{provide:pV,useExisting:uB},{provide:Vp,useValue:Q3e,multi:!0},{provide:yV,useValue:!0},{provide:hB,useClass:X3e}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const pB=new h.OlP("LEGACY_INTERCEPTOR_FN");let t4e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[J3e(i9(Tn.LegacyInterceptors,[{provide:pB,useFactory:G3e},{provide:Vp,useExisting:pB,multi:!0}]))]}),n})();var CB={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},OB={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]},jB={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},pG={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},jj={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]};const SK_firebase={projectId:"kingofchess-app",appId:"1:1026951158207:web:565e07b8cfddef20aaa90a",databaseURL:"https://kingofchess-app-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"kingofchess-app.appspot.com",apiKey:"AIzaSyBld34jAF_uoeKSfolTrYB_lf0Lg3S45lo",authDomain:"kingofchess-app.firebaseapp.com",messagingSenderId:"1026951158207",measurementId:"G-Q2L3PTPNC3"},zK="@firebase/database";let dA="";class sDe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ie.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ie.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class oDe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ie.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const xK=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sDe(e)}}catch{}return new oDe},A5=xK("localStorage"),hA=xK("sessionStorage"),s9=new ys.Yd("@firebase/database"),EK=function(){let n=1;return function(){return n++}}(),HK=function(n){const e=(0,ie.dS)(n),t=new ie.gQ;t.update(e);const r=t.digest();return ie.US.encodeByteArray(r)},Pp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Pp.apply(null,r):e+="object"==typeof r?(0,ie.Wl)(r):r,e+=" "}return e};let I5=null,VK=!0;const wr=function(...n){if(!0===VK&&(VK=!1,null===I5&&!0===hA.get("logging_enabled")&&function(n,e){(0,ie.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(s9.logLevel=ys.in.VERBOSE,I5=s9.log.bind(s9),e&&hA.set("logging_enabled",!0)):"function"==typeof n?I5=n:(I5=null,hA.remove("logging_enabled"))}(!0)),I5){const e=Pp.apply(null,n);I5(e)}},kp=function(n){return function(...e){wr(n,...e)}},pA=function(...n){const e="FIREBASE INTERNAL ERROR: "+Pp(...n);s9.error(e)},Oo=function(...n){const e=`FIREBASE FATAL ERROR: ${Pp(...n)}`;throw s9.error(e),new Error(e)},ci=function(...n){const e="FIREBASE WARNING: "+Pp(...n);s9.warn(e)},vb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},M0="[MIN_NAME]",oc="[MAX_NAME]",L5=function(n,e){if(n===e)return 0;if(n===M0||e===oc)return-1;if(e===M0||n===oc)return 1;{const t=DK(n),r=DK(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},lDe=function(n,e){return n===e?0:n<e?-1:1},Rp=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(e))},mA=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,ie.Wl)(e[r]),t+=":",t+=mA(n[e[r]]);return t+="}",t},IK=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const LK=function(n){(0,ie.hu)(!vb(n),"Invalid JSON number");const r=1023;let i,s,o,u,d;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=u+r,o=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const m=[];for(d=52;d;d-=1)m.push(o%2?1:0),o=Math.floor(o/2);for(d=11;d;d-=1)m.push(s%2?1:0),s=Math.floor(s/2);m.push(i?1:0),m.reverse();const y=m.join("");let b="";for(d=0;d<64;d+=8){let T=parseInt(y.substr(d,8),2).toString(16);1===T.length&&(T="0"+T),b+=T}return b.toLowerCase()},hDe=new RegExp("^-?(0*)\\d{1,10}$"),DK=function(n){if(hDe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},o9=function(n){try{n()}catch(e){setTimeout(()=>{throw ci("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},gDe=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Op=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class vDe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ci(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class yDe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ci(e)}}let Fp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const OK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UK="websocket",GK="long_polling";class vA{constructor(e,t,r,i,s=!1,o="",u=!1,d=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=A5.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&A5.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function WK(n,e,t){let r;if((0,ie.hu)("string"==typeof e,"typeof type must == string"),(0,ie.hu)("object"==typeof t,"typeof params must == object"),e===UK)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==GK)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _De(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Sr(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class CDe{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ie.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ie.p$)(this.counters_)}}const yA={},_A={};function CA(n){const e=n.toString();return yA[e]||(yA[e]=new CDe),yA[e]}class MDe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&o9(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class w0{constructor(e,t,r,i,s,o,u){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kp(e),this.stats_=CA(t),this.urlFn=d=>(this.appCheckToken&&(d.ac=this.appCheckToken),WK(t,GK,d))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new MDe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bA((...s)=>{const[o,u,d,m,y]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=u,this.password=d;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,u)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&OK.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){w0.forceAllow_=!0}static forceDisallow(){w0.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!w0.forceAllow_&&(w0.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ie.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,ie.h$)(t),i=IK(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ie.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class bA{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=EK(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=bA.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){wr("frame writing exception"),u.stack&&wr(u.stack),wr(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||wr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,ie.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{wr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let _b=null;typeof MozWebSocket<"u"?_b=MozWebSocket:typeof WebSocket<"u"&&(_b=WebSocket);let a9=(()=>{class n{constructor(t,r,i,s,o,u,d){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kp(this.connId),this.stats_=CA(r),this.connURL=n.connectionURL_(r,u,d,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const u={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&OK.test(location.hostname)&&(u.r="f"),r&&(u.s=r),i&&(u.ls=i),s&&(u.ac=s),o&&(u.p=o),WK(t,UK,u)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,A5.set("previous_websocket_failure",!0);try{let i;if((0,ie.Yr)()){i={headers:{"User-Agent":`Firebase/5/${dA}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(i.proxy={origin:u})}this.mySock=new _b(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==_b&&!n.forceDisallow_}static previouslyFailed(){return A5.isInMemoryStorage||!0===A5.get("previous_websocket_failure")}markConnectionHealthy(){A5.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,ie.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,ie.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=IK(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),XK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[w0,a9]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=a9&&a9.isAvailable();let i=r&&!a9.previouslyFailed();if(t.webSocketOnly&&(r||ci("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[a9];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class iY{constructor(e,t,r,i,s,o,u,d,m,y){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kp("c:"+this.id+":"),this.transportManager_=new XK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Op(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Rp("t",e),r=Rp("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Rp("t",e),r=Rp("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Rp("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?pA("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pA("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ci("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Op(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Op(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(A5.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sY{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class oY{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ie.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,ie.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Cb extends oY{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cb}getInitialEvent(e){return(0,ie.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const aY=32,cY=768;class Bt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Dt(){return new Bt("")}function ht(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function S0(n){return n.pieces_.length-n.pieceNum_}function o2(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Bt(n.pieces_,e)}function wA(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Bp(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function lY(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Bt(e,0)}function U2(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Bt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Bt(t,0)}function pt(n){return n.pieceNum_>=n.pieces_.length}function Ti(n,e){const t=ht(n),r=ht(e);if(null===t)return e;if(t===r)return Ti(o2(n),o2(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function SA(n,e){if(S0(n)!==S0(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function x4(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(S0(n)>S0(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class jDe{constructor(e,t){this.errorPrefix_=t,this.parts_=Bp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,ie.ug)(this.parts_[r]);uY(this)}}function uY(n){if(n.byteLength_>cY)throw new Error(n.errorPrefix_+"has a key path longer than "+cY+" bytes ("+n.byteLength_+").");if(n.parts_.length>aY)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aY+") or object contains a cycle "+D5(n))}function D5(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class zA extends oY{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zA}getInitialEvent(e){return(0,ie.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Up=1e3;let Mb,N5=(()=>{class n extends sY{constructor(t,r,i,s,o,u,d,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=n.nextPersistentConnectionId_++,this.log_=kp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Up,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zA.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Cb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_((0,ie.Wl)(o)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new ie.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const d=u.d;"ok"===u.s?r.resolve(d):r.reject(d)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+o),this.listens.has(u)||this.listens.set(u,new Map),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(u).has(o),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(u).set(o,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,d=>{const m=d.d,y=d.s;n.warnOnListenWarnings_(m,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",d),"ok"!==y&&this.removeListen_(i,s),t.onComplete&&t.onComplete(y,m))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,ie.r3)(t,"w")){const i=(0,ie.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ci(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ie.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,ie.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,u=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const u={p:r,d:i};void 0!==o&&(u.h=o),this.outstandingPuts_.push({action:t,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ie.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):pA("Unrecognized action received from server: "+(0,ie.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Up,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Up,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Up),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ne.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,u=t.lastSessionId;let d=!1,m=null;const y=function(){m?m.close():(d=!0,s())};t.realtime_={close:y,sendRequest:function(H){(0,ie.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(H)}};const T=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[H,A]=yield Promise.all([t.authTokenProvider_.getToken(T),t.appCheckTokenProvider_.getToken(T)]);d?wr("getToken() completed but was canceled"):(wr("getToken() completed. Creating connection."),t.authToken_=H&&H.accessToken,t.appCheckToken_=A&&A.token,m=new iY(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,D=>{ci(D+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},u))}catch(H){t.log_("Failed to get token: "+H),d||(t.repoInfo_.nodeAdmin&&ci(H),y())}}})()}interrupt(t){wr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){wr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Up,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>mA(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Bt(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){wr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){wr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,ie.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+dA.replace(/\./g,"-")]=1,(0,ie.uI)()?t["framework.cordova"]=1:(0,ie.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Cb.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class mt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new mt(e,t)}}class bb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new mt(M0,e),i=new mt(M0,t);return 0!==this.compare(r,i)}minPost(){return mt.MIN}}class hY extends bb{static get __EMPTY_NODE(){return Mb}static set __EMPTY_NODE(e){Mb=e}compare(e,t){return L5(e.name,t.name)}isDefinedOn(e){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return mt.MIN}maxPost(){return new mt(oc,Mb)}makePost(e,t){return(0,ie.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new mt(e,Mb)}toString(){return".key"}}const Fo=new hY;class wb{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let xA,zs=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??c3.EMPTY_NODE,this.right=o??c3.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return c3.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return c3.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class c3{constructor(e,t=c3.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new c3(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,zs.BLACK,null,null))}remove(e){return new c3(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zs.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new wb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new wb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new wb(this.root_,null,this.comparator_,!0,e)}}function JDe(n,e){return L5(n.name,e.name)}function TA(n,e){return L5(n,e)}c3.EMPTY_NODE=new class QDe{copy(e,t,r,i,s){return this}insert(e,t,r){return new zs(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pY=function(n){return"number"==typeof n?"number:"+LK(n):"string:"+n},mY=function(n){if(n.isLeafNode()){const e=n.val();(0,ie.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ie.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===xA||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===xA||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let gY,vY,yY,c9=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),mY(this.priorityNode_)}static set __childrenNodeConstructor(t){gY=t}static get __childrenNodeConstructor(){return gY}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pt(t)?this:".priority"===ht(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=ht(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,ie.hu)(".priority"!==i||1===S0(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(o2(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+pY(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?LK(this.value_):this.value_,this.lazyHash_=HK(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,ie.hu)(s>=0,"Unknown leaf type: "+r),(0,ie.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const g2=new class rNe extends bb{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?L5(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return mt.MIN}maxPost(){return new mt(oc,new c9("[PRIORITY-POST]",yY))}makePost(e,t){const r=vY(e);return new mt(t,new c9("[PRIORITY-POST]",r))}toString(){return".priority"}},iNe=Math.log(2);class sNe{constructor(e){this.count=parseInt(Math.log(e+1)/iNe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Sb=function(n,e,t,r){n.sort(e);const i=function(d,m){const y=m-d;let b,T;if(0===y)return null;if(1===y)return b=n[d],T=t?t(b):b,new zs(T,b.node,zs.BLACK,null,null);{const H=parseInt(y/2,10)+d,A=i(d,H),D=i(H+1,m);return b=n[H],T=t?t(b):b,new zs(T,b.node,zs.BLACK,A,D)}},u=function(d){let m=null,y=null,b=n.length;const T=function(A,D){const R=b-A,G=b;b-=A;const $=i(R+1,G),ee=n[R],re=t?t(ee):ee;H(new zs(re,ee.node,D,null,$))},H=function(A){m?(m.left=A,m=A):(y=A,m=A)};for(let A=0;A<d.count;++A){const D=d.nextBitIsOne(),R=Math.pow(2,d.count-(A+1));D?T(R,zs.BLACK):(T(R,zs.BLACK),T(R,zs.RED))}return y}(new sNe(n.length));return new c3(r||e,u)};let EA;const l9={};class ac{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ie.hu)(l9&&g2,"ChildrenNode.ts has not been loaded"),EA=EA||new ac({".priority":l9},{".priority":g2}),EA}get(e){const t=(0,ie.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof c3?t:null}hasIndex(e){return(0,ie.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ie.hu)(e!==Fo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(mt.Wrap);let u,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();u=i?Sb(r,e.getCompare()):l9;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const y=Object.assign({},this.indexes_);return y[d]=u,new ac(y,m)}addToIndexes(e,t){const r=(0,ie.UI)(this.indexes_,(i,s)=>{const o=(0,ie.DV)(this.indexSet_,s);if((0,ie.hu)(o,"Missing index implementation for "+s),i===l9){if(o.isDefinedOn(e.node)){const u=[],d=t.getIterator(mt.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&u.push(m),m=d.getNext();return u.push(e),Sb(u,o.getCompare())}return l9}{const u=t.get(e.name);let d=i;return u&&(d=d.remove(new mt(e.name,u))),d.insert(e,e.node)}});return new ac(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,ie.UI)(this.indexes_,i=>{if(i===l9)return i;{const s=t.get(e.name);return s?i.remove(new mt(e.name,s)):i}});return new ac(r,this.indexSet_)}}let Gp,it=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mY(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gp||(Gp=new n(new c3(TA),null,ac.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gp}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Gp:r}}getChild(t){const r=ht(t);return null===r?this:this.getImmediateChild(r).getChild(o2(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,ie.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new mt(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const u=s.isEmpty()?Gp:this.priorityNode_;return new n(s,u,o)}}updateChild(t,r){const i=ht(t);if(null===i)return r;{(0,ie.hu)(".priority"!==ht(t)||1===S0(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(o2(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(g2,(u,d)=>{r[u]=d.val(t),i++,o&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):o=!1}),!t&&o&&s<2*i){const u=[];for(const d in r)u[d]=r[d];return u}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+pY(this.getPriority().val())+":"),this.forEachChild(g2,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":HK(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new mt(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new mt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new mt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,mt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,mt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wp?-1:0}withIndex(t){if(t===Fo||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Fo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(g2),s=r.getIterator(g2);let o=i.getNext(),u=s.getNext();for(;o&&u;){if(o.name!==u.name||!o.node.equals(u.node))return!1;o=i.getNext(),u=s.getNext()}return null===o&&null===u}return!1}return!1}}resolveIndex_(t){return t===Fo?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Wp=new class oNe extends it{constructor(){super(new c3(TA),it.EMPTY_NODE,ac.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return it.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(mt,{MIN:{value:new mt(M0,it.EMPTY_NODE)},MAX:{value:new mt(oc,Wp)}}),hY.__EMPTY_NODE=it.EMPTY_NODE,c9.__childrenNodeConstructor=it,function eNe(n){xA=n}(Wp),function nNe(n){yY=n}(Wp);const aNe=!0;function Q2(n,e=null){if(null===n)return it.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ie.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new c9(n,Q2(e));if(n instanceof Array||!aNe){let t=it.EMPTY_NODE;return Sr(n,(r,i)=>{if((0,ie.r3)(n,r)&&"."!==r.substring(0,1)){const s=Q2(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Q2(e))}{const t=[];let r=!1;if(Sr(n,(o,u)=>{if("."!==o.substring(0,1)){const d=Q2(u);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),t.push(new mt(o,d)))}}),0===t.length)return it.EMPTY_NODE;const s=Sb(t,JDe,o=>o.name,TA);if(r){const o=Sb(t,g2.getCompare());return new it(s,Q2(e),new ac({".priority":o},{".priority":g2}))}return new it(s,Q2(e),ac.Default)}}!function tNe(n){vY=n}(Q2);class HA extends bb{constructor(e){super(),this.indexPath_=e,(0,ie.hu)(!pt(e)&&".priority"!==ht(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?L5(e.name,t.name):s}makePost(e,t){const r=Q2(e),i=it.EMPTY_NODE.updateChild(this.indexPath_,r);return new mt(t,i)}maxPost(){const e=it.EMPTY_NODE.updateChild(this.indexPath_,Wp);return new mt(oc,e)}toString(){return Bp(this.indexPath_,0).join("/")}}const VA=new class cNe extends bb{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?L5(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return mt.MIN}maxPost(){return mt.MAX}makePost(e,t){const r=Q2(e);return new mt(t,r)}toString(){return".value"}};function $p(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class IA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=g2}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:M0}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===g2}copy(){const e=new IA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function CY(n){const e={};if(n.isDefault())return e;let t;if(n.index_===g2?t="$priority":n.index_===VA?t="$value":n.index_===Fo?t="$key":((0,ie.hu)(n.index_ instanceof HA,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ie.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function bY(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==g2&&(e.i=n.index_.toString()),e}class Tb extends sY{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=kp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ie.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Tb.getListenId_(e,r),u={};this.listens_[o]=u;const d=CY(e._queryParams);this.restRequest_(s+".json",d,(m,y)=>{let b=y;if(404===m&&(b=null,m=null),null===m&&this.onDataUpdate_(s,b,!1,r),(0,ie.DV)(this.listens_,o)===u){let T;T=m?401===m?"permission_denied":"rest_error:"+m:"ok",i(T,null)}})}unlisten(e,t){const r=Tb.getListenId_(e,t);delete this.listens_[r]}get(e){const t=CY(e._queryParams),r=e._path.toString(),i=new ie.BH;return this.restRequest_(r+".json",t,(s,o)=>{let u=o;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(t);this.log_("Sending REST request for "+o);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&4===u.readyState){this.log_("REST Response for "+o+" received. status:",u.status,"response:",u.responseText);let d=null;if(u.status>=200&&u.status<300){try{d=(0,ie.cI)(u.responseText)}catch{ci("Failed to parse JSON response for "+o+": "+u.responseText)}r(null,d)}else 401!==u.status&&404!==u.status&&ci("Got unsuccessful REST response for "+o+" Status: "+u.status),r(u.status);r=null}},u.open("GET",o,!0),u.send()})}}class gNe{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xb(){return{value:null,children:new Map}}function f9(n,e,t){if(pt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=ht(e);n.children.has(r)||n.children.set(r,xb()),f9(n.children.get(r),e=o2(e),t)}}function PA(n,e,t){null!==n.value?t(e,n.value):function vNe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{PA(i,new Bt(e.toString()+"/"+r),t)})}class yNe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Sr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class bNe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new yNe(e);const r=1e4+2e4*Math.random();Op(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Sr(e,(i,s)=>{s>0&&(0,ie.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Op(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var E4=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(E4||(E4={})),E4))();function OA(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Eb{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=E4.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pt(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Bt(e));return new Eb(Dt(),t,this.revert)}}return(0,ie.hu)(ht(this.path)===e,"operationForChild called for unrelated child."),new Eb(o2(this.path),this.affectedTree,this.revert)}}class P5{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=E4.OVERWRITE}operationForChild(e){return pt(this.path)?new P5(this.source,Dt(),this.snap.getImmediateChild(e)):new P5(this.source,o2(this.path),this.snap)}}class d9{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=E4.MERGE}operationForChild(e){if(pt(this.path)){const t=this.children.subtree(new Bt(e));return t.isEmpty()?null:t.value?new P5(this.source,Dt(),t.value):new d9(this.source,Dt(),t)}return(0,ie.hu)(ht(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new d9(this.source,o2(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class z0{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pt(e))return this.isFullyInitialized()&&!this.filtered_;const t=ht(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Kp(n,e,t,r,i,s){const o=r.filter(u=>u.type===t);o.sort((u,d)=>function zNe(n,e,t){if(null==e.childName||null==t.childName)throw(0,ie.g5)("Should only compare child_ events.");const r=new mt(e.childName,e.snapshotNode),i=new mt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,u,d)),o.forEach(u=>{const d=function SNe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,u,s);i.forEach(m=>{m.respondsTo(u.type)&&e.push(m.createEvent(d,n.query_))})})}function Hb(n,e){return{eventCache:n,serverCache:e}}function Yp(n,e,t,r){return Hb(new z0(e,t,r),n.serverCache)}function wY(n,e,t,r){return Hb(n.eventCache,new z0(e,t,r))}function Vb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function k5(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let FA;class v2{constructor(e,t=(()=>(FA||(FA=new c3(lDe)),FA))()){this.value=e,this.children=t}static fromObject(e){let t=new v2(null);return Sr(e,(r,i)=>{t=t.set(new Bt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Dt(),value:this.value};if(pt(e))return null;{const r=ht(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(o2(e),t);return null!=s?{path:U2(new Bt(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pt(e))return this;{const t=ht(e),r=this.children.get(t);return null!==r?r.subtree(o2(e)):new v2(null)}}set(e,t){if(pt(e))return new v2(t,this.children);{const r=ht(e),s=(this.children.get(r)||new v2(null)).set(o2(e),t),o=this.children.insert(r,s);return new v2(this.value,o)}}remove(e){if(pt(e))return this.children.isEmpty()?new v2(null):new v2(null,this.children);{const t=ht(e),r=this.children.get(t);if(r){const i=r.remove(o2(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new v2(null):new v2(this.value,s)}return this}}get(e){if(pt(e))return this.value;{const t=ht(e),r=this.children.get(t);return r?r.get(o2(e)):null}}setTree(e,t){if(pt(e))return t;{const r=ht(e),s=(this.children.get(r)||new v2(null)).setTree(o2(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new v2(this.value,o)}}fold(e){return this.fold_(Dt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(U2(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Dt(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(pt(e))return null;{const s=ht(e),o=this.children.get(s);return o?o.findOnPath_(o2(e),U2(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Dt(),t)}foreachOnPath_(e,t,r){if(pt(e))return this;{this.value&&r(t,this.value);const i=ht(e),s=this.children.get(i);return s?s.foreachOnPath_(o2(e),U2(t,i),r):new v2(null)}}foreach(e){this.foreach_(Dt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(U2(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ts{constructor(e){this.writeTree_=e}static empty(){return new Ts(new v2(null))}}function Xp(n,e,t){if(pt(e))return new Ts(new v2(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Ti(i,e);return s=s.updateChild(o,t),new Ts(n.writeTree_.set(i,s))}{const i=new v2(t),s=n.writeTree_.setTree(e,i);return new Ts(s)}}}function BA(n,e,t){let r=n;return Sr(t,(i,s)=>{r=Xp(r,U2(e,i),s)}),r}function SY(n,e){if(pt(e))return Ts.empty();{const t=n.writeTree_.setTree(e,new v2(null));return new Ts(t)}}function UA(n,e){return null!=R5(n,e)}function R5(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ti(t.path,e)):null}function zY(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(g2,(r,i)=>{e.push(new mt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new mt(r,i.value))}),e}function T0(n,e){if(pt(e))return n;{const t=R5(n,e);return new Ts(null!=t?new v2(t):n.writeTree_.subtree(e))}}function GA(n){return n.writeTree_.isEmpty()}function h9(n,e){return TY(Dt(),n.writeTree_,e)}function TY(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,ie.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=TY(U2(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(U2(n,".priority"),r)),t}}function Ab(n,e){return AY(e,n)}function ANe(n,e){if(n.snap)return x4(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&x4(U2(n.path,t),e))return!0;return!1}function LNe(n){return n.visible}function xY(n,e,t){let r=Ts.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let u;if(s.snap)x4(t,o)?(u=Ti(t,o),r=Xp(r,u,s.snap)):x4(o,t)&&(u=Ti(o,t),r=Xp(r,Dt(),s.snap.getChild(u)));else{if(!s.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(x4(t,o))u=Ti(t,o),r=BA(r,u,s.children);else if(x4(o,t))if(u=Ti(o,t),pt(u))r=BA(r,Dt(),s.children);else{const d=(0,ie.DV)(s.children,ht(u));if(d){const m=d.getChild(o2(u));r=Xp(r,Dt(),m)}}}}}return r}function EY(n,e,t,r,i){if(r||i){const s=T0(n.visibleWrites,e);return!i&&GA(s)?t:i||null!=t||UA(s,Dt())?h9(xY(n.allWrites,function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(x4(m.path,e)||x4(e,m.path))},e),t||it.EMPTY_NODE):null}{const s=R5(n.visibleWrites,e);if(null!=s)return s;{const o=T0(n.visibleWrites,e);return GA(o)?t:null!=t||UA(o,Dt())?h9(o,t||it.EMPTY_NODE):null}}}function Ib(n,e,t,r){return EY(n.writeTree,n.treePath,e,t,r)}function WA(n,e){return function DNe(n,e,t){let r=it.EMPTY_NODE;const i=R5(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(g2,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=T0(n.visibleWrites,e);return t.forEachChild(g2,(o,u)=>{const d=h9(T0(s,new Bt(o)),u);r=r.updateImmediateChild(o,d)}),zY(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return zY(T0(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function HY(n,e,t,r){return function NNe(n,e,t,r,i){(0,ie.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=U2(e,t);if(UA(n.visibleWrites,s))return null;{const o=T0(n.visibleWrites,s);return GA(o)?i.getChild(t):h9(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Lb(n,e){return function kNe(n,e){return R5(n.visibleWrites,e)}(n.writeTree,U2(n.treePath,e))}function jA(n,e,t){return function PNe(n,e,t,r){const i=U2(e,t),s=R5(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?h9(T0(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function VY(n,e){return AY(U2(n.treePath,e),n.writeTree)}function AY(n,e){return{treePath:n,writeTree:e}}class BNe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,ie.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,$p(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function jp(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function u9(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,ie.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,$p(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const IY=new class UNe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class $A{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new z0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jA(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:k5(this.viewCache_),s=function FNe(n,e,t,r,i,s){return function RNe(n,e,t,r,i,s,o){let u;const d=T0(n.visibleWrites,e),m=R5(d,Dt());if(null!=m)u=m;else{if(null==t)return[];u=h9(d,t)}if(u=u.withIndex(o),u.isEmpty()||u.isLeafNode())return[];{const y=[],b=o.getCompare(),T=s?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o);let H=T.getNext();for(;H&&y.length<i;)0!==b(H,r)&&y.push(H),H=T.getNext();return y}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function LY(n,e,t,r,i,s){const o=e.eventCache;if(null!=Lb(r,t))return e;{let u,d;if(pt(t))if((0,ie.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=k5(e),b=WA(r,m instanceof it?m:it.EMPTY_NODE);u=n.filter.updateFullNode(e.eventCache.getNode(),b,s)}else{const m=Ib(r,k5(e));u=n.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const m=ht(t);if(".priority"===m){(0,ie.hu)(1===S0(t),"Can't have a priority with additional path components");const y=o.getNode();d=e.serverCache.getNode();const b=HY(r,t,y,d);u=null!=b?n.filter.updatePriority(y,b):o.getNode()}else{const y=o2(t);let b;if(o.isCompleteForChild(m)){d=e.serverCache.getNode();const T=HY(r,t,o.getNode(),d);b=null!=T?o.getNode().getImmediateChild(m).updateChild(y,T):o.getNode().getImmediateChild(m)}else b=jA(r,m,e.serverCache);u=null!=b?n.filter.updateChild(o.getNode(),m,b,y,i,s):o.getNode()}}return Yp(e,u,o.isFullyInitialized()||pt(t),n.filter.filtersNodes())}}function Db(n,e,t,r,i,s,o,u){const d=e.serverCache;let m;const y=o?n.filter:n.filter.getIndexedFilter();if(pt(t))m=y.updateFullNode(d.getNode(),r,null);else if(y.filtersNodes()&&!d.isFiltered()){const H=d.getNode().updateChild(t,r);m=y.updateFullNode(d.getNode(),H,null)}else{const H=ht(t);if(!d.isCompleteForPath(t)&&S0(t)>1)return e;const A=o2(t),R=d.getNode().getImmediateChild(H).updateChild(A,r);m=".priority"===H?y.updatePriority(d.getNode(),R):y.updateChild(d.getNode(),H,R,A,IY,null)}const b=wY(e,m,d.isFullyInitialized()||pt(t),y.filtersNodes());return LY(n,b,t,i,new $A(i,b,s),u)}function qA(n,e,t,r,i,s,o){const u=e.eventCache;let d,m;const y=new $A(i,e,s);if(pt(t))m=n.filter.updateFullNode(e.eventCache.getNode(),r,o),d=Yp(e,m,!0,n.filter.filtersNodes());else{const b=ht(t);if(".priority"===b)m=n.filter.updatePriority(e.eventCache.getNode(),r),d=Yp(e,m,u.isFullyInitialized(),u.isFiltered());else{const T=o2(t),H=u.getNode().getImmediateChild(b);let A;if(pt(T))A=r;else{const D=y.getCompleteChild(b);A=null!=D?".priority"===wA(T)&&D.getChild(lY(T)).isEmpty()?D:D.updateChild(T,r):it.EMPTY_NODE}d=H.equals(A)?e:Yp(e,n.filter.updateChild(u.getNode(),b,A,T,y,o),u.isFullyInitialized(),n.filter.filtersNodes())}}return d}function DY(n,e){return n.eventCache.isCompleteForChild(e)}function NY(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ZA(n,e,t,r,i,s,o,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m,d=e;m=pt(t)?r:new v2(null).setTree(t,r);const y=e.serverCache.getNode();return m.children.inorderTraversal((b,T)=>{if(y.hasChild(b)){const A=NY(0,e.serverCache.getNode().getImmediateChild(b),T);d=Db(n,d,new Bt(b),A,i,s,o,u)}}),m.children.inorderTraversal((b,T)=>{const H=!e.serverCache.isCompleteForChild(b)&&null===T.value;if(!y.hasChild(b)&&!H){const D=NY(0,e.serverCache.getNode().getImmediateChild(b),T);d=Db(n,d,new Bt(b),D,i,s,o,u)}}),d}function ePe(n,e){const t=k5(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!pt(e)&&!t.getImmediateChild(ht(e)).isEmpty())?t.getChild(e):null}function RY(n,e,t,r){e.type===E4.MERGE&&null!==e.source.queryId&&((0,ie.hu)(k5(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(Vb(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function jNe(n,e,t,r,i){const s=new BNe;let o,u;if(t.type===E4.OVERWRITE){const m=t;m.source.fromUser?o=qA(n,e,m.path,m.snap,r,i,s):((0,ie.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered()&&!pt(m.path),o=Db(n,e,m.path,m.snap,r,i,u,s))}else if(t.type===E4.MERGE){const m=t;m.source.fromUser?o=function qNe(n,e,t,r,i,s,o){let u=e;return r.foreach((d,m)=>{const y=U2(t,d);DY(e,ht(y))&&(u=qA(n,u,y,m,i,s,o))}),r.foreach((d,m)=>{const y=U2(t,d);DY(e,ht(y))||(u=qA(n,u,y,m,i,s,o))}),u}(n,e,m.path,m.children,r,i,s):((0,ie.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered(),o=ZA(n,e,m.path,m.children,r,i,u,s))}else if(t.type===E4.ACK_USER_WRITE){const m=t;o=m.revert?function YNe(n,e,t,r,i,s){let o;if(null!=Lb(r,t))return e;{const u=new $A(r,e,i),d=e.eventCache.getNode();let m;if(pt(t)||".priority"===ht(t)){let y;if(e.serverCache.isFullyInitialized())y=Ib(r,k5(e));else{const b=e.serverCache.getNode();(0,ie.hu)(b instanceof it,"serverChildren would be complete if leaf node"),y=WA(r,b)}m=n.filter.updateFullNode(d,y,s)}else{const y=ht(t);let b=jA(r,y,e.serverCache);null==b&&e.serverCache.isCompleteForChild(y)&&(b=d.getImmediateChild(y)),m=null!=b?n.filter.updateChild(d,y,b,o2(t),u,s):e.eventCache.getNode().hasChild(y)?n.filter.updateChild(d,y,it.EMPTY_NODE,o2(t),u,s):d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ib(r,k5(e)),o.isLeafNode()&&(m=n.filter.updateFullNode(m,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Lb(r,Dt()),Yp(e,m,o,n.filter.filtersNodes())}}(n,e,m.path,r,i,s):function ZNe(n,e,t,r,i,s,o){if(null!=Lb(i,t))return e;const u=e.serverCache.isFiltered(),d=e.serverCache;if(null!=r.value){if(pt(t)&&d.isFullyInitialized()||d.isCompleteForPath(t))return Db(n,e,t,d.getNode().getChild(t),i,s,u,o);if(pt(t)){let m=new v2(null);return d.getNode().forEachChild(Fo,(y,b)=>{m=m.set(new Bt(y),b)}),ZA(n,e,t,m,i,s,u,o)}return e}{let m=new v2(null);return r.foreach((y,b)=>{const T=U2(t,y);d.isCompleteForPath(T)&&(m=m.set(y,d.getNode().getChild(T)))}),ZA(n,e,t,m,i,s,u,o)}}(n,e,m.path,m.affectedTree,r,i,s)}else{if(t.type!==E4.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+t.type);o=function KNe(n,e,t,r,i){const s=e.serverCache;return LY(n,wY(e,s.getNode(),s.isFullyInitialized()||pt(t),s.isFiltered()),t,r,IY,i)}(n,e,t.path,r,s)}const d=s.getChanges();return function $Ne(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Vb(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function _Y(n){return{type:"value",snapshotNode:n}}(Vb(e)))}}(e,o,d),{viewCache:o,changes:d}}(n.processor_,i,e,t,r);return function WNe(n,e){(0,ie.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ie.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function OY(n,e,t,r){return function wNe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function lNe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Kp(n,i,"child_removed",e,r,t),Kp(n,i,"child_added",e,r,t),Kp(n,i,"child_moved",s,r,t),Kp(n,i,"child_changed",e,r,t),Kp(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let Nb,kb;function KA(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,ie.hu)(null!=s,"SyncTree gave us an op for an invalid query."),RY(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(RY(o,e,t,r));return s}}function x0(n,e){let t=null;for(const r of n.views.values())t=t||ePe(r,e);return t}class jY{constructor(e){this.listenProvider_=e,this.syncPointTree_=new v2(null),this.pendingWriteTree_=function ONe(){return{visibleWrites:Ts.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function YA(n,e,t,r,i){return function xNe(n,e,t,r,i){(0,ie.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Xp(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?p9(n,new P5({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function H0(n,e,t=!1){const r=function HNe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function VNe(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);(0,ie.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const u=n.allWrites[o];u.visible&&(o>=t&&ANe(u,r.path)?i=!1:x4(r.path,u.path)&&(s=!0)),o--}return!!i&&(s?(function INe(n){n.visibleWrites=xY(n.allWrites,LNe,Dt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=SY(n.visibleWrites,r.path):Sr(r.children,d=>{n.visibleWrites=SY(n.visibleWrites,U2(r.path,d))}),!0))}(n.pendingWriteTree_,e)){let s=new v2(null);return null!=r.snap?s=s.set(Dt(),!0):Sr(r.children,o=>{s=s.set(new Bt(o),!0)}),p9(n,new Eb(r.path,s,t))}return[]}function Qp(n,e,t){return p9(n,new P5({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Ob(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,u)=>{const m=x0(u,Ti(o,e));if(m)return m});return EY(i,e,s,t,!0)}function p9(n,e){return qY(e,n.syncPointTree_,null,Ab(n.pendingWriteTree_,Dt()))}function qY(n,e,t,r){if(pt(n.path))return ZY(n,e,t,r);{const i=e.get(Dt());null==t&&null!=i&&(t=x0(i,Dt()));let s=[];const o=ht(n.path),u=n.operationForChild(o),d=e.children.get(o);if(d&&u){const m=t?t.getImmediateChild(o):null,y=VY(r,o);s=s.concat(qY(u,d,m,y))}return i&&(s=s.concat(KA(i,n,r,t))),s}}function ZY(n,e,t,r){const i=e.get(Dt());null==t&&null!=i&&(t=x0(i,Dt()));let s=[];return e.children.inorderTraversal((o,u)=>{const d=t?t.getImmediateChild(o):null,m=VY(r,o),y=n.operationForChild(o);y&&(s=s.concat(ZY(y,u,d,m)))}),i&&(s=s.concat(KA(i,n,r,t))),s}function QA(n,e){return n.tagToQueryMap.get(e)}function JA(n){const e=n.indexOf("$");return(0,ie.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Bt(n.substr(0,e))}}function eI(n,e,t){const r=n.syncPointTree_.get(e);return(0,ie.hu)(r,"Missing sync point for query tag that we're tracking"),KA(r,t,Ab(n.pendingWriteTree_,e),null)}class tI{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new tI(t)}node(){return this.node_}}class nI{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=U2(this.path_,e);return new nI(this.syncTree_,t)}node(){return Ob(this.syncTree_,this.path_)}}const bPe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},YY=function(n,e,t){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?MPe(n[".sv"],e,t):"object"==typeof n[".sv"]?wPe(n[".sv"],e):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},MPe=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},wPe=function(n,e,t){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,ie.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,ie.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},XY=function(n,e,t,r){return iI(e,new nI(t,n),r)},rI=function(n,e,t){return iI(n,new tI(e),t)};function iI(n,e,t){const r=n.getPriority().val(),i=YY(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,u=YY(o.getValue(),e,t);return u!==o.getValue()||i!==o.getPriority().val()?new c9(u,Q2(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new c9(i))),o.forEachChild(g2,(u,d)=>{const m=iI(d,e.getImmediateChild(u),t);m!==d&&(s=s.updateImmediateChild(u,m))}),s}}class sI{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Bb(n,e){let t=e instanceof Bt?e:new Bt(e),r=n,i=ht(t);for(;null!==i;){const s=(0,ie.DV)(r.node.children,i)||{children:{},childCount:0};r=new sI(i,r,s),t=o2(t),i=ht(t)}return r}function O5(n){return n.node.value}function oI(n,e){n.node.value=e,aI(n)}function QY(n){return n.node.childCount>0}function Ub(n,e){Sr(n.node.children,(t,r)=>{e(new sI(t,n,r))})}function JY(n,e,t,r){t&&!r&&e(n),Ub(n,i=>{JY(i,e,!0,r)}),t&&r&&e(n)}function tm(n){return new Bt(null===n.parent?n.name:tm(n.parent)+"/"+n.name)}function aI(n){null!==n.parent&&function TPe(n,e,t){const r=function SPe(n){return void 0===O5(n)&&!QY(n)}(t),i=(0,ie.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,aI(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,aI(n))}(n.parent,n.name,n)}const xPe=/[\[\].#$\/\u0000-\u001F\u007F]/,EPe=/[\[\].#$\u0000-\u001F\u007F]/,cI=10485760,Gb=function(n){return"string"==typeof n&&0!==n.length&&!xPe.test(n)},rm=function(n,e,t){const r=t instanceof Bt?new jDe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+D5(r));if("function"==typeof e)throw new Error(n+"contains a function "+D5(r)+" with contents = "+e.toString());if(vb(e))throw new Error(n+"contains "+e.toString()+" "+D5(r));if("string"==typeof e&&e.length>cI/3&&(0,ie.ug)(e)>cI)throw new Error(n+"contains a string greater than "+cI+" utf8 bytes "+D5(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Sr(e,(o,u)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Gb(o)))throw new Error(n+" contains an invalid key ("+o+") "+D5(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $De(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ie.ug)(e),uY(n)})(r,o),rm(n,u,r),function qDe(n){const e=n.parts_.pop();n.byteLength_-=(0,ie.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+D5(r)+" in addition to actual children.")}},nX=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Gb(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!EPe.test(n)}(n)}(t))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class IPe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function B3(n,e,t){(function Wb(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!SA(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function iX(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(LPe(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>x4(r,e)||x4(e,r))}function LPe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();I5&&wr("event: "+t.toString()),o9(r)}}}const sX="repo_interrupt",DPe=25;class NPe{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IPe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xb(),this.transactionQueueTree_=new sI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oX(n){const t=n.infoData_.getNode(new Bt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sm(n){return bPe({timestamp:oX(n)})}function aX(n,e,t,r,i){n.dataUpdateCount++;const s=new Bt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const d=(0,ie.UI)(t,m=>Q2(m));o=function mPe(n,e,t,r){const i=QA(n,r);if(i){const s=JA(i),o=s.path,u=s.queryId,d=Ti(o,e),m=v2.fromObject(t);return eI(n,o,new d9(OA(u),d,m))}return[]}(n.serverSyncTree_,s,d,i)}else{const d=Q2(t);o=function $Y(n,e,t,r){const i=QA(n,r);if(null!=i){const s=JA(i),o=s.path,u=s.queryId,d=Ti(o,e);return eI(n,o,new P5(OA(u),d,t))}return[]}(n.serverSyncTree_,s,d,i)}else if(r){const d=(0,ie.UI)(t,m=>Q2(m));o=function dPe(n,e,t){const r=v2.fromObject(t);return p9(n,new d9({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,d)}else{const d=Q2(t);o=Qp(n.serverSyncTree_,s,d)}let u=s;o.length>0&&(u=g9(n,s)),B3(n.eventQueue_,u,o)}function cX(n,e){fI(n,"connected",e),!1===e&&function FPe(n){m9(n,"onDisconnectEvents");const e=sm(n),t=xb();PA(n.onDisconnect_,Dt(),(i,s)=>{const o=XY(i,s,n.serverSyncTree_,e);f9(t,i,o)});let r=[];PA(t,Dt(),(i,s)=>{r=r.concat(Qp(n.serverSyncTree_,i,s));const o=function mI(n,e){const t=tm(fX(n,e)),r=Bb(n.transactionQueueTree_,e);return function zPe(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{gI(n,i)}),gI(n,r),JY(r,i=>{gI(n,i)}),t}(n,i);g9(n,o)}),n.onDisconnect_=xb(),B3(n.eventQueue_,Dt(),r)}(n)}function fI(n,e,t){const r=new Bt("/.info/"+e),i=Q2(t);n.infoData_.updateSnapshot(r,i);const s=Qp(n.infoSyncTree_,r,i);B3(n.eventQueue_,r,s)}function jb(n){return n.nextWriteId_++}function m9(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),wr(t,...e)}function pI(n,e,t){return Ob(n.serverSyncTree_,e,t)||it.EMPTY_NODE}function $b(n,e=n.transactionQueueTree_){if(e||qb(n,e),O5(e)){const t=dX(n,e);(0,ie.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function qPe(n,e,t){const r=t.map(m=>m.currentWriteId),i=pI(n,e,r);let s=i;const o=i.hash();for(let m=0;m<t.length;m++){const y=t[m];(0,ie.hu)(0===y.status,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=Ti(e,y.path);s=s.updateChild(b,y.currentOutputSnapshotRaw)}const u=s.val(!0),d=e;n.server_.put(d.toString(),u,m=>{m9(n,"transaction put response",{path:d.toString(),status:m});let y=[];if("ok"===m){const b=[];for(let T=0;T<t.length;T++)t[T].status=2,y=y.concat(H0(n.serverSyncTree_,t[T].currentWriteId)),t[T].onComplete&&b.push(()=>t[T].onComplete(null,!0,t[T].currentOutputSnapshotResolved)),t[T].unwatcher();qb(n,Bb(n.transactionQueueTree_,e)),$b(n,n.transactionQueueTree_),B3(n.eventQueue_,e,y);for(let T=0;T<b.length;T++)o9(b[T])}else{if("datastale"===m)for(let b=0;b<t.length;b++)t[b].status=3===t[b].status?4:0;else{ci("transaction at "+d.toString()+" failed: "+m);for(let b=0;b<t.length;b++)t[b].status=4,t[b].abortReason=m}g9(n,e)}},o)}(n,tm(e),t)}else QY(e)&&Ub(e,t=>{$b(n,t)})}function g9(n,e){const t=fX(n,e),r=tm(t);return function ZPe(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const d=e[u],m=Ti(t,d.path);let b,y=!1;if((0,ie.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===d.status)y=!0,b=d.abortReason,i=i.concat(H0(n.serverSyncTree_,d.currentWriteId,!0));else if(0===d.status)if(d.retryCount>=DPe)y=!0,b="maxretry",i=i.concat(H0(n.serverSyncTree_,d.currentWriteId,!0));else{const T=pI(n,d.path,o);d.currentInputSnapshot=T;const H=e[u].update(T.val());if(void 0!==H){rm("transaction failed: Data returned ",H,d.path);let A=Q2(H);"object"==typeof H&&null!=H&&(0,ie.r3)(H,".priority")||(A=A.updatePriority(T.getPriority()));const R=d.currentWriteId,G=sm(n),$=rI(A,T,G);d.currentOutputSnapshotRaw=A,d.currentOutputSnapshotResolved=$,d.currentWriteId=jb(n),o.splice(o.indexOf(R),1),i=i.concat(YA(n.serverSyncTree_,d.path,$,d.currentWriteId,d.applyLocally)),i=i.concat(H0(n.serverSyncTree_,R,!0))}else y=!0,b="nodata",i=i.concat(H0(n.serverSyncTree_,d.currentWriteId,!0))}B3(n.eventQueue_,t,i),i=[],y&&(e[u].status=2,setTimeout(e[u].unwatcher,Math.floor(0)),e[u].onComplete&&r.push("nodata"===b?()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot):()=>e[u].onComplete(new Error(b),!1,null)))}qb(n,n.transactionQueueTree_);for(let u=0;u<r.length;u++)o9(r[u]);$b(n,n.transactionQueueTree_)}(n,dX(n,t),r),r}function fX(n,e){let t,r=n.transactionQueueTree_;for(t=ht(e);null!==t&&void 0===O5(r);)r=Bb(r,t),t=ht(e=o2(e));return r}function dX(n,e){const t=[];return hX(n,e,t),t.sort((r,i)=>r.order-i.order),t}function hX(n,e,t){const r=O5(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Ub(e,i=>{hX(n,i,t)})}function qb(n,e){const t=O5(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,oI(e,t.length>0?t:void 0)}Ub(e,r=>{qb(n,r)})}function gI(n,e){const t=O5(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,ie.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,ie.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(H0(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?oI(e,void 0):t.length=s+1,B3(n.eventQueue_,tm(e),i);for(let o=0;o<r.length;o++)o9(r[o])}}const vI=function(n,e){const t=XPe(n),r=t.namespace;return"firebase.com"===t.domain&&Oo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Oo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ci("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new vA(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Bt(t.pathString)}},XPe=function(n){let e="",t="",r="",i="",s="",o=!0,u="https",d=443;if("string"==typeof n){let m=n.indexOf("//");m>=0&&(u=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");-1===y&&(y=n.length);let b=n.indexOf("?");-1===b&&(b=n.length),e=n.substring(0,Math.min(y,b)),y<b&&(i=function KPe(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(y,b)));const T=function YPe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ci(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,b)));m=e.indexOf(":"),m>=0?(o="https"===u||"wss"===u,d=parseInt(e.substring(m+1),10)):m=e.length;const H=e.slice(0,m);if("localhost"===H.toLowerCase())t="localhost";else if(H.split(".").length<=2)t=H;else{const A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),t=e.substring(A+1),s=r}"ns"in T&&(s=T.ns)}return{host:e,port:d,domain:t,subdomain:r,secure:o,scheme:u,pathString:i,namespace:s}};class U3{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return pt(this._path)?null:wA(this._path)}get ref(){return new xs(this._repo,this._path)}get _queryIdentifier(){const e=bY(this._queryParams),t=mA(e);return"{}"===t?"default":t}get _queryObject(){return bY(this._queryParams)}isEqual(e){if(!((e=(0,ie.m9)(e))instanceof U3))return!1;const t=this._repo===e._repo,r=SA(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function GDe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class xs extends U3{constructor(e,t){super(e,t,new IA,!1)}get parent(){const e=lY(this._path);return null===e?null:new xs(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function rPe(n){(0,ie.hu)(!Nb,"__referenceConstructor has already been defined"),Nb=n})(xs),function cPe(n){(0,ie.hu)(!kb,"__referenceConstructor has already been defined"),kb=n}(xs);const fke="FIREBASE_DATABASE_EMULATOR_HOST",_I={};let CX=!1;class vke{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function PPe(n,e,t){if(n.stats_=CA(n.repoInfo_),n.forceRestClient_||gDe())n.server_=new Tb(n.repoInfo_,(r,i,s,o)=>{aX(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>cX(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new N5(n.repoInfo_,e,(r,i,s,o)=>{aX(n,r,i,s,o)},r=>{cX(n,r)},r=>{!function kPe(n,e){Sr(e,(t,r)=>{fI(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function bDe(n,e){const t=n.toString();return _A[t]||(_A[t]=e()),_A[t]}(n.repoInfo_,()=>new bNe(n.stats_,n.server_)),n.infoData_=new gNe,n.infoSyncTree_=new jY({startListening:(r,i,s,o)=>{let u=[];const d=n.infoData_.getNode(r._path);return d.isEmpty()||(u=Qp(n.infoSyncTree_,r._path,d),setTimeout(()=>{o("ok")},0)),u},stopListening:()=>{}}),fI(n,"connected",!1),n.serverSyncTree_=new jY({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(u,d)=>{const m=o(u,d);B3(n.eventQueue_,r._path,m)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xs(this._repo,Dt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function pke(n,e){const t=_I[e];(!t||t[n.key]!==n)&&Oo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function uX(n){n.persistentConnection_&&n.persistentConnection_.interrupt(sX)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Oo("Cannot call "+e+" on a deleted database.")}}function yke(n=(0,Pr.getApp)(),e){const t=(0,Pr._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,ie.P0)("database");r&&function _ke(n,e,t,r={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Oo("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Oo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Fp(Fp.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,ie.Sg)(r.mockUserToken,n.app.options.projectId);s=new Fp(o)}!function dke(n,e,t,r){n.repoInfo_=new vA(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}N5.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},N5.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Cke(n){(function iDe(n){dA=n})(Pr.SDK_VERSION),(0,Pr._registerComponent)(new X7.wA("database",(e,{instanceIdentifier:t})=>function hke(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Oo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d,m,o=vI(s,i),u=o.repoInfo;typeof process<"u"&&process.env&&(m=process.env[fke]),m?(d=!0,s=`http://${m}?ns=${u.namespace}`,o=vI(s,i),u=o.repoInfo):d=!o.repoInfo.secure;const y=i&&d?new Fp(Fp.OWNER):new yDe(n.name,n.options,e);nX("Invalid Firebase Database URL",o),pt(o.path)||Oo("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function mke(n,e,t,r){let i=_I[e.name];i||(i={},_I[e.name]=i);let s=i[n.toURLString()];return s&&Oo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new NPe(n,CX,t,r),i[n.toURLString()]=s,s}(u,n,y,new vDe(n.name,t));return new vke(b,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Pr.registerVersion)(zK,"0.14.4",n),(0,Pr.registerVersion)(zK,"0.14.4","esm2017")}();class CI{constructor(e){return e}}const MX="database",bI=new h.OlP("angularfire2.database-instances");function zke(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new CI(r)}}const Tke={provide:class wke{constructor(){return(0,B2.vb)(MX)}},deps:[[new h.FiY,bI]]},xke={provide:CI,useFactory:function Ske(n,e){const t=(0,B2.JM)(MX,n,e);return t&&new CI(t)},deps:[[new h.FiY,bI],m5]};let Eke=(()=>{class n{constructor(){(0,Ya.KN)("angularfire",B2.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[xke,Tke]}),n})();function Hke(n,...e){return{ngModule:Eke,providers:[{provide:bI,useFactory:zke(n),multi:!0,deps:[h.R0b,h.zs3,B2.HU,oC,[new h.FiY,FE],[new h.FiY,np],...e]}]}}const Vke=(0,B2.u3)(yke,!0);let Ake=(()=>{class n{constructor(t){t.addIcons(jB,OB,CB,pG,jj)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(HO))},n.\u0275mod=h.oAB({type:n,bootstrap:[A3e]}),n.\u0275inj=h.cJS({providers:[tB],imports:[s4,nie,t4e,uS,g5.hO.initializeApp(SK_firebase),Jte(()=>e2e()),C2e,ER,zm,h3,fre,Gre,nte(()=>rte(SK_firebase)),Hke(()=>Vke()),o2e(()=>a2e())]}),n})();G0().bootstrapModule(Ake).catch(n=>console.error(n))},9751:(T1,Ie,F)=>{F.d(Ie,{y:()=>Pe});var h=F(930),U=F(727),X=F(8822),pe=F(9635),ye=F(2416),ve=F(576),Ge=F(2806);let Pe=(()=>{class te{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const n1=new te;return n1.source=this,n1.operator=Ee,n1}subscribe(Ee,n1,d1){const be=function q(te){return te&&te instanceof h.Lv||function Z(te){return te&&(0,ve.m)(te.next)&&(0,ve.m)(te.error)&&(0,ve.m)(te.complete)}(te)&&(0,U.Nn)(te)}(Ee)?Ee:new h.Hp(Ee,n1,d1);return(0,Ge.x)(()=>{const{operator:Ve,source:Re}=this;be.add(Ve?Ve.call(be,Re):Re?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(n1){Ee.error(n1)}}forEach(Ee,n1){return new(n1=He(n1))((d1,be)=>{const Ve=new h.Hp({next:Re=>{try{Ee(Re)}catch($e){be($e),Ve.unsubscribe()}},error:be,complete:d1});this.subscribe(Ve)})}_subscribe(Ee){var n1;return null===(n1=this.source)||void 0===n1?void 0:n1.subscribe(Ee)}[X.L](){return this}pipe(...Ee){return(0,pe.U)(Ee)(this)}toPromise(Ee){return new(Ee=He(Ee))((n1,d1)=>{let be;this.subscribe(Ve=>be=Ve,Ve=>d1(Ve),()=>n1(be))})}}return te.create=Ye=>new te(Ye),te})();function He(te){var Ye;return null!==(Ye=te??ye.v.Promise)&&void 0!==Ye?Ye:Promise}},7579:(T1,Ie,F)=>{F.d(Ie,{x:()=>Ge});var h=F(9751),U=F(727);const pe=(0,F(3888).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=F(8737),ve=F(2806);let Ge=(()=>{class He extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new Pe(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new pe}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:Ye,observers:Ee}=this;return te||Ye?U.Lc:(this.currentObservers=null,Ee.push(q),new U.w0(()=>{this.currentObservers=null,(0,ye.P)(Ee,q)}))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:Ye,isStopped:Ee}=this;te?q.error(Ye):Ee&&q.complete()}asObservable(){const q=new h.y;return q.source=this,q}}return He.create=(Z,q)=>new Pe(Z,q),He})();class Pe extends Ge{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,Z)}error(Z){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==te?te:U.Lc}}},930:(T1,Ie,F)=>{F.d(Ie,{Hp:()=>d1,Lv:()=>te});var h=F(576),U=F(727),X=F(2416),pe=F(7849),ye=F(5032);const ve=He("C",void 0,void 0);function He(xe,Te,Le){return{kind:xe,value:Te,error:Le}}var Z=F(3410),q=F(2806);class te extends U.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,U.Nn)(Te)&&Te.add(this)):this.destination=$e}static create(Te,Le,qe){return new d1(Te,Le,qe)}next(Te){this.isStopped?Re(function Pe(xe){return He("N",xe,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Re(function Ge(xe){return He("E",void 0,xe)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Re(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Ee(xe,Te){return Ye.call(xe,Te)}class n1{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Le}=this;if(Le.next)try{Le.next(Te)}catch(qe){be(qe)}}error(Te){const{partialObserver:Le}=this;if(Le.error)try{Le.error(Te)}catch(qe){be(qe)}else be(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Le){be(Le)}}}class d1 extends te{constructor(Te,Le,qe){let Fe;if(super(),(0,h.m)(Te)||!Te)Fe={next:Te??void 0,error:Le??void 0,complete:qe??void 0};else{let ue;this&&X.v.useDeprecatedNextContext?(ue=Object.create(Te),ue.unsubscribe=()=>this.unsubscribe(),Fe={next:Te.next&&Ee(Te.next,ue),error:Te.error&&Ee(Te.error,ue),complete:Te.complete&&Ee(Te.complete,ue)}):Fe=Te}this.destination=new n1(Fe)}}function be(xe){X.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(xe):(0,pe.h)(xe)}function Re(xe,Te){const{onStoppedNotification:Le}=X.v;Le&&Z.z.setTimeout(()=>Le(xe,Te))}const $e={closed:!0,next:ye.Z,error:function Ve(xe){throw xe},complete:ye.Z}},727:(T1,Ie,F)=>{F.d(Ie,{Lc:()=>ve,w0:()=>ye,Nn:()=>Ge});var h=F(576);const X=(0,F(3888).d)(He=>function(q){He(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,Ye)=>`${Ye+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var pe=F(8737);class ye{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ee of q)Ee.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,h.m)(te))try{te()}catch(Ee){Z=Ee instanceof X?Ee.errors:[Ee]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Ee of Ye)try{Pe(Ee)}catch(n1){Z=Z??[],n1 instanceof X?Z=[...Z,...n1.errors]:Z.push(n1)}}if(Z)throw new X(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)Pe(Z);else{if(Z instanceof ye){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,pe.P)(q,Z)}remove(Z){const{_finalizers:q}=this;q&&(0,pe.P)(q,Z),Z instanceof ye&&Z._removeParent(this)}}ye.EMPTY=(()=>{const He=new ye;return He.closed=!0,He})();const ve=ye.EMPTY;function Ge(He){return He instanceof ye||He&&"closed"in He&&(0,h.m)(He.remove)&&(0,h.m)(He.add)&&(0,h.m)(He.unsubscribe)}function Pe(He){(0,h.m)(He)?He():He.unsubscribe()}},2416:(T1,Ie,F)=>{F.d(Ie,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(T1,Ie,F)=>{F.d(Ie,{E:()=>U});const U=new(F(9751).y)(ye=>ye.complete())},8996:(T1,Ie,F)=>{F.d(Ie,{D:()=>Te});var h=F(8421),U=F(5363),X=F(9468),ve=F(9751),Pe=F(2202),He=F(576),Z=F(9672);function te(Le,qe){if(!Le)throw new Error("Iterable cannot be null");return new ve.y(Fe=>{(0,Z.f)(Fe,qe,()=>{const ue=Le[Symbol.asyncIterator]();(0,Z.f)(Fe,qe,()=>{ue.next().then(u1=>{u1.done?Fe.complete():Fe.next(u1.value)})},0,!0)})})}var Ye=F(3670),Ee=F(8239),n1=F(1144),d1=F(6495),be=F(2206),Ve=F(4532),Re=F(3260);function Te(Le,qe){return qe?function xe(Le,qe){if(null!=Le){if((0,Ye.c)(Le))return function pe(Le,qe){return(0,h.Xf)(Le).pipe((0,X.R)(qe),(0,U.Q)(qe))}(Le,qe);if((0,n1.z)(Le))return function Ge(Le,qe){return new ve.y(Fe=>{let ue=0;return qe.schedule(function(){ue===Le.length?Fe.complete():(Fe.next(Le[ue++]),Fe.closed||this.schedule())})})}(Le,qe);if((0,Ee.t)(Le))return function ye(Le,qe){return(0,h.Xf)(Le).pipe((0,X.R)(qe),(0,U.Q)(qe))}(Le,qe);if((0,be.D)(Le))return te(Le,qe);if((0,d1.T)(Le))return function q(Le,qe){return new ve.y(Fe=>{let ue;return(0,Z.f)(Fe,qe,()=>{ue=Le[Pe.h](),(0,Z.f)(Fe,qe,()=>{let u1,O1;try{({value:u1,done:O1}=ue.next())}catch(h1){return void Fe.error(h1)}O1?Fe.complete():Fe.next(u1)},0,!0)}),()=>(0,He.m)(ue?.return)&&ue.return()})}(Le,qe);if((0,Re.L)(Le))return function $e(Le,qe){return te((0,Re.Q)(Le),qe)}(Le,qe)}throw(0,Ve.z)(Le)}(Le,qe):(0,h.Xf)(Le)}},8421:(T1,Ie,F)=>{F.d(Ie,{Xf:()=>Ye});var h=F(655),U=F(1144),X=F(8239),pe=F(9751),ye=F(3670),ve=F(2206),Ge=F(4532),Pe=F(6495),He=F(3260),Z=F(576),q=F(7849),te=F(8822);function Ye(xe){if(xe instanceof pe.y)return xe;if(null!=xe){if((0,ye.c)(xe))return function Ee(xe){return new pe.y(Te=>{const Le=xe[te.L]();if((0,Z.m)(Le.subscribe))return Le.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,U.z)(xe))return function n1(xe){return new pe.y(Te=>{for(let Le=0;Le<xe.length&&!Te.closed;Le++)Te.next(xe[Le]);Te.complete()})}(xe);if((0,X.t)(xe))return function d1(xe){return new pe.y(Te=>{xe.then(Le=>{Te.closed||(Te.next(Le),Te.complete())},Le=>Te.error(Le)).then(null,q.h)})}(xe);if((0,ve.D)(xe))return Ve(xe);if((0,Pe.T)(xe))return function be(xe){return new pe.y(Te=>{for(const Le of xe)if(Te.next(Le),Te.closed)return;Te.complete()})}(xe);if((0,He.L)(xe))return function Re(xe){return Ve((0,He.Q)(xe))}(xe)}throw(0,Ge.z)(xe)}function Ve(xe){return new pe.y(Te=>{(function $e(xe,Te){var Le,qe,Fe,ue;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Le=(0,h.KL)(xe);!(qe=yield Le.next()).done;)if(Te.next(qe.value),Te.closed)return}catch(u1){Fe={error:u1}}finally{try{qe&&!qe.done&&(ue=Le.return)&&(yield ue.call(Le))}finally{if(Fe)throw Fe.error}}Te.complete()})})(xe,Te).catch(Le=>Te.error(Le))})}},6451:(T1,Ie,F)=>{F.d(Ie,{T:()=>ve});var h=F(8189),U=F(8421),X=F(515),pe=F(7669),ye=F(8996);function ve(...Ge){const Pe=(0,pe.yG)(Ge),He=(0,pe._6)(Ge,1/0),Z=Ge;return Z.length?1===Z.length?(0,U.Xf)(Z[0]):(0,h.J)(He)((0,ye.D)(Z,Pe)):X.E}},5403:(T1,Ie,F)=>{F.d(Ie,{x:()=>U});var h=F(930);function U(pe,ye,ve,Ge,Pe){return new X(pe,ye,ve,Ge,Pe)}class X extends h.Lv{constructor(ye,ve,Ge,Pe,He,Z){super(ye),this.onFinalize=He,this.shouldUnsubscribe=Z,this._next=ve?function(q){try{ve(q)}catch(te){ye.error(te)}}:super._next,this._error=Pe?function(q){try{Pe(q)}catch(te){ye.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Ge?function(){try{Ge()}catch(q){ye.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(T1,Ie,F)=>{F.d(Ie,{U:()=>X});var h=F(4482),U=F(5403);function X(pe,ye){return(0,h.e)((ve,Ge)=>{let Pe=0;ve.subscribe((0,U.x)(Ge,He=>{Ge.next(pe.call(ye,He,Pe++))}))})}},8189:(T1,Ie,F)=>{F.d(Ie,{J:()=>X});var h=F(5577),U=F(4671);function X(pe=1/0){return(0,h.z)(U.y,pe)}},5577:(T1,Ie,F)=>{F.d(Ie,{z:()=>Pe});var h=F(4004),U=F(8421),X=F(4482),pe=F(9672),ye=F(5403),Ge=F(576);function Pe(He,Z,q=1/0){return(0,Ge.m)(Z)?Pe((te,Ye)=>(0,h.U)((Ee,n1)=>Z(te,Ee,Ye,n1))((0,U.Xf)(He(te,Ye))),q):("number"==typeof Z&&(q=Z),(0,X.e)((te,Ye)=>function ve(He,Z,q,te,Ye,Ee,n1,d1){const be=[];let Ve=0,Re=0,$e=!1;const xe=()=>{$e&&!be.length&&!Ve&&Z.complete()},Te=qe=>Ve<te?Le(qe):be.push(qe),Le=qe=>{Ee&&Z.next(qe),Ve++;let Fe=!1;(0,U.Xf)(q(qe,Re++)).subscribe((0,ye.x)(Z,ue=>{Ye?.(ue),Ee?Te(ue):Z.next(ue)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Ve--;be.length&&Ve<te;){const ue=be.shift();n1?(0,pe.f)(Z,n1,()=>Le(ue)):Le(ue)}xe()}catch(ue){Z.error(ue)}}))};return He.subscribe((0,ye.x)(Z,Te,()=>{$e=!0,xe()})),()=>{d1?.()}}(te,Ye,He,q)))}},5363:(T1,Ie,F)=>{F.d(Ie,{Q:()=>pe});var h=F(9672),U=F(4482),X=F(5403);function pe(ye,ve=0){return(0,U.e)((Ge,Pe)=>{Ge.subscribe((0,X.x)(Pe,He=>(0,h.f)(Pe,ye,()=>Pe.next(He),ve),()=>(0,h.f)(Pe,ye,()=>Pe.complete(),ve),He=>(0,h.f)(Pe,ye,()=>Pe.error(He),ve)))})}},3099:(T1,Ie,F)=>{F.d(Ie,{B:()=>ye});var h=F(8421),U=F(7579),X=F(930),pe=F(4482);function ye(Ge={}){const{connector:Pe=(()=>new U.x),resetOnError:He=!0,resetOnComplete:Z=!0,resetOnRefCountZero:q=!0}=Ge;return te=>{let Ye,Ee,n1,d1=0,be=!1,Ve=!1;const Re=()=>{Ee?.unsubscribe(),Ee=void 0},$e=()=>{Re(),Ye=n1=void 0,be=Ve=!1},xe=()=>{const Te=Ye;$e(),Te?.unsubscribe()};return(0,pe.e)((Te,Le)=>{d1++,!Ve&&!be&&Re();const qe=n1=n1??Pe();Le.add(()=>{d1--,0===d1&&!Ve&&!be&&(Ee=ve(xe,q))}),qe.subscribe(Le),!Ye&&d1>0&&(Ye=new X.Hp({next:Fe=>qe.next(Fe),error:Fe=>{Ve=!0,Re(),Ee=ve($e,He,Fe),qe.error(Fe)},complete:()=>{be=!0,Re(),Ee=ve($e,Z),qe.complete()}}),(0,h.Xf)(Te).subscribe(Ye))})(te)}}function ve(Ge,Pe,...He){if(!0===Pe)return void Ge();if(!1===Pe)return;const Z=new X.Hp({next:()=>{Z.unsubscribe(),Ge()}});return(0,h.Xf)(Pe(...He)).subscribe(Z)}},9468:(T1,Ie,F)=>{F.d(Ie,{R:()=>U});var h=F(4482);function U(X,pe=0){return(0,h.e)((ye,ve)=>{ve.add(X.schedule(()=>ye.subscribe(ve),pe))})}},8505:(T1,Ie,F)=>{F.d(Ie,{b:()=>ye});var h=F(576),U=F(4482),X=F(5403),pe=F(4671);function ye(ve,Ge,Pe){const He=(0,h.m)(ve)||Ge||Pe?{next:ve,error:Ge,complete:Pe}:ve;return He?(0,U.e)((Z,q)=>{var te;null===(te=He.subscribe)||void 0===te||te.call(He);let Ye=!0;Z.subscribe((0,X.x)(q,Ee=>{var n1;null===(n1=He.next)||void 0===n1||n1.call(He,Ee),q.next(Ee)},()=>{var Ee;Ye=!1,null===(Ee=He.complete)||void 0===Ee||Ee.call(He),q.complete()},Ee=>{var n1;Ye=!1,null===(n1=He.error)||void 0===n1||n1.call(He,Ee),q.error(Ee)},()=>{var Ee,n1;Ye&&(null===(Ee=He.unsubscribe)||void 0===Ee||Ee.call(He)),null===(n1=He.finalize)||void 0===n1||n1.call(He)}))}):pe.y}},6063:(T1,Ie,F)=>{F.d(Ie,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(T1,Ie,F)=>{F.d(Ie,{z:()=>h});const h={setTimeout(U,X,...pe){const{delegate:ye}=h;return ye?.setTimeout?ye.setTimeout(U,X,...pe):setTimeout(U,X,...pe)},clearTimeout(U){const{delegate:X}=h;return(X?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(T1,Ie,F)=>{F.d(Ie,{h:()=>U});const U=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(T1,Ie,F)=>{F.d(Ie,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(T1,Ie,F)=>{F.d(Ie,{_6:()=>ve,jO:()=>pe,yG:()=>ye});var h=F(576);function X(Ge){return Ge[Ge.length-1]}function pe(Ge){return(0,h.m)(X(Ge))?Ge.pop():void 0}function ye(Ge){return function U(Ge){return Ge&&(0,h.m)(Ge.schedule)}(X(Ge))?Ge.pop():void 0}function ve(Ge,Pe){return"number"==typeof X(Ge)?Ge.pop():Pe}},8737:(T1,Ie,F)=>{function h(U,X){if(U){const pe=U.indexOf(X);0<=pe&&U.splice(pe,1)}}F.d(Ie,{P:()=>h})},3888:(T1,Ie,F)=>{function h(U){const pe=U(ye=>{Error.call(ye),ye.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}F.d(Ie,{d:()=>h})},2806:(T1,Ie,F)=>{F.d(Ie,{O:()=>pe,x:()=>X});var h=F(2416);let U=null;function X(ye){if(h.v.useDeprecatedSynchronousErrorHandling){const ve=!U;if(ve&&(U={errorThrown:!1,error:null}),ye(),ve){const{errorThrown:Ge,error:Pe}=U;if(U=null,Ge)throw Pe}}else ye()}function pe(ye){h.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ye)}},9672:(T1,Ie,F)=>{function h(U,X,pe,ye=0,ve=!1){const Ge=X.schedule(function(){pe(),ve?U.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(U.add(Ge),!ve)return Ge}F.d(Ie,{f:()=>h})},4671:(T1,Ie,F)=>{function h(U){return U}F.d(Ie,{y:()=>h})},1144:(T1,Ie,F)=>{F.d(Ie,{z:()=>h});const h=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(T1,Ie,F)=>{F.d(Ie,{D:()=>U});var h=F(576);function U(X){return Symbol.asyncIterator&&(0,h.m)(X?.[Symbol.asyncIterator])}},576:(T1,Ie,F)=>{function h(U){return"function"==typeof U}F.d(Ie,{m:()=>h})},3670:(T1,Ie,F)=>{F.d(Ie,{c:()=>X});var h=F(8822),U=F(576);function X(pe){return(0,U.m)(pe[h.L])}},6495:(T1,Ie,F)=>{F.d(Ie,{T:()=>X});var h=F(2202),U=F(576);function X(pe){return(0,U.m)(pe?.[h.h])}},8239:(T1,Ie,F)=>{F.d(Ie,{t:()=>U});var h=F(576);function U(X){return(0,h.m)(X?.then)}},3260:(T1,Ie,F)=>{F.d(Ie,{L:()=>pe,Q:()=>X});var h=F(655),U=F(576);function X(ye){return(0,h.FC)(this,arguments,function*(){const Ge=ye.getReader();try{for(;;){const{value:Pe,done:He}=yield(0,h.qq)(Ge.read());if(He)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Pe)}}finally{Ge.releaseLock()}})}function pe(ye){return(0,U.m)(ye?.getReader)}},4482:(T1,Ie,F)=>{F.d(Ie,{A:()=>U,e:()=>X});var h=F(576);function U(pe){return(0,h.m)(pe?.lift)}function X(pe){return ye=>{if(U(ye))return ye.lift(function(ve){try{return pe(ve,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(T1,Ie,F)=>{function h(){}F.d(Ie,{Z:()=>h})},9635:(T1,Ie,F)=>{F.d(Ie,{U:()=>X,z:()=>U});var h=F(4671);function U(...pe){return X(pe)}function X(pe){return 0===pe.length?h.y:1===pe.length?pe[0]:function(ve){return pe.reduce((Ge,Pe)=>Pe(Ge),ve)}}},7849:(T1,Ie,F)=>{F.d(Ie,{h:()=>X});var h=F(2416),U=F(3410);function X(pe){U.z.setTimeout(()=>{const{onUnhandledError:ye}=h.v;if(!ye)throw pe;ye(pe)})}},4532:(T1,Ie,F)=>{function h(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>h})},655:(T1,Ie,F)=>{function pe(_e,Ce){var ze={};for(var Ae in _e)Object.prototype.hasOwnProperty.call(_e,Ae)&&Ce.indexOf(Ae)<0&&(ze[Ae]=_e[Ae]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var t1=0;for(Ae=Object.getOwnPropertySymbols(_e);t1<Ae.length;t1++)Ce.indexOf(Ae[t1])<0&&Object.prototype.propertyIsEnumerable.call(_e,Ae[t1])&&(ze[Ae[t1]]=_e[Ae[t1]])}return ze}function te(_e,Ce,ze,Ae){return new(ze||(ze=Promise))(function(Qe,y1){function Je(tt){try{x1(Ae.next(tt))}catch(L1){y1(L1)}}function W1(tt){try{x1(Ae.throw(tt))}catch(L1){y1(L1)}}function x1(tt){tt.done?Qe(tt.value):function t1(Qe){return Qe instanceof ze?Qe:new ze(function(y1){y1(Qe)})}(tt.value).then(Je,W1)}x1((Ae=Ae.apply(_e,Ce||[])).next())})}function xe(_e){return this instanceof xe?(this.v=_e,this):new xe(_e)}function Te(_e,Ce,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t1,Ae=ze.apply(_e,Ce||[]),Qe=[];return t1={},y1("next"),y1("throw"),y1("return"),t1[Symbol.asyncIterator]=function(){return this},t1;function y1(nt){Ae[nt]&&(t1[nt]=function(Qt){return new Promise(function(Yt,xn){Qe.push([nt,Qt,Yt,xn])>1||Je(nt,Qt)})})}function Je(nt,Qt){try{!function W1(nt){nt.value instanceof xe?Promise.resolve(nt.value.v).then(x1,tt):L1(Qe[0][2],nt)}(Ae[nt](Qt))}catch(Yt){L1(Qe[0][3],Yt)}}function x1(nt){Je("next",nt)}function tt(nt){Je("throw",nt)}function L1(nt,Qt){nt(Qt),Qe.shift(),Qe.length&&Je(Qe[0][0],Qe[0][1])}}function qe(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Ce=_e[Symbol.asyncIterator];return Ce?Ce.call(_e):(_e=function d1(_e){var Ce="function"==typeof Symbol&&Symbol.iterator,ze=Ce&&_e[Ce],Ae=0;if(ze)return ze.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Ae>=_e.length&&(_e=void 0),{value:_e&&_e[Ae++],done:!_e}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),ze={},Ae("next"),Ae("throw"),Ae("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function Ae(Qe){ze[Qe]=_e[Qe]&&function(y1){return new Promise(function(Je,W1){!function t1(Qe,y1,Je,W1){Promise.resolve(W1).then(function(x1){Qe({value:x1,done:Je})},y1)}(Je,W1,(y1=_e[Qe](y1)).done,y1.value)})}}}F.d(Ie,{FC:()=>Te,KL:()=>qe,_T:()=>pe,mG:()=>te,qq:()=>xe})},4650:(T1,Ie,F)=>{F.d(Ie,{$8M:()=>Z4,$WT:()=>en,$Z:()=>Ym,AFp:()=>dy,AaK:()=>Pe,CHM:()=>Zo,CRH:()=>Wv,CZH:()=>D7,CqO:()=>bg,D6c:()=>zo,DdM:()=>R8,EJc:()=>JS,EiD:()=>ll,EpF:()=>If,F$t:()=>Tg,F4k:()=>Cg,FYo:()=>Am,FiY:()=>Wi,Gf:()=>z7,GfV:()=>s6,Gpc:()=>q,Hsn:()=>xg,Ikx:()=>rv,JOm:()=>Qr,JVY:()=>E9,JZr:()=>d1,Jf7:()=>ss,KtG:()=>O4,L6k:()=>H9,LAX:()=>aM,LFG:()=>dt,Lbi:()=>YS,Lck:()=>nS,MMx:()=>_7,MR2:()=>vM,NdJ:()=>Df,OlP:()=>ut,Oqu:()=>Zl,P3R:()=>zm,PXZ:()=>uz,Q6J:()=>Gl,QGY:()=>Lf,Qsj:()=>wM,R0b:()=>Ji,RDi:()=>tM,Rgc:()=>B8,SBq:()=>Aa,Sil:()=>ez,Suo:()=>T7,TTD:()=>vc,TgZ:()=>fs,Udp:()=>Of,WLB:()=>Av,X6Q:()=>hz,XFs:()=>_1,Xpm:()=>ar,Xts:()=>N9,Y36:()=>f6,YKP:()=>fd,YNc:()=>vg,Yjl:()=>Y1,Yz7:()=>L1,Z0I:()=>xn,ZZ4:()=>G6,_Bn:()=>Tv,_UZ:()=>Vf,_Vd:()=>qi,_c5:()=>J7,_uU:()=>Gf,aQg:()=>$8,c2e:()=>XS,cJS:()=>Qt,cg1:()=>e7,dDg:()=>cz,dqk:()=>Ct,eBb:()=>V9,eFA:()=>U7,eJc:()=>zd,ekj:()=>Ff,eoX:()=>by,evT:()=>h8,f3M:()=>l2,g9A:()=>hy,h0i:()=>wo,hGG:()=>Rn,hij:()=>E8,iGM:()=>Gv,ifc:()=>Me,ip1:()=>L7,jDz:()=>dd,kL8:()=>iv,l5B:()=>Iv,lG2:()=>k1,lqb:()=>lo,lri:()=>R7,mCW:()=>e6,n5z:()=>oa,oAB:()=>ae,oJD:()=>wm,oxw:()=>zg,pB0:()=>cM,q3G:()=>q2,q4F:()=>Im,qLn:()=>o6,qOj:()=>Cf,qZA:()=>E6,qzn:()=>co,rWj:()=>Cy,s9C:()=>Qn,sBO:()=>pz,s_b:()=>M7,soG:()=>P7,tb:()=>F7,tp0:()=>Q4,uIk:()=>Sf,vHH:()=>be,vpe:()=>Qi,wAp:()=>I1,xp6:()=>Bm,z2F:()=>j7,z3N:()=>x3,zSh:()=>U9,zs3:()=>as});var h=F(7579),U=F(727),X=F(9751),pe=F(6451),ye=F(3099);function ve(a){for(let c in a)if(a[c]===ve)return c;throw Error("Could not find renamed property on target object.")}function Ge(a,c){for(const l in c)c.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=c[l])}function Pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const l=c.indexOf("\n");return-1===l?c:c.substring(0,l)}function He(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const Z=ve({__forward_ref__:ve});function q(a){return a.__forward_ref__=q,a.toString=function(){return Pe(this())},a}function te(a){return Ye(a)?a():a}function Ye(a){return"function"==typeof a&&a.hasOwnProperty(Z)&&a.__forward_ref__===q}function Ee(a){return a&&!!a.\u0275providers}const d1="https://g.co/ng/security#xss";class be extends Error{constructor(c,l){super(Ve(c,l)),this.code=c}}function Ve(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function Re(a){return"string"==typeof a?a:null==a?"":String(a)}function qe(a,c){throw new be(-201,!1)}function y1(a,c){null==a&&function Je(a,c,l,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${l} ${f} ${c} <=Actual]`))}(c,a,null,"!=")}function L1(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Qt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Yt(a){return A2(a,jr)||A2(a,H4)}function xn(a){return null!==Yt(a)}function A2(a,c){return a.hasOwnProperty(c)?a[c]:null}function Tr(a){return a&&(a.hasOwnProperty(li)||a.hasOwnProperty(I2))?a[li]:null}const jr=ve({\u0275prov:ve}),li=ve({\u0275inj:ve}),H4=ve({ngInjectableDef:ve}),I2=ve({ngInjectorDef:ve});var _1=(()=>((_1=_1||{})[_1.Default=0]="Default",_1[_1.Host=1]="Host",_1[_1.Self=2]="Self",_1[_1.SkipSelf=4]="SkipSelf",_1[_1.Optional=8]="Optional",_1))();let xi;function L2(a){const c=xi;return xi=a,c}function En(a,c,l){const f=Yt(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:l&_1.Optional?null:void 0!==c?c:void qe(Pe(a))}const Ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sr={},Hn="__NG_DI_FLAG__",a2="ngTempTokenPath",Gn="ngTokenPath",c2=/\n/gm,mn="\u0275",Nt="__source";let ui;function ot(a){const c=ui;return ui=a,c}function or(a,c=_1.Default){if(void 0===ui)throw new be(-203,!1);return null===ui?En(a,void 0,c):ui.get(a,c&_1.Optional?null:void 0,c)}function dt(a,c=_1.Default){return(function Es(){return xi}()||or)(te(a),c)}function l2(a,c=_1.Default){return dt(a,Vn(c))}function Vn(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function _2(a){const c=[];for(let l=0;l<a.length;l++){const f=te(a[l]);if(Array.isArray(f)){if(0===f.length)throw new be(900,!1);let p,v=_1.Default;for(let C=0;C<f.length;C++){const z=f[C],E=An(z);"number"==typeof E?-1===E?p=z.token:v|=E:p=z}c.push(dt(p,v))}else c.push(dt(f))}return c}function Er(a,c){return a[Hn]=c,a.prototype[Hn]=c,a}function An(a){return a[Hn]}function B(a){return{toString:a}.toString()}var Y=(()=>((Y=Y||{})[Y.OnPush=0]="OnPush",Y[Y.Default=1]="Default",Y))(),Me=(()=>{return(a=Me||(Me={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Me;var a})();const oe={},Oe=[],P1=ve({\u0275cmp:ve}),gt=ve({\u0275dir:ve}),u2=ve({\u0275pipe:ve}),It=ve({\u0275mod:ve}),Pt=ve({\u0275fac:ve}),rt=ve({__NG_ELEMENT_ID__:ve});let vn=0;function ar(a){return B(()=>{const c=Hs(a),l={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||Me.Emulated,id:"c"+vn++,styles:a.styles||Oe,_:null,schemas:a.schemas||null,tView:null};I0(l);const f=a.dependencies;return l.directiveDefs=Ei(f,!1),l.pipeDefs=Ei(f,!0),l})}function G3(a){return M1(a)||vt(a)}function me(a){return null!==a}function ae(a){return B(()=>({type:a.type,bootstrap:a.bootstrap||Oe,declarations:a.declarations||Oe,imports:a.imports||Oe,exports:a.exports||Oe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function b1(a,c){if(null==a)return oe;const l={};for(const f in a)if(a.hasOwnProperty(f)){let p=a[f],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),l[p]=f,c&&(c[p]=v)}return l}function k1(a){return B(()=>{const c=Hs(a);return I0(c),c})}function Y1(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function M1(a){return a[P1]||null}function vt(a){return a[gt]||null}function at(a){return a[u2]||null}function en(a){const c=M1(a)||vt(a)||at(a);return null!==c&&c.standalone}function D2(a,c){const l=a[It]||null;if(!l&&!0===c)throw new Error(`Type ${Pe(a)} does not have '\u0275mod' property.`);return l}function Hs(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||Oe,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:b1(a.inputs,c),outputs:b1(a.outputs)}}function I0(a){a.features?.forEach(c=>c(a))}function Ei(a,c){if(!a)return null;const l=c?at:G3;return()=>("function"==typeof a?a():a).map(f=>l(f)).filter(me)}const N2=0,o1=1,$1=2,kt=3,yt=4,Hi=5,P2=6,V4=7,Xt=8,A4=9,Hr=10,q1=11,Vs=12,cr=13,I4=14,Vi=15,C2=16,l3=17,u3=18,jn=19,Ai=20,tn=21,xt=22,Go=1,L4=2,W3=7,Ii=8,f3=9,G2=10;function yn(a){return Array.isArray(a)&&"object"==typeof a[Go]}function Vr(a){return Array.isArray(a)&&!0===a[Go]}function d3(a){return 0!=(4&a.flags)}function As(a){return a.componentOffset>-1}function D4(a){return 1==(1&a.flags)}function In(a){return!!a.template}function Li(a){return 0!=(256&a[$1])}function di(a,c){return a.hasOwnProperty(Pt)?a[Pt]:null}class gc{constructor(c,l,f){this.previousValue=c,this.currentValue=l,this.firstChange=f}isFirstChange(){return this.firstChange}}function vc(){return Is}function Is(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ni),k0}function k0(){const a=Ls(this),c=a?.current;if(c){const l=a.previous;if(l===oe)a.previous=c;else for(let f in c)l[f]=c[f];a.current=null,this.ngOnChanges(c)}}function Ni(a,c,l,f){const p=this.declaredInputs[l],v=Ls(a)||function yc(a,c){return a[Wo]=c}(a,{previous:oe,current:null}),C=v.current||(v.current={}),z=v.previous,E=z[p];C[p]=new gc(E&&E.currentValue,c,z===oe),a[f]=c}vc.ngInherit=!0;const Wo="__ngSimpleChanges__";function Ls(a){return a[Wo]||null}const Gt=function(a,c,l){};function b2(a){for(;Array.isArray(a);)a=a[N2];return a}function g3(a,c){return b2(c[a])}function W2(a,c){return b2(c[a.index])}function Ns(a,c){return a.data[c]}function k2(a,c){const l=c[a];return yn(l)?l:l[N2]}function Pi(a){return 64==(64&a[$1])}function hi(a,c){return null==c?null:a[c]}function R4(a){a[u3]=0}function Z3(a,c){a[Hi]+=c;let l=a,f=a[kt];for(;null!==f&&(1===c&&1===l[Hi]||-1===c&&0===l[Hi]);)f[Hi]+=c,l=f,f=f[kt]}const B1={lFrame:B4(null),bindingsEnabled:!0};function Cc(){return B1.bindingsEnabled}function ge(){return B1.lFrame.lView}function U1(){return B1.lFrame.tView}function Zo(a){return B1.lFrame.contextLView=a,a[Xt]}function O4(a){return B1.lFrame.contextLView=null,a}function Jt(){let a=Mc();for(;null!==a&&64===a.type;)a=a.parent;return a}function Mc(){return B1.lFrame.currentTNode}function ur(a,c){const l=B1.lFrame;l.currentTNode=a,l.isParent=c}function ks(){return B1.lFrame.isParent}function wc(){B1.lFrame.isParent=!1}function j2(){const a=B1.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function pi(){return B1.lFrame.bindingIndex++}function Tc(a,c){const l=B1.lFrame;l.bindingIndex=l.bindingRootIndex=a,e2(c)}function e2(a){B1.lFrame.currentDirectiveIndex=a}function F4(){return B1.lFrame.currentQueryIndex}function xc(a){B1.lFrame.currentQueryIndex=a}function Os(a){const c=a[o1];return 2===c.type?c.declTNode:1===c.type?a[P2]:null}function Ec(a,c,l){if(l&_1.SkipSelf){let p=c,v=a;for(;!(p=p.parent,null!==p||l&_1.Host||(p=Os(v),null===p||(v=v[Vi],10&p.type))););if(null===p)return!1;c=p,a=v}const f=B1.lFrame=Ko();return f.currentTNode=c,f.lView=a,!0}function X3(a){const c=Ko(),l=a[o1];B1.lFrame=c,c.currentTNode=l.firstChild,c.lView=a,c.tView=l,c.contextLView=a,c.bindingIndex=l.bindingStartIndex,c.inI18n=!1}function Ko(){const a=B1.lFrame,c=null===a?null:a.child;return null===c?B4(a):c}function B4(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Yo(){const a=B1.lFrame;return B1.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Fs=Yo;function Hc(){const a=Yo();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function nn(){return B1.lFrame.selectedIndex}function Kr(a){B1.lFrame.selectedIndex=a}function Rt(){const a=B1.lFrame;return Ns(a.tView,a.selectedIndex)}function Bs(a,c){for(let l=c.directiveStart,f=c.directiveEnd;l<f;l++){const v=a.data[l].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:z,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:N}=v;C&&(a.contentHooks??(a.contentHooks=[])).push(-l,C),z&&((a.contentHooks??(a.contentHooks=[])).push(l,z),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(l,z)),E&&(a.viewHooks??(a.viewHooks=[])).push(-l,E),I&&((a.viewHooks??(a.viewHooks=[])).push(l,I),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(l,I)),null!=N&&(a.destroyHooks??(a.destroyHooks=[])).push(l,N)}}function Jo(a,c,l){Us(a,c,3,l)}function Lc(a,c,l,f){(3&a[$1])===l&&Us(a,c,l,f)}function Dc(a,c){let l=a[$1];(3&l)===c&&(l&=2047,l+=1,a[$1]=l)}function Us(a,c,l,f){const v=f??-1,C=c.length-1;let z=0;for(let E=void 0!==f?65535&a[u3]:0;E<C;E++)if("number"==typeof c[E+1]){if(z=c[E],null!=f&&z>=f)break}else c[E]<0&&(a[u3]+=65536),(z<v||-1==v)&&(J3(a,l,c,E),a[u3]=(4294901760&a[u3])+E+2),E++}function J3(a,c,l,f){const p=l[f]<0,v=l[f+1],z=a[p?-l[f]:l[f]];if(p){if(a[$1]>>11<a[u3]>>16&&(3&a[$1])===c){a[$1]+=2048,Gt(4,z,v);try{v.call(z)}finally{Gt(5,z,v)}}}else{Gt(4,z,v);try{v.call(z)}finally{Gt(5,z,v)}}}const U4=-1;class mi{constructor(c,l,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=f}}function e4(a,c,l){let f=0;for(;f<l.length;){const p=l[f];if("number"==typeof p){if(0!==p)break;f++;const v=l[f++],C=l[f++],z=l[f++];a.setAttribute(c,C,z,v)}else{const v=p,C=l[++f];Oi(v)?a.setProperty(c,v,C):a.setAttribute(c,v,C),f++}}return f}function Pc(a){return 3===a||4===a||6===a}function Oi(a){return 64===a.charCodeAt(0)}function y3(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let l=-1;for(let f=0;f<c.length;f++){const p=c[f];"number"==typeof p?l=p:0===l||t4(a,l,p,null,-1===l||2===l?c[++f]:null)}}return a}function t4(a,c,l,f,p){let v=0,C=a.length;if(-1===c)C=-1;else for(;v<a.length;){const z=a[v++];if("number"==typeof z){if(z===c){C=-1;break}if(z>c){C=v-1;break}}}for(;v<a.length;){const z=a[v];if("number"==typeof z)break;if(z===l){if(null===f)return void(null!==p&&(a[v+1]=p));if(f===a[v+1])return void(a[v+2]=p)}v++,null!==f&&v++,null!==p&&v++}-1!==C&&(a.splice(C,0,c),v=C+1),a.splice(v++,0,l),null!==f&&a.splice(v++,0,f),null!==p&&a.splice(v++,0,p)}function _3(a){return a!==U4}function n4(a){return 32767&a}function j4(a,c){let l=function W4(a){return a>>16}(a),f=c;for(;l>0;)f=f[Vi],l--;return f}let ta=!0;function $4(a){const c=ta;return ta=a,c}const na=255,js=5;let ra=0;const Dn={};function ia(a,c){const l=Rc(a,c);if(-1!==l)return l;const f=c[o1];f.firstCreatePass&&(a.injectorIndex=c.length,Yr(f.data,a),Yr(c,null),Yr(f.blueprint,null));const p=t2(a,c),v=a.injectorIndex;if(_3(p)){const C=n4(p),z=j4(p,c),E=z[o1].data;for(let I=0;I<8;I++)c[v+I]=z[C+I]|E[C+I]}return c[v+8]=p,v}function Yr(a,c){a.push(0,0,0,0,0,0,0,0,c)}function Rc(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function t2(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,f=null,p=c;for(;null!==p;){if(f=C3(p),null===f)return U4;if(l++,p=p[Vi],-1!==f.injectorIndex)return f.injectorIndex|l<<16}return U4}function Fi(a,c,l){!function kc(a,c,l){let f;"string"==typeof l?f=l.charCodeAt(0)||0:l.hasOwnProperty(rt)&&(f=l[rt]),null==f&&(f=l[rt]=ra++);const p=f&na;c.data[a+(p>>js)]|=1<<p}(a,c,l)}function Oc(a,c,l){if(l&_1.Optional||void 0!==a)return a;qe()}function q4(a,c,l,f){if(l&_1.Optional&&void 0===f&&(f=null),!(l&(_1.Self|_1.Host))){const p=a[A4],v=L2(void 0);try{return p?p.get(c,f,l&_1.Optional):En(c,f,l&_1.Optional)}finally{L2(v)}}return Oc(f,0,l)}function Fc(a,c,l,f=_1.Default,p){if(null!==a){if(1024&c[$1]){const C=function G0(a,c,l,f,p){let v=a,C=c;for(;null!==v&&null!==C&&1024&C[$1]&&!(256&C[$1]);){const z=qs(v,C,l,f|_1.Self,Dn);if(z!==Dn)return z;let E=v.parent;if(!E){const I=C[tn];if(I){const N=I.get(l,Dn,f);if(N!==Dn)return N}E=C3(C),C=C[Vi]}v=E}return p}(a,c,l,f,Dn);if(C!==Dn)return C}const v=qs(a,c,l,f,Dn);if(v!==Dn)return v}return q4(c,l,f,p)}function qs(a,c,l,f,p){const v=function U0(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(rt)?a[rt]:void 0;return"number"==typeof c?c>=0?c&na:sa:c}(l);if("function"==typeof v){if(!Ec(c,a,f))return f&_1.Host?Oc(p,0,f):q4(c,l,f,p);try{const C=v(f);if(null!=C||f&_1.Optional)return C;qe()}finally{Fs()}}else if("number"==typeof v){let C=null,z=Rc(a,c),E=U4,I=f&_1.Host?c[C2][P2]:null;for((-1===z||f&_1.SkipSelf)&&(E=-1===z?t2(a,c):c[z+8],E!==U4&&Zs(f,!1)?(C=c[o1],z=n4(E),c=j4(E,c)):z=-1);-1!==z;){const N=c[o1];if(Bi(v,z,N.data)){const O=M2(z,c,l,C,f,I);if(O!==Dn)return O}E=c[z+8],E!==U4&&Zs(f,c[o1].data[z+8]===I)&&Bi(v,z,c)?(C=N,z=n4(E),c=j4(E,c)):z=-1}}return p}function M2(a,c,l,f,p,v){const C=c[o1],z=C.data[a+8],N=r4(z,C,l,null==f?As(z)&&ta:f!=C&&0!=(3&z.type),p&_1.Host&&v===z);return null!==N?Wt(c,C,N,z):Dn}function r4(a,c,l,f,p){const v=a.providerIndexes,C=c.data,z=1048575&v,E=a.directiveStart,N=v>>20,K=p?z+N:a.directiveEnd;for(let se=f?z:z+N;se<K;se++){const Se=C[se];if(se<E&&l===Se||se>=E&&Se.type===l)return se}if(p){const se=C[E];if(se&&In(se)&&se.type===l)return E}return null}function Wt(a,c,l,f){let p=a[l];const v=c.data;if(function Q5(a){return a instanceof mi}(p)){const C=p;C.resolving&&function xe(a,c){const l=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new be(-200,`Circular dependency in DI detected for ${a}${l}`)}(function $e(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Re(a)}(v[l]));const z=$4(C.canSeeViewProviders);C.resolving=!0;const E=C.injectImpl?L2(C.injectImpl):null;Ec(a,f,_1.Default);try{p=a[l]=C.factory(void 0,v,a,f),c.firstCreatePass&&l>=f.directiveStart&&function X5(a,c,l){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:v}=c.type.prototype;if(f){const C=Is(c);(l.preOrderHooks??(l.preOrderHooks=[])).push(a,C),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(a,C)}p&&(l.preOrderHooks??(l.preOrderHooks=[])).push(0-a,p),v&&((l.preOrderHooks??(l.preOrderHooks=[])).push(a,v),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(a,v))}(l,v[l],c)}finally{null!==E&&L2(E),$4(z),C.resolving=!1,Fs()}}return p}function Bi(a,c,l){return!!(l[c+(a>>js)]&1<<a)}function Zs(a,c){return!(a&_1.Self||a&_1.Host&&c)}class i4{constructor(c,l){this._tNode=c,this._lView=l}get(c,l,f){return Fc(this._tNode,this._lView,c,Vn(f),l)}}function sa(){return new i4(Jt(),ge())}function oa(a){return B(()=>{const c=a.prototype.constructor,l=c[Pt]||Ui(c),f=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==f;){const v=p[Pt]||Ui(p);if(v&&v!==l)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function Ui(a){return Ye(a)?()=>{const c=Ui(te(a));return c&&c()}:di(a)}function C3(a){const c=a[o1],l=c.type;return 2===l?c.declTNode:1===l?a[P2]:null}function Z4(a){return function $s(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const l=a.attrs;if(l){const f=l.length;let p=0;for(;p<f;){const v=l[p];if(Pc(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<f&&"string"==typeof l[p];)p++;else{if(v===c)return l[p+1];p+=2}}}return null}(Jt(),a)}const s4="__parameters__";function M3(a,c,l){return B(()=>{const f=function Bc(a){return function(...l){if(a){const f=a(...l);for(const p in f)this[p]=f[p]}}}(c);function p(...v){if(this instanceof p)return f.apply(this,v),this;const C=new p(...v);return z.annotation=C,z;function z(E,I,N){const O=E.hasOwnProperty(s4)?E[s4]:Object.defineProperty(E,s4,{value:[]})[s4];for(;O.length<=N;)O.push(null);return(O[N]=O[N]||[]).push(C),E}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class ut{constructor(c,l){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=L1({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gi(a,c){a.forEach(l=>Array.isArray(l)?Gi(l,c):c(l))}function da(a,c,l){c>=a.length?a.push(l):a.splice(c,0,l)}function K4(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function o4(a,c){const l=[];for(let f=0;f<a;f++)l.push(c);return l}function fr(a,c,l){let f=Et(a,c);return f>=0?a[1|f]=l:(f=~f,function X4(a,c,l,f){let p=a.length;if(p==c)a.push(l,f);else if(1===p)a.push(f,a[0]),a[0]=l;else{for(p--,a.push(a[p-1],a[p]);p>c;)a[p]=a[p-2],p--;a[c]=l,a[c+1]=f}}(a,f,c,l)),f}function $2(a,c){const l=Et(a,c);if(l>=0)return a[1|l]}function Et(a,c){return function dr(a,c,l){let f=0,p=a.length>>l;for(;p!==f;){const v=f+(p-f>>1),C=a[v<<l];if(c===C)return v<<l;C>c?p=v:f=v+1}return~(p<<l)}(a,c,1)}const Wi=Er(M3("Optional"),8),Q4=Er(M3("SkipSelf"),4);var Qr=(()=>((Qr=Qr||{})[Qr.Important=1]="Important",Qr[Qr.DashCase=2]="DashCase",Qr))();const S2=new Map;let wa=0;const qc="__ngContext__";function Ot(a,c){yn(c)?(a[qc]=c[Ai],function no(a){S2.set(a[Ai],a)}(c)):a[qc]=c}let F1;function R1(a,c){return F1(a,c)}function Ft(a){const c=a[kt];return Vr(c)?c[kt]:c}function Jr(a){return ei(a[cr])}function on(a){return ei(a[yt])}function ei(a){for(;null!==a&&!Vr(a);)a=a[yt];return a}function z3(a,c,l,f,p){if(null!=f){let v,C=!1;Vr(f)?v=f:yn(f)&&(C=!0,f=f[N2]);const z=b2(f);0===a&&null!==l?null==p?Yn(c,l,z):A1(c,l,z,p||null,!0):1===a&&null!==l?A1(c,l,z,p||null,!0):2===a?function il(a,c,l){const f=oo(a,c);f&&function Zc(a,c,l,f){a.removeChild(c,l,f)}(a,f,c,l)}(c,z,C):3===a&&c.destroyNode(z),null!=v&&function S9(a,c,l,f,p){const v=l[W3];v!==b2(l)&&z3(c,a,f,v,p);for(let z=G2;z<l.length;z++){const E=l[z];s8(E[o1],E,a,c,f,v)}}(c,a,v,l,p)}}function t8(a,c,l){return a.createElement(c,l)}function S(a,c){const l=a[f3],f=l.indexOf(c),p=c[kt];512&c[$1]&&(c[$1]&=-513,Z3(p,-1)),l.splice(f,1)}function L(a,c){if(a.length<=G2)return;const l=G2+c,f=a[l];if(f){const p=f[l3];null!==p&&p!==a&&S(p,f),c>0&&(a[l-1][yt]=f[yt]);const v=K4(a,G2+c);!function so(a,c){s8(a,c,c[q1],2,null,null),c[N2]=null,c[P2]=null}(f[o1],f);const C=v[jn];null!==C&&C.detachView(v[o1]),f[kt]=null,f[yt]=null,f[$1]&=-65}return f}function P(a,c){if(!(128&c[$1])){const l=c[q1];l.destroyNode&&s8(a,c,l,3,null,null),function M(a){let c=a[cr];if(!c)return J(a[o1],a);for(;c;){let l=null;if(yn(c))l=c[cr];else{const f=c[G2];f&&(l=f)}if(!l){for(;c&&!c[yt]&&c!==a;)yn(c)&&J(c[o1],c),c=c[kt];null===c&&(c=a),yn(c)&&J(c[o1],c),l=c&&c[yt]}c=l}}(c)}}function J(a,c){if(!(128&c[$1])){c[$1]&=-65,c[$1]|=128,function Ze(a,c){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let f=0;f<l.length;f+=2){const p=c[l[f]];if(!(p instanceof mi)){const v=l[f+1];if(Array.isArray(v))for(let C=0;C<v.length;C+=2){const z=p[v[C]],E=v[C+1];Gt(4,z,E);try{E.call(z)}finally{Gt(5,z,E)}}else{Gt(4,p,v);try{v.call(p)}finally{Gt(5,p,v)}}}}}(a,c),function de(a,c){const l=a.cleanup,f=c[V4];let p=-1;if(null!==l)for(let v=0;v<l.length-1;v+=2)if("string"==typeof l[v]){const C=l[v+3];C>=0?f[p=C]():f[p=-C].unsubscribe(),v+=2}else{const C=f[p=l[v+1]];l[v].call(C)}if(null!==f){for(let v=p+1;v<f.length;v++)(0,f[v])();c[V4]=null}}(a,c),1===c[o1].type&&c[q1].destroy();const l=c[l3];if(null!==l&&Vr(c[kt])){l!==c[kt]&&S(l,c);const f=c[jn];null!==f&&f.detachView(a)}!function ro(a){S2.delete(a[Ai])}(c)}}function i1(a,c,l){return function w1(a,c,l){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return l[N2];{const{componentOffset:p}=f;if(p>-1){const{encapsulation:v}=a.data[f.directiveStart+p];if(v===Me.None||v===Me.Emulated)return null}return W2(f,l)}}(a,c.parent,l)}function A1(a,c,l,f,p){a.insertBefore(c,l,f,p)}function Yn(a,c,l){a.appendChild(c,l)}function T3(a,c,l,f,p){null!==f?A1(a,c,l,f,p):Yn(a,c,l)}function oo(a,c){return a.parentNode(c)}function n8(a,c,l){return r8(a,c,l)}let Sa,sl,z9,ol,r8=function Kc(a,c,l){return 40&a.type?W2(a,l):null};function za(a,c,l,f){const p=i1(a,f,c),v=c[q1],z=n8(f.parent||c[P2],f,c);if(null!=p)if(Array.isArray(l))for(let E=0;E<l.length;E++)T3(v,p,l[E],z,!1);else T3(v,p,l,z,!1);void 0!==Sa&&Sa(v,f,c,l,p)}function Xc(a,c){if(null!==c){const l=c.type;if(3&l)return W2(c,a);if(4&l)return i8(-1,a[c.index]);if(8&l){const f=c.child;if(null!==f)return Xc(a,f);{const p=a[c.index];return Vr(p)?i8(-1,p):b2(p)}}if(32&l)return R1(c,a)()||b2(a[c.index]);{const f=Qc(a,c);return null!==f?Array.isArray(f)?f[0]:Xc(Ft(a[C2]),f):Xc(a,c.next)}}return null}function Qc(a,c){return null!==c?a[C2][P2].projection[c.projection]:null}function i8(a,c){const l=G2+a+1;if(l<c.length){const f=c[l],p=f[o1].firstChild;if(null!==p)return Xc(f,p)}return c[W3]}function w9(a,c,l,f,p,v,C){for(;null!=l;){const z=f[l.index],E=l.type;if(C&&0===c&&(z&&Ot(b2(z),f),l.flags|=2),32!=(32&l.flags))if(8&E)w9(a,c,l.child,f,p,v,!1),z3(c,a,p,z,v);else if(32&E){const I=R1(l,f);let N;for(;N=I();)z3(c,a,p,N,v);z3(c,a,p,z,v)}else 16&E?lm(a,c,f,l,p,v):z3(c,a,p,z,v);l=C?l.projectionNext:l.next}}function s8(a,c,l,f,p,v){w9(l,f,a.firstChild,c,p,v,!1)}function lm(a,c,l,f,p,v){const C=l[C2],E=C[P2].projection[f.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)z3(c,a,p,E[I],v);else w9(a,c,E,C[kt],p,v,!0)}function um(a,c,l){""===l?a.removeAttribute(c,"class"):a.setAttribute(c,"class",l)}function fm(a,c,l){const{mergedAttrs:f,classes:p,styles:v}=l;null!==f&&e4(a,c,f),null!==p&&um(a,c,p),null!==v&&function Jc(a,c,l){a.setAttribute(c,"style",l)}(a,c,v)}function Ta(a){return function ti(){if(void 0===sl&&(sl=null,Ct.trustedTypes))try{sl=Ct.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return sl}()?.createHTML(a)||a}function tM(a){z9=a}function T9(){if(void 0===ol&&(ol=null,Ct.trustedTypes))try{ol=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return ol}function pm(a){return T9()?.createHTML(a)||a}function gm(a){return T9()?.createScriptURL(a)||a}class ao{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${d1})`}}class nM extends ao{getTypeName(){return"HTML"}}class rM extends ao{getTypeName(){return"Style"}}class iM extends ao{getTypeName(){return"Script"}}class sM extends ao{getTypeName(){return"URL"}}class oM extends ao{getTypeName(){return"ResourceURL"}}function x3(a){return a instanceof ao?a.changingThisBreaksApplicationSecurity:a}function co(a,c){const l=function x9(a){return a instanceof ao&&a.getTypeName()||null}(a);if(null!=l&&l!==c){if("ResourceURL"===l&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${l} (see ${d1})`)}return l===c}function E9(a){return new nM(a)}function H9(a){return new rM(a)}function V9(a){return new iM(a)}function aM(a){return new sM(a)}function cM(a){return new oM(a)}class ym{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const l=(new window.DOMParser).parseFromString(Ta(c),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(c):(l.removeChild(l.firstChild),l)}catch{return null}}}class lM{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const l=this.inertDocument.createElement("template");return l.innerHTML=Ta(c),l}}const _m=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function e6(a){return(a=String(a)).match(_m)?a:"unsafe:"+a}function rs(a){const c={};for(const l of a.split(","))c[l]=!0;return c}function o8(...a){const c={};for(const l of a)for(const f in l)l.hasOwnProperty(f)&&(c[f]=!0);return c}const A9=rs("area,br,col,hr,img,wbr"),Cm=rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bm=rs("rp,rt"),is=o8(A9,o8(Cm,rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),o8(bm,rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),o8(bm,Cm)),I9=rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),t6=o8(I9,rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dM=rs("script,style,template");class Mm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let l=c.firstChild,f=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?f=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,f&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(c){const l=c.nodeName.toLowerCase();if(!is.hasOwnProperty(l))return this.sanitizedSomething=!0,!dM.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const f=c.attributes;for(let p=0;p<f.length;p++){const v=f.item(p),C=v.name,z=C.toLowerCase();if(!t6.hasOwnProperty(z)){this.sanitizedSomething=!0;continue}let E=v.value;I9[z]&&(E=e6(E)),this.buf.push(" ",C,'="',al(E),'"')}return this.buf.push(">"),!0}endElement(c){const l=c.nodeName.toLowerCase();is.hasOwnProperty(l)&&!A9.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(c){this.buf.push(al(c))}checkClobberedElement(c,l){if(l&&(c.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return l}}const hM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pM=/([^\#-~ |!])/g;function al(a){return a.replace(/&/g,"&amp;").replace(hM,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(pM,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cl;function ll(a,c){let l=null;try{cl=cl||function vm(a){const c=new lM(a);return function uM(){try{return!!(new window.DOMParser).parseFromString(Ta(""),"text/html")}catch{return!1}}()?new ym(c):c}(a);let f=c?String(c):"";l=cl.getInertBodyElement(f);let p=5,v=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=v,v=l.innerHTML,l=cl.getInertBodyElement(f)}while(f!==v);return Ta((new Mm).sanitizeChildren(L9(l)||l))}finally{if(l){const f=L9(l)||l;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function L9(a){return"content"in a&&function mM(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var q2=(()=>((q2=q2||{})[q2.NONE=0]="NONE",q2[q2.HTML=1]="HTML",q2[q2.STYLE=2]="STYLE",q2[q2.SCRIPT=3]="SCRIPT",q2[q2.URL=4]="URL",q2[q2.RESOURCE_URL=5]="RESOURCE_URL",q2))();function wm(a){const c=Lr();return c?pm(c.sanitize(q2.HTML,a)||""):co(a,"HTML")?pm(x3(a)):ll(function hm(){return void 0!==z9?z9:typeof document<"u"?document:void 0}(),Re(a))}function ul(a){const c=Lr();return c?c.sanitize(q2.URL,a)||"":co(a,"URL")?x3(a):e6(Re(a))}function Sm(a){const c=Lr();if(c)return gm(c.sanitize(q2.RESOURCE_URL,a)||"");if(co(a,"ResourceURL"))return gm(x3(a));throw new be(904,!1)}function zm(a,c,l){return function SI(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?Sm:ul}(c,l)(a)}function Lr(){const a=ge();return a&&a[Vs]}const N9=new ut("ENVIRONMENT_INITIALIZER"),c8=new ut("INJECTOR",-1),p4=new ut("INJECTOR_DEF_TYPES");class Tm{get(c,l=sr){if(l===sr){const f=new Error(`NullInjectorError: No provider for ${Pe(c)}!`);throw f.name="NullInjectorError",f}return l}}function vM(a){return{\u0275providers:a}}function yM(...a){return{\u0275providers:xm(0,a),\u0275fromNgModule:!0}}function xm(a,...c){const l=[],f=new Set;let p;return Gi(c,v=>{const C=v;k9(C,l,[],f)&&(p||(p=[]),p.push(C))}),void 0!==p&&P9(p,l),l}function P9(a,c){for(let l=0;l<a.length;l++){const{providers:p}=a[l];X1(p,v=>{c.push(v)})}}function k9(a,c,l,f){if(!(a=te(a)))return!1;let p=null,v=Tr(a);const C=!v&&M1(a);if(v||C){if(C&&!C.standalone)return!1;p=a}else{const E=a.ngModule;if(v=Tr(E),!v)return!1;p=E}const z=f.has(p);if(C){if(z)return!1;if(f.add(p),C.dependencies){const E="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const I of E)k9(I,c,l,f)}}else{if(!v)return!1;{if(null!=v.imports&&!z){let I;f.add(p);try{Gi(v.imports,N=>{k9(N,c,l,f)&&(I||(I=[]),I.push(N))})}finally{}void 0!==I&&P9(I,c)}if(!z){const I=di(p)||(()=>new p);c.push({provide:p,useFactory:I,deps:Oe},{provide:p4,useValue:p,multi:!0},{provide:N9,useValue:()=>dt(p),multi:!0})}const E=v.providers;null==E||z||X1(E,N=>{c.push(N)})}}return p!==a&&void 0!==a.providers}function X1(a,c){for(let l of a)Ee(l)&&(l=l.\u0275providers),Array.isArray(l)?X1(l,c):c(l)}const _M=ve({provide:String,useValue:ve});function O9(a){return null!==a&&"object"==typeof a&&_M in a}function xa(a){return"function"==typeof a}const U9=new ut("Set Injector scope."),l8={},u8={};let G9;function n6(){return void 0===G9&&(G9=new Tm),G9}class lo{}class Hm extends lo{get destroyed(){return this._destroyed}constructor(c,l,f,p){super(),this.parent=l,this.source=f,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$i(c,C=>this.processProvider(C)),this.records.set(c8,Ea(void 0,this)),p.has("environment")&&this.records.set(lo,Ea(void 0,this));const v=this.records.get(U9);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(p4.multi,Oe,_1.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const l=ot(this),f=L2(void 0);try{return c()}finally{ot(l),L2(f)}}get(c,l=sr,f=_1.Default){this.assertNotDestroyed(),f=Vn(f);const p=ot(this),v=L2(void 0);try{if(!(f&_1.SkipSelf)){let z=this.records.get(c);if(void 0===z){const E=function CM(a){return"function"==typeof a||"object"==typeof a&&a instanceof ut}(c)&&Yt(c);z=E&&this.injectableDefInScope(E)?Ea(f8(c),l8):null,this.records.set(c,z)}if(null!=z)return this.hydrate(c,z)}return(f&_1.Self?n6():this.parent).get(c,l=f&_1.Optional&&l===sr?null:l)}catch(C){if("NullInjectorError"===C.name){if((C[a2]=C[a2]||[]).unshift(Pe(c)),p)throw C;return function Wn(a,c,l,f){const p=a[a2];throw c[Nt]&&p.unshift(c[Nt]),a.message=function W(a,c,l,f=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==mn?a.slice(2):a;let p=Pe(c);if(Array.isArray(c))p=c.map(Pe).join(" -> ");else if("object"==typeof c){let v=[];for(let C in c)if(c.hasOwnProperty(C)){let z=c[C];v.push(C+":"+("string"==typeof z?JSON.stringify(z):Pe(z)))}p=`{${v.join(", ")}}`}return`${l}${f?"("+f+")":""}[${p}]: ${a.replace(c2,"\n  ")}`}("\n"+a.message,p,l,f),a[Gn]=p,a[a2]=null,a}(C,c,"R3InjectorError",this.source)}throw C}finally{L2(v),ot(p)}}resolveInjectorInitializers(){const c=ot(this),l=L2(void 0);try{const f=this.get(N9.multi,Oe,_1.Self);for(const p of f)p()}finally{ot(c),L2(l)}}toString(){const c=[],l=this.records;for(const f of l.keys())c.push(Pe(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(c){let l=xa(c=te(c))?c:te(c&&c.provide);const f=function r6(a){return O9(a)?Ea(void 0,a.useValue):Ea(dl(a),l8)}(c);if(xa(c)||!0!==c.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=Ea(void 0,l8,!0),p.factory=()=>_2(p.multi),this.records.set(l,p)),l=c,p.multi.push(c)}this.records.set(l,f)}hydrate(c,l){return l.value===l8&&(l.value=u8,l.value=l.factory()),"object"==typeof l.value&&l.value&&function i6(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(c){if(!c.providedIn)return!1;const l=te(c.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function f8(a){const c=Yt(a),l=null!==c?c.factory:di(a);if(null!==l)return l;if(a instanceof ut)throw new be(204,!1);if(a instanceof Function)return function d8(a){const c=a.length;if(c>0)throw o4(c,"?"),new be(204,!1);const l=function ir(a){return a&&(a[jr]||a[H4])||null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new be(204,!1)}function dl(a,c,l){let f;if(xa(a)){const p=te(a);return di(p)||f8(p)}if(O9(a))f=()=>te(a.useValue);else if(function B9(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(..._2(a.deps||[]));else if(function F9(a){return!(!a||!a.useExisting)}(a))f=()=>dt(te(a.useExisting));else{const p=te(a&&(a.useClass||a.provide));if(!function kn(a){return!!a.deps}(a))return di(p)||f8(p);f=()=>new p(..._2(a.deps))}return f}function Ea(a,c,l=!1){return{factory:a,value:c,multi:l?[]:void 0}}function $i(a,c){for(const l of a)Array.isArray(l)?$i(l,c):l&&Ee(l)?$i(l.\u0275providers,c):c(l)}class hl{}class W9{}class pr{resolveComponentFactory(c){throw function bM(a){const c=Error(`No component factory found for ${Pe(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let qi=(()=>{class a{}return a.NULL=new pr,a})();function MM(){return Va(Jt(),ge())}function Va(a,c){return new Aa(W2(a,c))}let Aa=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=MM,a})();function Vm(a){return a instanceof Aa?a.nativeElement:a}class Am{}let wM=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function j9(){const a=ge(),l=k2(Jt().index,a);return(yn(l)?l:a)[q1]}(),a})(),et=(()=>{class a{}return a.\u0275prov=L1({token:a,providedIn:"root",factory:()=>null}),a})();class s6{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Im=new s6("15.2.9"),uo={},$9="ngOriginalError";function Zi(a){return a[$9]}class o6{constructor(){this._console=console}handleError(c){const l=this._findOriginalError(c);this._console.error("ERROR",c),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(c){let l=c&&Zi(c);for(;l&&Zi(l);)l=Zi(l);return l||null}}function ss(a){return a.ownerDocument.defaultView}function h8(a){return a.ownerDocument}function g4(a){return a instanceof Function?a():a}function os(a,c,l){let f=a.length;for(;;){const p=a.indexOf(c,l);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const v=c.length;if(p+v===f||a.charCodeAt(p+v)<=32)return p}l=p+1}}const ct="ng-template";function p8(a,c,l){let f=0,p=!0;for(;f<a.length;){let v=a[f++];if("string"==typeof v&&p){const C=a[f++];if(l&&"class"===v&&-1!==os(C.toLowerCase(),c,0))return!0}else{if(1===v){for(;f<a.length&&"string"==typeof(v=a[f++]);)if(v.toLowerCase()===c)return!0;return!1}"number"==typeof v&&(p=!1)}}return!1}function Pm(a){return 4===a.type&&a.value!==ct}function La(a,c,l){return c===(4!==a.type||l?a.value:ct)}function EM(a,c,l){let f=4;const p=a.attrs||[],v=function m8(a){for(let c=0;c<a.length;c++)if(Pc(a[c]))return c;return a.length}(p);let C=!1;for(let z=0;z<c.length;z++){const E=c[z];if("number"!=typeof E){if(!C)if(4&f){if(f=2|1&f,""!==E&&!La(a,E,l)||""===E&&1===c.length){if(Dr(f))return!1;C=!0}}else{const I=8&f?E:c[++z];if(8&f&&null!==a.attrs){if(!p8(a.attrs,I,l)){if(Dr(f))return!1;C=!0}continue}const O=K9(8&f?"class":E,p,Pm(a),l);if(-1===O){if(Dr(f))return!1;C=!0;continue}if(""!==I){let K;K=O>v?"":p[O+1].toLowerCase();const se=8&f?K:null;if(se&&-1!==os(se,I,0)||2&f&&I!==K){if(Dr(f))return!1;C=!0}}}}else{if(!C&&!Dr(f)&&!Dr(E))return!1;if(C&&Dr(E))continue;C=!1,f=E|1&f}}return Dr(f)||C}function Dr(a){return 0==(1&a)}function K9(a,c,l,f){if(null===c)return-1;let p=0;if(f||!l){let v=!1;for(;p<c.length;){const C=c[p];if(C===a)return p;if(3===C||6===C)v=!0;else{if(1===C||2===C){let z=c[++p];for(;"string"==typeof z;)z=c[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=v?1:2}return-1}return function Rm(a,c){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const f=a[l];if("number"==typeof f)return-1;if(f===c)return l;l++}return-1}(c,a)}function km(a,c,l=!1){for(let f=0;f<c.length;f++)if(EM(a,c[f],l))return!0;return!1}function ml(a,c){e:for(let l=0;l<c.length;l++){const f=c[l];if(a.length===f.length){for(let p=0;p<a.length;p++)if(a[p]!==f[p])continue e;return!0}}return!1}function Om(a,c){return a?":not("+c.trim()+")":c}function Y9(a){let c=a[0],l=1,f=2,p="",v=!1;for(;l<a.length;){let C=a[l];if("string"==typeof C)if(2&f){const z=a[++l];p+="["+C+(z.length>0?'="'+z+'"':"")+"]"}else 8&f?p+="."+C:4&f&&(p+=" "+C);else""!==p&&!Dr(C)&&(c+=Om(v,p),p=""),f=C,v=v||!Dr(f);l++}return""!==p&&(c+=Om(v,p)),c}const Z1={};function Bm(a){Um(U1(),ge(),nn()+a,!1)}function Um(a,c,l,f){if(!f)if(3==(3&c[$1])){const v=a.preOrderCheckHooks;null!==v&&Jo(c,v,l)}else{const v=a.preOrderHooks;null!==v&&Lc(c,v,0,l)}Kr(l)}function $m(a,c=null,l=null,f){const p=fo(a,c,l,f);return p.resolveInjectorInitializers(),p}function fo(a,c=null,l=null,f,p=new Set){const v=[l||Oe,yM(a)];return f=f||("object"==typeof a?void 0:Pe(a)),new Hm(v,c||n6(),f||null,p)}let as=(()=>{class a{static create(l,f){if(Array.isArray(l))return $m({name:""},f,l,"");{const p=l.name??"";return $m({name:p},l.parent,l.providers,p)}}}return a.THROW_IF_NOT_FOUND=sr,a.NULL=new Tm,a.\u0275prov=L1({token:a,providedIn:"any",factory:()=>dt(c8)}),a.__NG_ELEMENT_ID__=-1,a})();function f6(a,c=_1.Default){const l=ge();return null===l?dt(a,c):Fc(Jt(),l,te(a),c)}function Ym(){throw new Error("invalid")}function Xm(a,c){const l=a.contentQueries;if(null!==l)for(let f=0;f<l.length;f+=2){const v=l[f+1];if(-1!==v){const C=a.data[v];xc(l[f]),C.contentQueries(2,c[v],v)}}}function Sl(a,c,l,f,p,v,C,z,E,I,N){const O=c.blueprint.slice();return O[N2]=p,O[$1]=76|f,(null!==N||a&&1024&a[$1])&&(O[$1]|=1024),R4(O),O[kt]=O[Vi]=a,O[Xt]=l,O[Hr]=C||a&&a[Hr],O[q1]=z||a&&a[q1],O[Vs]=E||a&&a[Vs]||null,O[A4]=I||a&&a[A4]||null,O[P2]=v,O[Ai]=function to(){return wa++}(),O[tn]=N,O[C2]=2==c.type?a[C2]:O,O}function d6(a,c,l,f,p){let v=a.data[c];if(null===v)v=function sf(a,c,l,f,p){const v=Mc(),C=ks(),E=a.data[c]=function Jm(a,c,l,f,p,v){return{type:l,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?v:v&&v.parent,l,c,f,p);return null===a.firstChild&&(a.firstChild=E),null!==v&&(C?null==v.child&&null!==E.parent&&(v.child=E):null===v.next&&(v.next=E,E.prev=v)),E}(a,c,l,f,p),function zc(){return B1.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=l,v.value=f,v.attrs=p;const C=function K3(){const a=B1.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();v.injectorIndex=null===C?-1:C.injectorIndex}return ur(v,!0),v}function h6(a,c,l,f){if(0===l)return-1;const p=c.length;for(let v=0;v<l;v++)c.push(f),a.blueprint.push(f),a.data.push(null);return p}function af(a,c,l){X3(c);try{const f=a.viewQuery;null!==f&&Ll(1,f,l);const p=a.template;null!==p&&Qm(a,c,p,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Xm(a,c),a.staticViewQueries&&Ll(2,a.viewQuery,l);const v=a.components;null!==v&&function FM(a,c){for(let l=0;l<c.length;l++)gf(a,c[l])}(c,v)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{c[$1]&=-5,Hc()}}function zl(a,c,l,f){const p=c[$1];if(128!=(128&p)){X3(c);try{R4(c),function Ri(a){return B1.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&Qm(a,c,l,2,f);const C=3==(3&p);if(C){const I=a.preOrderCheckHooks;null!==I&&Jo(c,I,null)}else{const I=a.preOrderHooks;null!==I&&Lc(c,I,0,null),Dc(c,0)}if(function VI(a){for(let c=Jr(a);null!==c;c=on(c)){if(!c[L4])continue;const l=c[f3];for(let f=0;f<l.length;f++){const p=l[f];512&p[$1]||Z3(p[kt],1),p[$1]|=512}}}(c),function HI(a){for(let c=Jr(a);null!==c;c=on(c))for(let l=G2;l<c.length;l++){const f=c[l],p=f[o1];Pi(f)&&zl(p,f,p.template,f[Xt])}}(c),null!==a.contentQueries&&Xm(a,c),C){const I=a.contentCheckHooks;null!==I&&Jo(c,I)}else{const I=a.contentHooks;null!==I&&Lc(c,I,1),Dc(c,1)}!function RM(a,c){const l=a.hostBindingOpCodes;if(null!==l)try{for(let f=0;f<l.length;f++){const p=l[f];if(p<0)Kr(~p);else{const v=p,C=l[++f],z=l[++f];Tc(C,v),z(2,c[v])}}}finally{Kr(-1)}}(a,c);const z=a.components;null!==z&&function OM(a,c){for(let l=0;l<c.length;l++)AI(a,c[l])}(c,z);const E=a.viewQuery;if(null!==E&&Ll(2,E,f),C){const I=a.viewCheckHooks;null!==I&&Jo(c,I)}else{const I=a.viewHooks;null!==I&&Lc(c,I,2),Dc(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[$1]&=-41,512&c[$1]&&(c[$1]&=-513,Z3(c[kt],-1))}finally{Hc()}}}function Qm(a,c,l,f,p){const v=nn(),C=2&f;try{Kr(-1),C&&c.length>xt&&Um(a,c,xt,!1),Gt(C?2:0,p),l(f,p)}finally{Kr(v),Gt(C?3:1,p)}}function cf(a,c,l){if(d3(c)){const p=c.directiveEnd;for(let v=c.directiveStart;v<p;v++){const C=a.data[v];C.contentQueries&&C.contentQueries(1,l[v],v)}}}function lf(a,c,l){Cc()&&(function WM(a,c,l,f){const p=l.directiveStart,v=l.directiveEnd;As(l)&&function Vl(a,c,l){const f=W2(c,a),p=xl(l),v=a[Hr],C=Al(a,Sl(a,p,null,l.onPush?32:16,f,c,v,v.createRenderer(f,l),null,null,null));a[c.index]=C}(c,l,a.data[p+l.componentOffset]),a.firstCreatePass||ia(l,c),Ot(f,c);const C=l.initialInputs;for(let z=p;z<v;z++){const E=a.data[z],I=Wt(c,a,z,l);Ot(I,c),null!==C&&$M(0,z-p,I,E,0,C),In(E)&&(k2(l.index,c)[Xt]=Wt(c,a,z,l))}}(a,c,l,W2(l,c)),64==(64&l.flags)&&rg(a,c,l))}function Tl(a,c,l=W2){const f=c.localNames;if(null!==f){let p=c.index+1;for(let v=0;v<f.length;v+=2){const C=f[v+1],z=-1===C?l(c,a):a[C];a[p++]=z}}}function xl(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=y8(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function y8(a,c,l,f,p,v,C,z,E,I){const N=xt+f,O=N+p,K=function cs(a,c){const l=[];for(let f=0;f<c;f++)l.push(f<a?null:Z1);return l}(N,O),se="function"==typeof I?I():I;return K[o1]={type:a,blueprint:K,template:l,queries:null,viewQuery:z,declTNode:c,data:K.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:E,consts:se,incompleteFirstPass:!1}}function uf(a,c,l,f){const p=cg(c);null===l?p.push(f):(p.push(l),a.firstCreatePass&&lg(a).push(f,p.length-1))}function eg(a,c,l,f){for(let p in a)if(a.hasOwnProperty(p)){l=null===l?{}:l;const v=a[p];null===f?Na(l,c,p,v):f.hasOwnProperty(p)&&Na(l,c,f[p],v)}return l}function Na(a,c,l,f){a.hasOwnProperty(l)?a[l].push(c,f):a[l]=[c,f]}function mr(a,c,l,f,p,v,C,z){const E=W2(c,l);let N,I=c.inputs;!z&&null!=I&&(N=I[f])?(yf(a,l,N,f,p),As(c)&&function ng(a,c){const l=k2(c,a);16&l[$1]||(l[$1]|=32)}(l,c.index)):3&c.type&&(f=function BM(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),p=null!=C?C(p,c.value||"",f):p,v.setProperty(E,f,p))}function _8(a,c,l,f){if(Cc()){const p=null===f?null:{"":-1},v=function ig(a,c){const l=a.directiveRegistry;let f=null,p=null;if(l)for(let v=0;v<l.length;v++){const C=l[v];if(km(c,C.selectors,!1))if(f||(f=[]),In(C))if(null!==C.findHostDirectiveDefs){const z=[];p=p||new Map,C.findHostDirectiveDefs(C,z,p),f.unshift(...z,C),Hl(a,c,z.length)}else f.unshift(C),Hl(a,c,0);else p=p||new Map,C.findHostDirectiveDefs?.(C,f,p),f.push(C)}return null===f?null:[f,p]}(a,l);let C,z;null===v?C=z=null:[C,z]=v,null!==C&&El(a,c,l,C,p,z),p&&function sg(a,c,l){if(c){const f=a.localNames=[];for(let p=0;p<c.length;p+=2){const v=l[c[p+1]];if(null==v)throw new be(-301,!1);f.push(c[p],v)}}}(l,f,p)}l.mergedAttrs=y3(l.mergedAttrs,l.attrs)}function El(a,c,l,f,p,v){for(let I=0;I<f.length;I++)Fi(ia(l,c),a,f[I].type);!function jM(a,c,l){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+l,a.providerIndexes=c}(l,a.data.length,f.length);for(let I=0;I<f.length;I++){const N=f[I];N.providersResolver&&N.providersResolver(N)}let C=!1,z=!1,E=h6(a,c,f.length,null);for(let I=0;I<f.length;I++){const N=f[I];l.mergedAttrs=y3(l.mergedAttrs,N.hostAttrs),b8(a,l,c,E,N),og(E,N,p),null!==N.contentQueries&&(l.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=64);const O=N.type.prototype;!C&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(l.index),C=!0),!z&&(O.ngOnChanges||O.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(l.index),z=!0),E++}!function tg(a,c,l){const p=c.directiveEnd,v=a.data,C=c.attrs,z=[];let E=null,I=null;for(let N=c.directiveStart;N<p;N++){const O=v[N],K=l?l.get(O):null,Se=K?K.outputs:null;E=eg(O.inputs,N,E,K?K.inputs:null),I=eg(O.outputs,N,I,Se);const je=null===E||null===C||Pm(c)?null:pf(E,N,C);z.push(je)}null!==E&&(E.hasOwnProperty("class")&&(c.flags|=8),E.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=z,c.inputs=E,c.outputs=I}(a,l,v)}function rg(a,c,l){const f=l.directiveStart,p=l.directiveEnd,v=l.index,C=function K5(){return B1.lFrame.currentDirectiveIndex}();try{Kr(v);for(let z=f;z<p;z++){const E=a.data[z],I=c[z];e2(z),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&df(E,I)}}finally{Kr(-1),e2(C)}}function df(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function Hl(a,c,l){c.componentOffset=l,(a.components??(a.components=[])).push(c.index)}function og(a,c,l){if(l){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)l[c.exportAs[f]]=a;In(c)&&(l[""]=a)}}function b8(a,c,l,f,p){a.data[f]=p;const v=p.factory||(p.factory=di(p.type)),C=new mi(v,In(p),f6);a.blueprint[f]=C,l[f]=C,function GM(a,c,l,f,p){const v=p.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const z=~c.index;(function C8(a){let c=a.length;for(;c>0;){const l=a[--c];if("number"==typeof l&&l<0)return l}return 0})(C)!=z&&C.push(z),C.push(l,f,v)}}(a,c,f,h6(a,l,p.hostVars,Z1),p)}function Ki(a,c,l,f,p,v){const C=W2(a,c);!function hf(a,c,l,f,p,v,C){if(null==v)a.removeAttribute(c,p,l);else{const z=null==C?Re(v):C(v,f||"",p);a.setAttribute(c,p,z,l)}}(c[q1],C,v,a.value,l,f,p)}function $M(a,c,l,f,p,v){const C=v[c];if(null!==C){const z=f.setInput;for(let E=0;E<C.length;){const I=C[E++],N=C[E++],O=C[E++];null!==z?f.setInput(l,O,I,N):l[N]=O}}}function pf(a,c,l){let f=null,p=0;for(;p<l.length;){const v=l[p];if(0!==v)if(5!==v){if("number"==typeof v)break;if(a.hasOwnProperty(v)){null===f&&(f=[]);const C=a[v];for(let z=0;z<C.length;z+=2)if(C[z]===c){f.push(v,C[z+1],l[p+1]);break}}p+=2}else p+=2;else p+=4}return f}function mf(a,c,l,f){return[a,!0,!1,c,null,0,f,l,null,null]}function AI(a,c){const l=k2(c,a);if(Pi(l)){const f=l[o1];48&l[$1]?zl(f,l,f.template,l[Xt]):l[Hi]>0&&ag(l)}}function ag(a){for(let f=Jr(a);null!==f;f=on(f))for(let p=G2;p<f.length;p++){const v=f[p];if(Pi(v))if(512&v[$1]){const C=v[o1];zl(C,v,C.template,v[Xt])}else v[Hi]>0&&ag(v)}const l=a[o1].components;if(null!==l)for(let f=0;f<l.length;f++){const p=k2(l[f],a);Pi(p)&&p[Hi]>0&&ag(p)}}function gf(a,c){const l=k2(c,a),f=l[o1];(function qM(a,c){for(let l=c.length;l<a.blueprint.length;l++)c.push(a.blueprint[l])})(f,l),af(f,l,l[Xt])}function Al(a,c){return a[cr]?a[I4][yt]=c:a[cr]=c,a[I4]=c,c}function Il(a){for(;a;){a[$1]|=32;const c=Ft(a);if(Li(a)&&!c)return a;a=c}return null}function m6(a,c,l,f=!0){const p=c[Hr];p.begin&&p.begin();try{zl(a,c,a.template,l)}catch(C){throw f&&M8(c,C),C}finally{p.end&&p.end()}}function Ll(a,c,l){xc(0),c(a,l)}function cg(a){return a[V4]||(a[V4]=[])}function lg(a){return a.cleanup||(a.cleanup=[])}function M8(a,c){const l=a[A4],f=l?l.get(o6,null):null;f&&f.handleError(c)}function yf(a,c,l,f,p){for(let v=0;v<l.length;){const C=l[v++],z=l[v++],E=c[C],I=a.data[C];null!==I.setInput?I.setInput(E,p,f,z):E[z]=p}}function us(a,c,l){let f=l?a.styles:null,p=l?a.classes:null,v=0;if(null!==c)for(let C=0;C<c.length;C++){const z=c[C];"number"==typeof z?v=z:1==v?p=He(p,z):2==v&&(f=He(f,z+": "+c[++C]+";"))}l?a.styles=f:a.stylesWithoutHost=f,l?a.classes=p:a.classesWithoutHost=p}function po(a,c,l,f,p=!1){for(;null!==l;){const v=c[l.index];if(null!==v&&f.push(b2(v)),Vr(v))for(let z=G2;z<v.length;z++){const E=v[z],I=E[o1].firstChild;null!==I&&po(E[o1],E,I,f)}const C=l.type;if(8&C)po(a,c,l.child,f);else if(32&C){const z=R1(l,c);let E;for(;E=z();)f.push(E)}else if(16&C){const z=Qc(c,l);if(Array.isArray(z))f.push(...z);else{const E=Ft(c[C2]);po(E[o1],E,z,f,!0)}}l=p?l.projectionNext:l.next}return f}class w8{get rootNodes(){const c=this._lView,l=c[o1];return po(l,c,l.firstChild,[])}constructor(c,l){this._lView=c,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(c){this._lView[Xt]=c}get destroyed(){return 128==(128&this._lView[$1])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[kt];if(Vr(c)){const l=c[Ii],f=l?l.indexOf(this):-1;f>-1&&(L(c,f),K4(l,f))}this._attachedToViewContainer=!1}P(this._lView[o1],this._lView)}onDestroy(c){uf(this._lView[o1],this._lView,null,c)}markForCheck(){Il(this._cdRefInjectingView||this._lView)}detach(){this._lView[$1]&=-65}reattach(){this._lView[$1]|=64}detectChanges(){m6(this._lView[o1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M9(a,c){s8(a,c,c[q1],2,null,null)}(this._lView[o1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=c}}class ZM extends w8{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;m6(c[o1],c,c[Xt],!1)}checkNoChanges(){}get context(){return null}}class g6 extends qi{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const l=M1(c);return new S8(l,this.ngModule)}}function v6(a){const c=[];for(let l in a)a.hasOwnProperty(l)&&c.push({propName:a[l],templateName:l});return c}class YM{constructor(c,l){this.injector=c,this.parentInjector=l}get(c,l,f){f=Vn(f);const p=this.injector.get(c,uo,f);return p!==uo||l===uo?p:this.parentInjector.get(c,l,f)}}class S8 extends W9{get inputs(){return v6(this.componentDef.inputs)}get outputs(){return v6(this.componentDef.outputs)}constructor(c,l){super(),this.componentDef=c,this.ngModule=l,this.componentType=c.type,this.selector=function gl(a){return a.map(Y9).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!l}create(c,l,f,p){let v=(p=p||this.ngModule)instanceof lo?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const C=v?new YM(c,v):c,z=C.get(Am,null);if(null===z)throw new be(407,!1);const E=C.get(et,null),I=z.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",O=f?function p6(a,c,l){return a.selectRootElement(c,l===Me.ShadowDom)}(I,f,this.componentDef.encapsulation):t8(I,N,function KM(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(N)),K=this.componentDef.onPush?288:272,se=y8(0,null,null,1,0,null,null,null,null,null),Se=Sl(null,se,null,K,null,null,z,I,E,C,null);let je,s1;X3(Se);try{const m1=this.componentDef;let N1,De=null;m1.findHostDirectiveDefs?(N1=[],De=new Map,m1.findHostDirectiveDefs(m1,N1,De),N1.push(m1)):N1=[m1];const G1=function QM(a,c){const l=a[o1],f=xt;return a[f]=c,d6(l,f,2,"#host",null)}(Se,O),p2=function LI(a,c,l,f,p,v,C,z){const E=p[o1];!function JM(a,c,l,f){for(const p of a)c.mergedAttrs=y3(c.mergedAttrs,p.hostAttrs);null!==c.mergedAttrs&&(us(c,c.mergedAttrs,!0),null!==l&&fm(f,l,c))}(f,a,c,C);const I=v.createRenderer(c,l),N=Sl(p,xl(l),null,l.onPush?32:16,p[a.index],a,v,I,z||null,null,null);return E.firstCreatePass&&Hl(E,a,f.length-1),Al(p,N),p[a.index]=N}(G1,O,m1,N1,Se,z,I);s1=Ns(se,xt),O&&function Nl(a,c,l,f){if(f)e4(a,l,["ng-version",Im.full]);else{const{attrs:p,classes:v}=function Fm(a){const c=[],l=[];let f=1,p=2;for(;f<a.length;){let v=a[f];if("string"==typeof v)2===p?""!==v&&c.push(v,a[++f]):8===p&&l.push(v);else{if(!Dr(p))break;p=v}f++}return{attrs:c,classes:l}}(c.selectors[0]);p&&e4(a,l,p),v&&v.length>0&&um(a,l,v.join(" "))}}(I,m1,O,f),void 0!==l&&function y6(a,c,l){const f=a.projection=[];for(let p=0;p<c.length;p++){const v=l[p];f.push(null!=v?Array.from(v):null)}}(s1,this.ngContentSelectors,l),je=function _f(a,c,l,f,p,v){const C=Jt(),z=p[o1],E=W2(C,p);El(z,p,C,l,null,f);for(let N=0;N<l.length;N++)Ot(Wt(p,z,C.directiveStart+N,C),p);rg(z,p,C),E&&Ot(E,p);const I=Wt(p,z,C.directiveStart+C.componentOffset,C);if(a[Xt]=p[Xt]=I,null!==v)for(const N of v)N(I,c);return cf(z,C,a),I}(p2,m1,N1,De,Se,[ew]),af(se,Se,null)}finally{Hc()}return new XM(this.componentType,je,Va(s1,Se),Se,s1)}}class XM extends hl{constructor(c,l,f,p,v){super(),this.location=f,this._rootLView=p,this._tNode=v,this.instance=l,this.hostView=this.changeDetectorRef=new ZM(p),this.componentType=c}setInput(c,l){const f=this._tNode.inputs;let p;if(null!==f&&(p=f[c])){const v=this._rootLView;yf(v[o1],v,p,c,l),Il(k2(this._tNode.index,v))}}get injector(){return new i4(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function ew(){const a=Jt();Bs(ge()[o1],a)}function Cf(a){let c=function ug(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const f=[a];for(;c;){let p;if(In(a))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new be(903,!1);p=c.\u0275dir}if(p){if(l){f.push(p);const C=a;C.inputs=bf(a.inputs),C.declaredInputs=bf(a.declaredInputs),C.outputs=bf(a.outputs);const z=p.hostBindings;z&&iw(a,z);const E=p.viewQuery,I=p.contentQueries;if(E&&nw(a,E),I&&rw(a,I),Ge(a.inputs,p.inputs),Ge(a.declaredInputs,p.declaredInputs),Ge(a.outputs,p.outputs),In(p)&&p.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let C=0;C<v.length;C++){const z=v[C];z&&z.ngInherit&&z(a),z===Cf&&(l=!1)}}c=Object.getPrototypeOf(c)}!function tw(a){let c=0,l=null;for(let f=a.length-1;f>=0;f--){const p=a[f];p.hostVars=c+=p.hostVars,p.hostAttrs=y3(p.hostAttrs,l=y3(l,p.hostAttrs))}}(f)}function bf(a){return a===oe?{}:a===Oe?[]:a}function nw(a,c){const l=a.viewQuery;a.viewQuery=l?(f,p)=>{c(f,p),l(f,p)}:c}function rw(a,c){const l=a.contentQueries;a.contentQueries=l?(f,p,v)=>{c(f,p,v),l(f,p,v)}:c}function iw(a,c){const l=a.hostBindings;a.hostBindings=l?(f,p)=>{c(f,p),l(f,p)}:c}function Rl(a){return!!Fl(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function Fl(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function wi(a,c,l){return a[c]=l}function an(a,c,l){return!Object.is(a[c],l)&&(a[c]=l,!0)}function mo(a,c,l,f){const p=an(a,c,l);return an(a,c+1,f)||p}function Sf(a,c,l,f){const p=ge();return an(p,pi(),c)&&(U1(),Ki(Rt(),p,a,c,l,f)),Sf}function b6(a,c,l,f){return an(a,pi(),l)?c+Re(l)+f:Z1}function vg(a,c,l,f,p,v,C,z){const E=ge(),I=U1(),N=a+xt,O=I.firstCreatePass?function lw(a,c,l,f,p,v,C,z,E){const I=c.consts,N=d6(c,a,4,C||null,hi(I,z));_8(c,l,N,hi(I,E)),Bs(c,N);const O=N.tView=y8(2,N,f,p,v,c.directiveRegistry,c.pipeRegistry,null,c.schemas,I);return null!==c.queries&&(c.queries.template(c,N),O.queries=c.queries.embeddedTView(N)),N}(N,I,E,c,l,f,p,v,C):I.data[N];ur(O,!1);const K=E[q1].createComment("");za(I,E,K,O),Ot(K,E),Al(E,E[N]=mf(K,E,K,O)),D4(O)&&lf(I,E,O),null!=C&&Tl(E,O,z)}function Gl(a,c,l){const f=ge();return an(f,pi(),c)&&mr(U1(),Rt(),f,a,c,f[q1],l,!1),Gl}function z8(a,c,l,f,p){const C=p?"class":"style";yf(a,l,c.inputs[C],C,f)}function fs(a,c,l,f){const p=ge(),v=U1(),C=xt+a,z=p[q1],E=v.firstCreatePass?function yg(a,c,l,f,p,v){const C=c.consts,E=d6(c,a,2,f,hi(C,p));return _8(c,l,E,hi(C,v)),null!==E.attrs&&us(E,E.attrs,!1),null!==E.mergedAttrs&&us(E,E.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,E),E}(C,v,p,c,l,f):v.data[C],I=p[C]=t8(z,c,function Ic(){return B1.lFrame.currentNamespace}()),N=D4(E);return ur(E,!0),fm(z,I,E),32!=(32&E.flags)&&za(v,p,I,E),0===function jo(){return B1.lFrame.elementDepthCount}()&&Ot(I,p),function $o(){B1.lFrame.elementDepthCount++}(),N&&(lf(v,p,E),cf(v,E,p)),null!==f&&Tl(p,E),fs}function E6(){let a=Jt();ks()?wc():(a=a.parent,ur(a,!1));const c=a;!function qo(){B1.lFrame.elementDepthCount--}();const l=U1();return l.firstCreatePass&&(Bs(l,a),d3(a)&&l.queries.elementEnd(a)),null!=c.classesWithoutHost&&function gi(a){return 0!=(8&a.flags)}(c)&&z8(l,c,ge(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function ea(a){return 0!=(16&a.flags)}(c)&&z8(l,c,ge(),c.stylesWithoutHost,!1),E6}function Vf(a,c,l,f){return fs(a,c,l,f),E6(),Vf}function If(){return ge()}function Lf(a){return!!a&&"function"==typeof a.then}function Cg(a){return!!a&&"function"==typeof a.subscribe}const bg=Cg;function Df(a,c,l,f){const p=ge(),v=U1(),C=Jt();return function wg(a,c,l,f,p,v,C){const z=D4(f),I=a.firstCreatePass&&lg(a),N=c[Xt],O=cg(c);let K=!0;if(3&f.type||C){const je=W2(f,c),s1=C?C(je):je,m1=O.length,N1=C?G1=>C(b2(G1[f.index])):f.index;let De=null;if(!C&&z&&(De=function Wl(a,c,l,f){const p=a.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const C=p[v];if(C===l&&p[v+1]===f){const z=c[V4],E=p[v+2];return z.length>E?z[E]:null}"string"==typeof C&&(v+=2)}return null}(a,c,p,f.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=v,De.__ngLastListenerFn__=v,K=!1;else{v=jl(f,c,N,v,!1);const G1=l.listen(s1,p,v);O.push(v,G1),I&&I.push(p,N1,m1,m1+1)}}else v=jl(f,c,N,v,!1);const se=f.outputs;let Se;if(K&&null!==se&&(Se=se[p])){const je=Se.length;if(je)for(let s1=0;s1<je;s1+=2){const p2=c[Se[s1]][Se[s1+1]].subscribe(v),Z2=O.length;O.push(v,p2),I&&I.push(p,f.index,Z2,-(Z2+1))}}}(v,p,p[q1],C,a,c,f),Df}function Sg(a,c,l,f){try{return Gt(6,c,l),!1!==l(f)}catch(p){return M8(a,p),!1}finally{Gt(7,c,l)}}function jl(a,c,l,f,p){return function v(C){if(C===Function)return f;Il(a.componentOffset>-1?k2(a.index,c):c);let E=Sg(c,l,f,C),I=v.__ngNextListenerFn__;for(;I;)E=Sg(c,l,I,C)&&E,I=I.__ngNextListenerFn__;return p&&!1===E&&(C.preventDefault(),C.returnValue=!1),E}}function zg(a=1){return function Xo(a){return(B1.lFrame.contextLView=function Vc(a,c){for(;a>0;)c=c[Vi],a--;return c}(a,B1.lFrame.contextLView))[Xt]}(a)}function dw(a,c){let l=null;const f=function pl(a){const c=a.attrs;if(null!=c){const l=c.indexOf(5);if(!(1&l))return c[l+1]}return null}(a);for(let p=0;p<c.length;p++){const v=c[p];if("*"!==v){if(null===f?km(a,v,!0):ml(f,v))return p}else l=p}return l}function Tg(a){const c=ge()[C2][P2];if(!c.projection){const f=c.projection=o4(a?a.length:1,null),p=f.slice();let v=c.child;for(;null!==v;){const C=a?dw(v,a):0;null!==C&&(p[C]?p[C].projectionNext=v:f[C]=v,p[C]=v),v=v.next}}}function xg(a,c=0,l){const f=ge(),p=U1(),v=d6(p,xt+a,16,null,l||null);null===v.projection&&(v.projection=c),wc(),32!=(32&v.flags)&&function Xb(a,c,l){lm(c[q1],0,c,l,i1(a,l,c),n8(l.parent||c[P2],l,c))}(p,f,v)}function Qn(a,c,l){return Nf(a,"",c,"",l),Qn}function Nf(a,c,l,f,p){const v=ge(),C=b6(v,c,l,f);return C!==Z1&&mr(U1(),Rt(),v,a,C,v[q1],p,!1),Nf}function T8(a,c){return a<<17|c<<2}function cn(a){return a>>17&32767}function Ag(a){return 2|a}function vo(a){return(131068&a)>>2}function y4(a,c){return-131069&a|c<<2}function Rf(a){return 1|a}function ql(a,c,l,f,p){const v=a[l+1],C=null===c;let z=f?cn(v):vo(v),E=!1;for(;0!==z&&(!1===E||C);){const N=a[z+1];gw(a[z],c)&&(E=!0,a[z+1]=f?Rf(N):Ag(N)),z=f?cn(N):vo(N)}E&&(a[l+1]=f?Ag(v):Rf(v))}function gw(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&Et(a,c)>=0}function Of(a,c,l){return V3(a,c,l,!1),Of}function Ff(a,c){return V3(a,c,null,!0),Ff}function V3(a,c,l,f){const p=ge(),v=U1(),C=function Zr(a){const c=B1.lFrame,l=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,l}(2);v.firstUpdatePass&&function A3(a,c,l,f){const p=a.data;if(null===p[l+1]){const v=p[nn()],C=function yo(a,c){return c>=a.expandoStartIndex}(a,l);(function Uf(a,c){return 0!=(a.flags&(c?8:16))})(v,f)&&null===c&&!C&&(c=!1),c=function Mw(a,c,l,f){const p=function Rs(a){const c=B1.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let v=f?c.residualClasses:c.residualStyles;if(null===p)0===(f?c.classBindings:c.styleBindings)&&(l=hs(l=Bf(null,a,c,l,f),c.attrs,f),v=null);else{const C=c.directiveStylingLast;if(-1===C||a[C]!==p)if(l=Bf(p,a,c,l,f),null===v){let E=function Bg(a,c,l){const f=l?c.classBindings:c.styleBindings;if(0!==vo(f))return a[cn(f)]}(a,c,f);void 0!==E&&Array.isArray(E)&&(E=Bf(null,a,c,E[1],f),E=hs(E,c.attrs,f),function ww(a,c,l,f){a[cn(l?c.classBindings:c.styleBindings)]=f}(a,c,f,E))}else v=function Sw(a,c,l){let f;const p=c.directiveEnd;for(let v=1+c.directiveStylingLast;v<p;v++)f=hs(f,a[v].hostAttrs,l);return hs(f,c.attrs,l)}(a,c,f)}return void 0!==v&&(f?c.residualClasses=v:c.residualStyles=v),l}(p,v,c,f),function Ig(a,c,l,f,p,v){let C=v?c.classBindings:c.styleBindings,z=cn(C),E=vo(C);a[f]=l;let N,I=!1;if(Array.isArray(l)?(N=l[1],(null===N||Et(l,N)>0)&&(I=!0)):N=l,p)if(0!==E){const K=cn(a[z+1]);a[f+1]=T8(K,z),0!==K&&(a[K+1]=y4(a[K+1],f)),a[z+1]=function A6(a,c){return 131071&a|c<<17}(a[z+1],f)}else a[f+1]=T8(z,0),0!==z&&(a[z+1]=y4(a[z+1],f)),z=f;else a[f+1]=T8(E,0),0===z?z=f:a[E+1]=y4(a[E+1],f),E=f;I&&(a[f+1]=Ag(a[f+1])),ql(a,N,f,!0),ql(a,N,f,!1),function Lg(a,c,l,f,p){const v=p?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof c&&Et(v,c)>=0&&(l[f+1]=Rf(l[f+1]))}(c,N,a,f,v),C=T8(z,E),v?c.classBindings=C:c.styleBindings=C}(p,v,c,l,C,f)}}(v,a,C,f),c!==Z1&&an(p,C,c)&&function ms(a,c,l,f,p,v,C,z){if(!(3&c.type))return;const E=a.data,I=E[z+1],N=function kf(a){return 1==(1&a)}(I)?Gg(E,c,l,p,vo(I),C):void 0;_o(N)||(_o(v)||function mw(a){return 2==(2&a)}(I)&&(v=Gg(E,null,l,p,z,C)),function Qb(a,c,l,f,p){if(c)p?a.addClass(l,f):a.removeClass(l,f);else{let v=-1===f.indexOf("-")?void 0:Qr.DashCase;null==p?a.removeStyle(l,f,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=Qr.Important),a.setStyle(l,f,p,v))}}(f,C,g3(nn(),l),p,v))}(v,v.data[nn()],p,p[q1],a,p[C+1]=function Wg(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=Pe(x3(a)))),a}(c,l),f,C)}function Bf(a,c,l,f,p){let v=null;const C=l.directiveEnd;let z=l.directiveStylingLast;for(-1===z?z=l.directiveStart:z++;z<C&&(v=c[z],f=hs(f,v.hostAttrs,p),v!==a);)z++;return null!==a&&(l.directiveStylingLast=z),f}function hs(a,c,l){const f=l?1:2;let p=-1;if(null!==c)for(let v=0;v<c.length;v++){const C=c[v];"number"==typeof C?p=C:p===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),fr(a,C,!!l||c[++v]))}return void 0===a?null:a}function Gg(a,c,l,f,p,v){const C=null===c;let z;for(;p>0;){const E=a[p],I=Array.isArray(E),N=I?E[1]:E,O=null===N;let K=l[p+1];K===Z1&&(K=O?Oe:void 0);let se=O?$2(K,f):N===f?K:void 0;if(I&&!_o(se)&&(se=$2(E,f)),_o(se)&&(z=se,C))return z;const Se=a[p+1];p=C?cn(Se):vo(Se)}if(null!==c){let E=v?c.residualClasses:c.residualStyles;null!=E&&(z=$2(E,f))}return z}function _o(a){return void 0!==a}function Gf(a,c=""){const l=ge(),f=U1(),p=a+xt,v=f.firstCreatePass?d6(f,p,1,c,null):f.data[p],C=l[p]=function e8(a,c){return a.createText(c)}(l[q1],c);za(f,l,C,v),ur(v,!1)}function Zl(a){return E8("",a,""),Zl}function E8(a,c,l){const f=ge(),p=b6(f,a,c,l);return p!==Z1&&function ls(a,c,l){const f=g3(c,a);!function tl(a,c,l){a.setValue(c,l)}(a[q1],f,l)}(f,nn(),p),E8}function rv(a,c,l){const f=ge();return an(f,pi(),c)&&mr(U1(),Rt(),f,a,c,f[q1],l,!0),rv}const L6=void 0;var FI=["en",[["a","p"],["AM","PM"],L6],[["AM","PM"],L6,L6],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],L6,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],L6,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",L6,"{1} 'at' {0}",L6],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OI(a){const l=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===f?1:5}];let A8={};function e7(a){const c=function t7(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=sv(c);if(l)return l;const f=c.split("-")[0];if(l=sv(f),l)return l;if("en"===f)return FI;throw new be(701,!1)}function iv(a){return e7(a)[I1.PluralCase]}function sv(a){return a in A8||(A8[a]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[a]),A8[a]}var I1=(()=>((I1=I1||{})[I1.LocaleId=0]="LocaleId",I1[I1.DayPeriodsFormat=1]="DayPeriodsFormat",I1[I1.DayPeriodsStandalone=2]="DayPeriodsStandalone",I1[I1.DaysFormat=3]="DaysFormat",I1[I1.DaysStandalone=4]="DaysStandalone",I1[I1.MonthsFormat=5]="MonthsFormat",I1[I1.MonthsStandalone=6]="MonthsStandalone",I1[I1.Eras=7]="Eras",I1[I1.FirstDayOfWeek=8]="FirstDayOfWeek",I1[I1.WeekendRange=9]="WeekendRange",I1[I1.DateFormat=10]="DateFormat",I1[I1.TimeFormat=11]="TimeFormat",I1[I1.DateTimeFormat=12]="DateTimeFormat",I1[I1.NumberSymbols=13]="NumberSymbols",I1[I1.NumberFormats=14]="NumberFormats",I1[I1.CurrencyCode=15]="CurrencyCode",I1[I1.CurrencySymbol=16]="CurrencySymbol",I1[I1.CurrencyName=17]="CurrencyName",I1[I1.Currencies=18]="Currencies",I1[I1.Directionality=19]="Directionality",I1[I1.PluralCase=20]="PluralCase",I1[I1.ExtraData=21]="ExtraData",I1))();const bo="en-US";let ed=bo;function m7(a,c,l,f,p){if(a=te(a),Array.isArray(a))for(let v=0;v<a.length;v++)m7(a[v],c,l,f,p);else{const v=U1(),C=ge();let z=xa(a)?a:te(a.provide),E=dl(a);const I=Jt(),N=1048575&I.providerIndexes,O=I.directiveStart,K=I.providerIndexes>>20;if(xa(a)||!a.multi){const se=new mi(E,p,f6),Se=ud(z,c,p?N:N+K,O);-1===Se?(Fi(ia(I,C),v,z),g7(v,a,c.length),c.push(z),I.directiveStart++,I.directiveEnd++,p&&(I.providerIndexes+=1048576),l.push(se),C.push(se)):(l[Se]=se,C[Se]=se)}else{const se=ud(z,c,N+K,O),Se=ud(z,c,N,N+K),s1=Se>=0&&l[Se];if(p&&!s1||!p&&!(se>=0&&l[se])){Fi(ia(I,C),v,z);const m1=function tS(a,c,l,f,p){const v=new mi(a,l,f6);return v.multi=[],v.index=c,v.componentProviders=0,Mo(v,p,f&&!l),v}(p?eS:zv,l.length,p,f,E);!p&&s1&&(l[Se].providerFactory=m1),g7(v,a,c.length,0),c.push(z),I.directiveStart++,I.directiveEnd++,p&&(I.providerIndexes+=1048576),l.push(m1),C.push(m1)}else g7(v,a,se>-1?se:Se,Mo(l[p?Se:se],E,!p&&f));!p&&f&&s1&&l[Se].componentProviders++}}}function g7(a,c,l,f){const p=xa(c),v=function Em(a){return!!a.useClass}(c);if(p||v){const E=(v?te(c.useClass):c).prototype.ngOnDestroy;if(E){const I=a.destroyHooks||(a.destroyHooks=[]);if(!p&&c.multi){const N=I.indexOf(l);-1===N?I.push(l,[f,E]):I[N+1].push(f,E)}else I.push(l,E)}}}function Mo(a,c,l){return l&&a.componentProviders++,a.multi.push(c)-1}function ud(a,c,l,f){for(let p=l;p<f;p++)if(c[p]===a)return p;return-1}function zv(a,c,l,f){return v7(this.multi,[])}function eS(a,c,l,f){const p=this.multi;let v;if(this.providerFactory){const C=this.providerFactory.componentProviders,z=Wt(l,l[o1],this.providerFactory.index,f);v=z.slice(0,C),v7(p,v);for(let E=C;E<z.length;E++)v.push(z[E])}else v=[],v7(p,v);return v}function v7(a,c){for(let l=0;l<a.length;l++)c.push((0,a[l])());return c}function Tv(a,c=[]){return l=>{l.providersResolver=(f,p)=>function Jw(a,c,l){const f=U1();if(f.firstCreatePass){const p=In(a);m7(l,f.data,f.blueprint,p,!0),m7(c,f.data,f.blueprint,p,!1)}}(f,p?p(a):a,c)}}class wo{}class fd{}function nS(a,c){return new xv(a,c??null)}class xv extends wo{constructor(c,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new g6(this);const f=D2(c);this._bootstrapComponents=g4(f.bootstrap),this._r3Injector=fo(c,l,[{provide:wo,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],Pe(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class y7 extends fd{constructor(c){super(),this.moduleType=c}create(c){return new xv(this.moduleType,c)}}class iS extends wo{constructor(c,l,f){super(),this.componentFactoryResolver=new g6(this),this.instance=null;const p=new Hm([...c,{provide:wo,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],l||n6(),f,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function _7(a,c,l=null){return new iS(a,c,l).injector}let sS=(()=>{class a{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const f=xm(0,l.type),p=f.length>0?_7([f],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,p)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=L1({token:a,providedIn:"environment",factory:()=>new a(dt(lo))}),a})();function dd(a){a.getStandaloneInjector=c=>c.get(sS).getOrCreateStandaloneInjector(a)}function R8(a,c,l){const f=j2()+a,p=ge();return p[f]===Z1?wi(p,f,l?c.call(l):c()):function _6(a,c){return a[c]}(p,f)}function Av(a,c,l,f,p){return function Dv(a,c,l,f,p,v,C){const z=c+l;return mo(a,z,p,v)?wi(a,z+2,C?f.call(C,p,v):f(p,v)):O8(a,z+2)}(ge(),j2(),a,c,l,f,p)}function Iv(a,c,l,f,p,v,C){return function Nv(a,c,l,f,p,v,C,z,E){const I=c+l;return function Yi(a,c,l,f,p,v){const C=mo(a,c,l,f);return mo(a,c+2,p,v)||C}(a,I,p,v,C,z)?wi(a,I+4,E?f.call(E,p,v,C,z):f(p,v,C,z)):O8(a,I+4)}(ge(),j2(),a,c,l,f,p,v,C)}function O8(a,c){const l=a[c];return l===Z1?void 0:l}function md(a){return c=>{setTimeout(a,void 0,c)}}const Qi=class wS extends h.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,l,f){let p=c,v=l||(()=>null),C=f;if(c&&"object"==typeof c){const E=c;p=E.next?.bind(E),v=E.error?.bind(E),C=E.complete?.bind(E)}this.__isAsync&&(v=md(v),p&&(p=md(p)),C&&(C=md(C)));const z=super.subscribe({next:p,error:v,complete:C});return c instanceof U.w0&&c.add(z),z}};function SS(){return this._results[Symbol.iterator]()}class gd{get changes(){return this._changes||(this._changes=new Qi)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=gd.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=SS)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,l){return this._results.reduce(c,l)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,l){const f=this;f.dirty=!1;const p=function $n(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function fa(a,c,l){if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){let p=a[f],v=c[f];if(l&&(p=l(p),v=l(v)),v!==p)return!1}return!0}(f._results,p,l))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let B8=(()=>{class a{}return a.__NG_ELEMENT_ID__=zS,a})();const vd=B8,Ov=class extends vd{constructor(c,l,f){super(),this._declarationLView=c,this._declarationTContainer=l,this.elementRef=f}createEmbeddedView(c,l){const f=this._declarationTContainer.tView,p=Sl(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,l||null);p[l3]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[jn];return null!==C&&(p[jn]=C.createEmbeddedView(f)),af(f,p,c),new w8(p)}};function zS(){return b7(Jt(),ge())}function b7(a,c){return 4&a.type?new Ov(c,a,Va(a,c)):null}let M7=(()=>{class a{}return a.__NG_ELEMENT_ID__=TS,a})();function TS(){return Uv(Jt(),ge())}const yd=M7,Fv=class extends yd{constructor(c,l,f){super(),this._lContainer=c,this._hostTNode=l,this._hostLView=f}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new i4(this._hostTNode,this._hostLView)}get parentInjector(){const c=t2(this._hostTNode,this._hostLView);if(_3(c)){const l=j4(c,this._hostLView),f=n4(c);return new i4(l[o1].data[f+8],l)}return new i4(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const l=Bv(this._lContainer);return null!==l&&l[c]||null}get length(){return this._lContainer.length-G2}createEmbeddedView(c,l,f){let p,v;"number"==typeof f?p=f:null!=f&&(p=f.index,v=f.injector);const C=c.createEmbeddedView(l||{},v);return this.insert(C,p),C}createComponent(c,l,f,p,v){const C=c&&!function Xs(a){return"function"==typeof a}(c);let z;if(C)z=l;else{const O=l||{};z=O.index,f=O.injector,p=O.projectableNodes,v=O.environmentInjector||O.ngModuleRef}const E=C?c:new S8(M1(c)),I=f||this.parentInjector;if(!v&&null==E.ngModule){const K=(C?I:this.parentInjector).get(lo,null);K&&(v=K)}const N=E.create(I,p,void 0,v);return this.insert(N.hostView,z),N}insert(c,l){const f=c._lView,p=f[o1];if(function _c(a){return Vr(a[kt])}(f)){const N=this.indexOf(c);if(-1!==N)this.detach(N);else{const O=f[kt],K=new Fv(O,O[P2],O[kt]);K.detach(K.indexOf(c))}}const v=this._adjustIndex(l),C=this._lContainer;!function g(a,c,l,f){const p=G2+f,v=l.length;f>0&&(l[p-1][yt]=c),f<v-G2?(c[yt]=l[p],da(l,G2+f,c)):(l.push(c),c[yt]=null),c[kt]=l;const C=c[l3];null!==C&&l!==C&&function _(a,c){const l=a[f3];c[C2]!==c[kt][kt][C2]&&(a[L4]=!0),null===l?a[f3]=[c]:l.push(c)}(C,c);const z=c[jn];null!==z&&z.insertView(a),c[$1]|=64}(p,f,C,v);const z=i8(v,C),E=f[q1],I=oo(E,C[W3]);return null!==I&&function nl(a,c,l,f,p,v){f[N2]=p,f[P2]=c,s8(a,f,l,1,p,v)}(p,C[P2],E,f,I,z),c.attachToViewContainerRef(),da(_d(C),v,c),c}move(c,l){return this.insert(c,l)}indexOf(c){const l=Bv(this._lContainer);return null!==l?l.indexOf(c):-1}remove(c){const l=this._adjustIndex(c,-1),f=L(this._lContainer,l);f&&(K4(_d(this._lContainer),l),P(f[o1],f))}detach(c){const l=this._adjustIndex(c,-1),f=L(this._lContainer,l);return f&&null!=K4(_d(this._lContainer),l)?new w8(f):null}_adjustIndex(c,l=0){return c??this.length+l}};function Bv(a){return a[Ii]}function _d(a){return a[Ii]||(a[Ii]=[])}function Uv(a,c){let l;const f=c[a.index];if(Vr(f))l=f;else{let p;if(8&a.type)p=b2(f);else{const v=c[q1];p=v.createComment("");const C=W2(a,c);A1(v,oo(v,C),p,function rl(a,c){return a.nextSibling(c)}(v,C),!1)}c[a.index]=l=mf(f,c,p,a),Al(c,l)}return new Fv(l,a,c)}class Cd{constructor(c){this.queryList=c,this.matches=null}clone(){return new Cd(this.queryList)}setDirty(){this.queryList.setDirty()}}class bd{constructor(c=[]){this.queries=c}createEmbeddedView(c){const l=c.queries;if(null!==l){const f=null!==c.contentQueries?c.contentQueries[0]:l.length,p=[];for(let v=0;v<f;v++){const C=l.getByIndex(v);p.push(this.queries[C.indexInDeclarationView].clone())}return new bd(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let l=0;l<this.queries.length;l++)null!==$v(c,l).matches&&this.queries[l].setDirty()}}class w7{constructor(c,l,f=null){this.predicate=c,this.flags=l,this.read=f}}class Md{constructor(c=[]){this.queries=c}elementStart(c,l){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,l)}elementEnd(c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(c)}embeddedTView(c){let l=null;for(let f=0;f<this.length;f++){const p=null!==l?l.length:0,v=this.getByIndex(f).embeddedTView(c,p);v&&(v.indexInDeclarationView=f,null!==l?l.push(v):l=[v])}return null!==l?new Md(l):null}template(c,l){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,l)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class wd{constructor(c,l=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(c,l){this.isApplyingToNode(l)&&this.matchTNode(c,l)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,l){this.elementStart(c,l)}embeddedTView(c,l){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,l),new wd(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==l;)f=f.parent;return l===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,l){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const v=f[p];this.matchTNodeWithReadOption(c,l,xS(l,v)),this.matchTNodeWithReadOption(c,l,r4(l,c,v,!1,!1))}else f===B8?4&l.type&&this.matchTNodeWithReadOption(c,l,-1):this.matchTNodeWithReadOption(c,l,r4(l,c,f,!1,!1))}matchTNodeWithReadOption(c,l,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===Aa||p===M7||p===B8&&4&l.type)this.addMatch(l.index,-2);else{const v=r4(l,c,p,!1,!1);null!==v&&this.addMatch(l.index,v)}else this.addMatch(l.index,f)}}addMatch(c,l){null===this.matches?this.matches=[c,l]:this.matches.push(c,l)}}function xS(a,c){const l=a.localNames;if(null!==l)for(let f=0;f<l.length;f+=2)if(l[f]===c)return l[f+1];return null}function HS(a,c,l,f){return-1===l?function ES(a,c){return 11&a.type?Va(a,c):4&a.type?b7(a,c):null}(c,a):-2===l?function VS(a,c,l){return l===Aa?Va(c,a):l===B8?b7(c,a):l===M7?Uv(c,a):void 0}(a,c,f):Wt(a,a[o1],l,c)}function S7(a,c,l,f){const p=c[jn].queries[f];if(null===p.matches){const v=a.data,C=l.matches,z=[];for(let E=0;E<C.length;E+=2){const I=C[E];z.push(I<0?null:HS(c,v[I],C[E+1],l.metadata.read))}p.matches=z}return p.matches}function Sd(a,c,l,f){const p=a.queries.getByIndex(l),v=p.matches;if(null!==v){const C=S7(a,c,p,l);for(let z=0;z<v.length;z+=2){const E=v[z];if(E>0)f.push(C[z/2]);else{const I=v[z+1],N=c[-E];for(let O=G2;O<N.length;O++){const K=N[O];K[l3]===K[kt]&&Sd(K[o1],K,I,f)}if(null!==N[f3]){const O=N[f3];for(let K=0;K<O.length;K++){const se=O[K];Sd(se[o1],se,I,f)}}}}}return f}function Gv(a){const c=ge(),l=U1(),f=F4();xc(f+1);const p=$v(l,f);if(a.dirty&&function k4(a){return 4==(4&a[$1])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const v=p.crossesNgTemplate?Sd(l,c,f,[]):S7(l,c,p,f);a.reset(v,Vm),a.notifyOnChanges()}return!0}return!1}function z7(a,c,l){const f=U1();f.firstCreatePass&&(x7(f,new w7(a,c,l),-1),2==(2&c)&&(f.staticViewQueries=!0)),jv(f,ge(),c)}function T7(a,c,l,f){const p=U1();if(p.firstCreatePass){const v=Jt();x7(p,new w7(c,l,f),v.index),function IS(a,c){const l=a.contentQueries||(a.contentQueries=[]);c!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,c)}(p,a),2==(2&l)&&(p.staticContentQueries=!0)}jv(p,ge(),l)}function Wv(){return function AS(a,c){return a[jn].queries[c].queryList}(ge(),F4())}function jv(a,c,l){const f=new gd(4==(4&l));uf(a,c,f,f.destroy),null===c[jn]&&(c[jn]=new bd),c[jn].queries.push(new Cd(f))}function x7(a,c,l){null===a.queries&&(a.queries=new Md),a.queries.track(new wd(c,l))}function $v(a,c){return a.queries.getByIndex(c)}function zd(a){return!!D2(a)}function I7(...a){}const L7=new ut("Application Initializer");let D7=(()=>{class a{constructor(l){this.appInits=l,this.resolve=I7,this.reject=I7,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const l=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(Lf(v))l.push(v);else if(bg(v)){const C=new Promise((z,E)=>{v.subscribe({complete:z,error:E})});l.push(C)}}Promise.all(l).then(()=>{f()}).catch(p=>{this.reject(p)}),0===l.length&&f(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(dt(L7,8))},a.\u0275prov=L1({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const dy=new ut("AppId",{providedIn:"root",factory:function N7(){return`${Id()}${Id()}${Id()}`}});function Id(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hy=new ut("Platform Initializer"),YS=new ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let XS=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=L1({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const P7=new ut("LocaleId",{providedIn:"root",factory:()=>l2(P7,_1.Optional|_1.SkipSelf)||function QS(){return typeof $localize<"u"&&$localize.locale||bo}()}),JS=new ut("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ld{constructor(c,l){this.ngModuleFactory=c,this.componentFactories=l}}let ez=(()=>{class a{compileModuleSync(l){return new y7(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const f=this.compileModuleSync(l),v=g4(D2(l).declarations).reduce((C,z)=>{const E=M1(z);return E&&C.push(new S8(E)),C},[]);return new Ld(f,v)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=L1({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const vy=(()=>Promise.resolve(0))();function Dd(a){typeof Zone>"u"?vy.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ji{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qi(!1),this.onMicrotaskEmpty=new Qi(!1),this.onStable=new Qi(!1),this.onError=new Qi(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&l,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function iz(){let a=Ct.requestAnimationFrame,c=Ct.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function oz(a){const c=()=>{!function sz(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ct,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,kd(a),a.isCheckStableRunning=!0,Pd(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),kd(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,f,p,v,C,z)=>{try{return yy(a),l.invokeTask(p,v,C,z)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&c(),_y(a)}},onInvoke:(l,f,p,v,C,z,E)=>{try{return yy(a),l.invoke(p,v,C,z,E)}finally{a.shouldCoalesceRunChangeDetection&&c(),_y(a)}},onHasTask:(l,f,p,v)=>{l.hasTask(p,v),f===p&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,kd(a),Pd(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(l,f,p,v)=>(l.handleError(p,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new be(909,!1)}run(c,l,f){return this._inner.run(c,l,f)}runTask(c,l,f,p){const v=this._inner,C=v.scheduleEventTask("NgZoneEvent: "+p,c,Nd,I7,I7);try{return v.runTask(C,l,f)}finally{v.cancelTask(C)}}runGuarded(c,l,f){return this._inner.runGuarded(c,l,f)}runOutsideAngular(c){return this._outer.run(c)}}const Nd={};function Pd(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function kd(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function yy(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function _y(a){a._nesting--,Pd(a)}class az{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qi,this.onMicrotaskEmpty=new Qi,this.onStable=new Qi,this.onError=new Qi}run(c,l,f){return c.apply(l,f)}runGuarded(c,l,f){return c.apply(l,f)}runOutsideAngular(c){return c()}runTask(c,l,f,p){return c.apply(l,f)}}const R7=new ut(""),Cy=new ut("");let Rd,cz=(()=>{class a{constructor(l,f,p){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rd||(function My(a){Rd=a}(p),p.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),Dd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dd(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,p){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==v),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:p})}whenStable(l,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,p){return[]}}return a.\u0275fac=function(l){return new(l||a)(dt(Ji),dt(by),dt(Cy))},a.\u0275prov=L1({token:a,factory:a.\u0275fac}),a})(),by=(()=>{class a{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return Rd?.findTestabilityInTree(this,l,f)??null}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=L1({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const vs=!1;let So=null;const O7=new ut("AllowMultipleToken"),Od=new ut("PlatformDestroyListeners"),F7=new ut("appBootstrapListener");class uz{constructor(c,l){this.name=c,this.token=l}}function U7(a,c,l=[]){const f=`Platform: ${c}`,p=new ut(f);return(v=[])=>{let C=Bd();if(!C||C.injector.get(O7,!1)){const z=[...l,...v,{provide:p,useValue:!0}];a?a(z):function Fd(a){if(So&&!So.get(O7,!1))throw new be(400,!1);So=a;const c=a.get(G7);(function B7(a){const c=a.get(hy,null);c&&c.forEach(l=>l())})(a)}(function Sy(a=[],c){return as.create({name:c,providers:[{provide:U9,useValue:"platform"},{provide:Od,useValue:new Set([()=>So=null])},...a]})}(z,f))}return function dz(a){const c=Bd();if(!c)throw new be(401,!1);return c}()}}function Bd(){return So?.get(G7)??null}let G7=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const p=function zy(a,c){let l;return l="noop"===a?new az:("zone.js"===a?void 0:a)||new Ji(c),l}(f?.ngZone,function G8(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),v=[{provide:Ji,useValue:p}];return p.run(()=>{const C=as.create({providers:v,parent:this.injector,name:l.moduleType.name}),z=l.create(C),E=z.injector.get(o6,null);if(!E)throw new be(402,!1);return p.runOutsideAngular(()=>{const I=p.onError.subscribe({next:N=>{E.handleError(N)}});z.onDestroy(()=>{$7(this._modules,z),I.unsubscribe()})}),function Ty(a,c,l){try{const f=l();return Lf(f)?f.catch(p=>{throw c.runOutsideAngular(()=>a.handleError(p)),p}):f}catch(f){throw c.runOutsideAngular(()=>a.handleError(f)),f}}(E,p,()=>{const I=z.injector.get(D7);return I.runInitializers(),I.donePromise.then(()=>(function td(a){y1(a,"Expected localeId to be defined"),"string"==typeof a&&(ed=a.toLowerCase().replace(/_/g,"-"))}(z.injector.get(P7,bo)||bo),this._moduleDoBootstrap(z),z))})})}bootstrapModule(l,f=[]){const p=W7({},f);return function wy(a,c,l){const f=new y7(l);return Promise.resolve(f)}(0,0,l).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(l){const f=l.injector.get(j7);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new be(-403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(Od,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(dt(as))},a.\u0275prov=L1({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function W7(a,c){return Array.isArray(c)?c.reduce(W7,a):{...a,...c}}let j7=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,f,p){this._zone=l,this._injector=f,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new X.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),C=new X.y(z=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),Dd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{E.unsubscribe(),I.unsubscribe()}});this.isStable=(0,pe.T)(v,C.pipe((0,ye.B)()))}bootstrap(l,f){const p=l instanceof W9;if(!this._injector.get(D7).done){!p&&en(l);throw new be(405,vs)}let C;C=p?l:this._injector.get(qi).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const z=function lz(a){return a.isBoundToModule}(C)?void 0:this._injector.get(wo),I=C.create(as.NULL,[],f||C.selector,z),N=I.location.nativeElement,O=I.injector.get(R7,null);return O?.registerApplication(N),I.onDestroy(()=>{this.detachView(I.hostView),$7(this.components,I),O?.unregisterApplication(N)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;$7(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const f=this._injector.get(F7,[]);f.push(...this._bootstrapListeners),f.forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>$7(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new be(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(l){return new(l||a)(dt(Ji),dt(lo),dt(o6))},a.\u0275prov=L1({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function $7(a,c){const l=a.indexOf(c);l>-1&&a.splice(l,1)}function hz(){return!1}let pz=(()=>{class a{}return a.__NG_ELEMENT_ID__=mz,a})();function mz(a){return function Gd(a,c,l){if(As(a)&&!l){const f=k2(a.index,c);return new w8(f,f)}return 47&a.type?new w8(c[C2],c):null}(Jt(),ge(),16==(16&a))}class Zd{constructor(){}supports(c){return Rl(c)}create(c){return new X7(c)}}const Pr=(a,c)=>c;class X7{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Pr}forEachItem(c){let l;for(l=this._itHead;null!==l;l=l._next)c(l)}forEachOperation(c){let l=this._itHead,f=this._removalsHead,p=0,v=null;for(;l||f;){const C=!f||l&&l.currentIndex<e3(f,p,v)?l:f,z=e3(C,p,v),E=C.currentIndex;if(C===f)p--,f=f._nextRemoved;else if(l=l._next,null==C.previousIndex)p++;else{v||(v=[]);const I=z-p,N=E-p;if(I!=N){for(let K=0;K<I;K++){const se=K<v.length?v[K]:v[K]=0,Se=se+K;N<=Se&&Se<I&&(v[K]=se+1)}v[C.previousIndex]=N-I}}z!==E&&c(C,z,E)}}forEachPreviousItem(c){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachMovedItem(c){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}forEachIdentityChange(c){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)c(l)}diff(c){if(null==c&&(c=[]),!Rl(c))throw new be(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,v,C,l=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let z=0;z<this.length;z++)v=c[z],C=this._trackByFn(z,v),null!==l&&Object.is(l.trackById,C)?(f&&(l=this._verifyReinsertion(l,v,C,z)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,C,z),f=!0),l=l._next}else p=0,function hg(a,c){if(Array.isArray(a))for(let l=0;l<a.length;l++)c(a[l]);else{const l=a[Symbol.iterator]();let f;for(;!(f=l.next()).done;)c(f.value)}}(c,z=>{C=this._trackByFn(p,z),null!==l&&Object.is(l.trackById,C)?(f&&(l=this._verifyReinsertion(l,z,C,p)),Object.is(l.item,z)||this._addIdentityChange(l,z)):(l=this._mismatch(l,z,C,p),f=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,l,f,p){let v;return null===c?v=this._itTail:(v=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._reinsertAfter(c,v,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._moveAfter(c,v,p)):c=this._addAfter(new ys(l,f),v,p),c}_verifyReinsertion(c,l,f,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?c=this._reinsertAfter(v,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const l=c._next;this._addToRemovals(this._unlink(c)),c=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,l,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,v=c._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(c,l,f),this._addToMoves(c,f),c}_moveAfter(c,l,f){return this._unlink(c),this._insertAfter(c,l,f),this._addToMoves(c,f),c}_addAfter(c,l,f){return this._insertAfter(c,l,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,l,f){const p=null===l?this._itHead:l._next;return c._next=p,c._prev=l,null===p?this._itTail=c:p._prev=c,null===l?this._itHead=c:l._next=c,null===this._linkedRecords&&(this._linkedRecords=new Ny),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const l=c._prev,f=c._next;return null===l?this._itHead=f:l._next=f,null===f?this._itTail=l:f._prev=l,c}_addToMoves(c,l){return c.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ny),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,l){return c.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class ys{constructor(c,l){this.item=c,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ie{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,l){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===l||l<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const l=c._prevDup,f=c._nextDup;return null===l?this._head=f:l._nextDup=f,null===f?this._tail=l:f._prevDup=l,null===this._head}}class Ny{constructor(){this.map=new Map}put(c){const l=c.trackById;let f=this.map.get(l);f||(f=new ie,this.map.set(l,f)),f.add(c)}get(c,l){const p=this.map.get(c);return p?p.get(c,l):null}remove(c){const l=c.trackById;return this.map.get(l).remove(c)&&this.map.delete(l),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function e3(a,c,l){const f=a.previousIndex;if(null===f)return f;let p=0;return l&&f<l.length&&(p=l[f]),f+c+p}class l1{constructor(){}supports(c){return c instanceof Map||Fl(c)}create(){return new Kd}}class Kd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let l;for(l=this._mapHead;null!==l;l=l._next)c(l)}forEachPreviousItem(c){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)c(l)}forEachChangedItem(c){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}diff(c){if(c){if(!(c instanceof Map||Fl(c)))throw new be(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,f),this._appendAfter=l,l=l._next;else{const v=this._getOrCreateRecordForKey(p,f);l=this._insertBeforeOrAppend(l,v)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let f=l;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,l){if(c){const f=c._prev;return l._next=c,l._prev=f,c._prev=l,f&&(f._next=l),c===this._mapHead&&(this._mapHead=l),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(c,l){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,l);const v=p._prev,C=p._next;return v&&(v._next=C),C&&(C._prev=v),p._next=null,p._prev=null,p}const f=new K1(c);return this._records.set(c,f),f.currentValue=l,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,l){Object.is(l,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=l,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,l){c instanceof Map?c.forEach(l):Object.keys(c).forEach(f=>l(c[f],f))}}class K1{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j8(){return new G6([new Zd])}let G6=(()=>{class a{constructor(l){this.factories=l}static create(l,f){if(null!=f){const p=f.factories.slice();l=l.concat(p)}return new a(l)}static extend(l){return{provide:a,useFactory:f=>a.create(l,f||j8()),deps:[[a,new Q4,new Wi]]}}find(l){const f=this.factories.find(p=>p.supports(l));if(null!=f)return f;throw new be(901,!1)}}return a.\u0275prov=L1({token:a,providedIn:"root",factory:j8}),a})();function Py(){return new $8([new l1])}let $8=(()=>{class a{constructor(l){this.factories=l}static create(l,f){if(f){const p=f.factories.slice();l=l.concat(p)}return new a(l)}static extend(l){return{provide:a,useFactory:f=>a.create(l,f||Py()),deps:[[a,new Q4,new Wi]]}}find(l){const f=this.factories.find(p=>p.supports(l));if(f)return f;throw new be(901,!1)}}return a.\u0275prov=L1({token:a,providedIn:"root",factory:Py}),a})();const J7=U7(null,"core",[]);let Rn=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(dt(j7))},a.\u0275mod=ae({type:a}),a.\u0275inj=Qt({}),a})();function zo(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(T1,Ie,F)=>{F.d(Ie,{Z:()=>n1});var h=F(2090),U=F(4859),X=F(6881),pe=F(1877);class ye{constructor(be,Ve){this._delegate=be,this.firebase=Ve,(0,X._addComponent)(be,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(be,Ve=X._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(be);return!$e.isInitialized()&&"EXPLICIT"===(null===(Re=$e.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Ve})}_removeServiceInstance(be,Ve=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ve)}_addComponent(be){(0,X._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,X._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function He(){const d1=function Pe(d1){const be={},Ve={__esModule:!0,initializeApp:function xe(Fe,ue={}){const u1=X.initializeApp(Fe,ue);if((0,h.r3)(be,u1.name))return be[u1.name];const O1=new d1(u1,Ve);return be[u1.name]=O1,O1},app:$e,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function Le(Fe){const ue=Fe.name,u1=ue.replace("-compat","");if(X._registerComponent(Fe)&&"PUBLIC"===Fe.type){const O1=(h1=$e())=>{if("function"!=typeof h1[u1])throw Ge.create("invalid-app-argument",{appName:ue});return h1[u1]()};void 0!==Fe.serviceProps&&(0,h.ZB)(O1,Fe.serviceProps),Ve[u1]=O1,d1.prototype[u1]=function(...h1){return this._getService.bind(this,ue).apply(this,Fe.multipleInstances?h1:[])}}return"PUBLIC"===Fe.type?Ve[u1]:null},removeApp:function Re(Fe){delete be[Fe]},useAsService:function qe(Fe,ue){return"serverAuth"===ue?null:ue},modularAPIs:X}};function $e(Fe){if(!(0,h.r3)(be,Fe=Fe||X._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:Fe});return be[Fe]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Te(){return Object.keys(be).map(Fe=>be[Fe])}}),$e.App=d1,Ve}(ye);return d1.INTERNAL=Object.assign(Object.assign({},d1.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function be(Ve){(0,h.ZB)(d1,Ve)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),d1}(),q=new pe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const d1=self.firebase.SDK_VERSION;d1&&d1.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const n1=Z;!function Ee(d1){(0,X.registerVersion)("@firebase/app-compat","0.2.10",d1)}()},6881:(T1,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>ui,_DEFAULT_ENTRY_NAME:()=>En,_addComponent:()=>C1,_addOrOverwriteComponent:()=>j1,_apps:()=>Ct,_clearComponents:()=>Gn,_components:()=>J1,_getProvider:()=>Hn,_registerComponent:()=>sr,_removeServiceInstance:()=>a2,deleteApp:()=>gn,getApp:()=>or,getApps:()=>dt,initializeApp:()=>ot,onLog:()=>_2,registerVersion:()=>Vn,setLogLevel:()=>Er});var h=F(5861),U=F(4859),X=F(1877),pe=F(2090);const ye=(me,ae)=>ae.some(ke=>me instanceof ke);let ve,Ge;const Z=new WeakMap,q=new WeakMap,te=new WeakMap,Ye=new WeakMap,Ee=new WeakMap;let be={get(me,ae,ke){if(me instanceof IDBTransaction){if("done"===ae)return q.get(me);if("objectStoreNames"===ae)return me.objectStoreNames||te.get(me);if("store"===ae)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return xe(me[ae])},set:(me,ae,ke)=>(me[ae]=ke,!0),has:(me,ae)=>me instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in me};function $e(me){return"function"==typeof me?function Re(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Ge||(Ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...ae){return me.apply(Te(this),ae),xe(Z.get(this))}:function(...ae){return xe(me.apply(Te(this),ae))}:function(ae,...ke){const b1=me.call(Te(this),ae,...ke);return te.set(b1,ae.sort?ae.sort():[ae]),xe(b1)}}(me):(me instanceof IDBTransaction&&function d1(me){if(q.has(me))return;const ae=new Promise((ke,b1)=>{const k1=()=>{me.removeEventListener("complete",Y1),me.removeEventListener("error",M1),me.removeEventListener("abort",M1)},Y1=()=>{ke(),k1()},M1=()=>{b1(me.error||new DOMException("AbortError","AbortError")),k1()};me.addEventListener("complete",Y1),me.addEventListener("error",M1),me.addEventListener("abort",M1)});q.set(me,ae)}(me),ye(me,function Pe(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,be):me)}function xe(me){if(me instanceof IDBRequest)return function n1(me){const ae=new Promise((ke,b1)=>{const k1=()=>{me.removeEventListener("success",Y1),me.removeEventListener("error",M1)},Y1=()=>{ke(xe(me.result)),k1()},M1=()=>{b1(me.error),k1()};me.addEventListener("success",Y1),me.addEventListener("error",M1)});return ae.then(ke=>{ke instanceof IDBCursor&&Z.set(ke,me)}).catch(()=>{}),Ee.set(ae,me),ae}(me);if(Ye.has(me))return Ye.get(me);const ae=$e(me);return ae!==me&&(Ye.set(me,ae),Ee.set(ae,me)),ae}const Te=me=>Ee.get(me),Fe=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],u1=new Map;function O1(me,ae){if(!(me instanceof IDBDatabase)||ae in me||"string"!=typeof ae)return;if(u1.get(ae))return u1.get(ae);const ke=ae.replace(/FromIndex$/,""),b1=ae!==ke,k1=ue.includes(ke);if(!(ke in(b1?IDBIndex:IDBObjectStore).prototype)||!k1&&!Fe.includes(ke))return;const Y1=function(){var M1=(0,h.Z)(function*(vt,...at){const en=this.transaction(vt,k1?"readwrite":"readonly");let D2=en.store;return b1&&(D2=D2.index(at.shift())),(yield Promise.all([D2[ke](...at),k1&&en.done]))[0]});return function(at){return M1.apply(this,arguments)}}();return u1.set(ae,Y1),Y1}!function Ve(me){be=me(be)}(me=>({...me,get:(ae,ke,b1)=>O1(ae,ke)||me.get(ae,ke,b1),has:(ae,ke)=>!!O1(ae,ke)||me.has(ae,ke)}));class h1{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function st(me){return"VERSION"===me.getComponent()?.type}(ke)){const b1=ke.getImmediate();return`${b1.library}/${b1.version}`}return null}).filter(ke=>ke).join(" ")}}const p1="@firebase/app",Ce=new X.Yd("@firebase/app"),En="[DEFAULT]",xr={[p1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,J1=new Map;function C1(me,ae){try{me.container.addComponent(ae)}catch(ke){Ce.debug(`Component ${ae.name} failed to register with FirebaseApp ${me.name}`,ke)}}function j1(me,ae){me.container.addOrOverwriteComponent(ae)}function sr(me){const ae=me.name;if(J1.has(ae))return Ce.debug(`There were multiple attempts to register component ${ae}.`),!1;J1.set(ae,me);for(const ke of Ct.values())C1(ke,me);return!0}function Hn(me,ae){const ke=me.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),me.container.getProvider(ae)}function a2(me,ae,ke=En){Hn(me,ae).clearInstance(ke)}function Gn(){J1.clear()}const mn=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nt{constructor(ae,ke,b1){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=b1,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const ui="9.22.0";function ot(me,ae={}){let ke=me;"object"!=typeof ae&&(ae={name:ae});const b1=Object.assign({name:En,automaticDataCollectionEnabled:!1},ae),k1=b1.name;if("string"!=typeof k1||!k1)throw mn.create("bad-app-name",{appName:String(k1)});if(ke||(ke=(0,pe.aH)()),!ke)throw mn.create("no-options");const Y1=Ct.get(k1);if(Y1){if((0,pe.vZ)(ke,Y1.options)&&(0,pe.vZ)(b1,Y1.config))return Y1;throw mn.create("duplicate-app",{appName:k1})}const M1=new U.H0(k1);for(const at of J1.values())M1.addComponent(at);const vt=new Nt(ke,b1,M1);return Ct.set(k1,vt),vt}function or(me=En){const ae=Ct.get(me);if(!ae&&me===En&&(0,pe.aH)())return ot();if(!ae)throw mn.create("no-app",{appName:me});return ae}function dt(){return Array.from(Ct.values())}function gn(me){return l2.apply(this,arguments)}function l2(){return(l2=(0,h.Z)(function*(me){const ae=me.name;Ct.has(ae)&&(Ct.delete(ae),yield Promise.all(me.container.getProviders().map(ke=>ke.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Vn(me,ae,ke){var b1;let k1=null!==(b1=xr[me])&&void 0!==b1?b1:me;ke&&(k1+=`-${ke}`);const Y1=k1.match(/\s|\//),M1=ae.match(/\s|\//);if(Y1||M1){const vt=[`Unable to register library "${k1}" with version "${ae}":`];return Y1&&vt.push(`library name "${k1}" contains illegal characters (whitespace or "/")`),Y1&&M1&&vt.push("and"),M1&&vt.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void Ce.warn(vt.join(" "))}sr(new U.wA(`${k1}-version`,()=>({library:k1,version:ae}),"VERSION"))}function _2(me,ae){if(null!==me&&"function"!=typeof me)throw mn.create("invalid-log-argument");(0,X.Am)(me,ae)}function Er(me){(0,X.Ub)(me)}const An="firebase-heartbeat-database",Wn=1,W="firebase-heartbeat-store";let B=null;function Y(){return B||(B=function Le(me,ae,{blocked:ke,upgrade:b1,blocking:k1,terminated:Y1}={}){const M1=indexedDB.open(me,ae),vt=xe(M1);return b1&&M1.addEventListener("upgradeneeded",at=>{b1(xe(M1.result),at.oldVersion,at.newVersion,xe(M1.transaction),at)}),ke&&M1.addEventListener("blocked",at=>ke(at.oldVersion,at.newVersion,at)),vt.then(at=>{Y1&&at.addEventListener("close",()=>Y1()),k1&&at.addEventListener("versionchange",en=>k1(en.oldVersion,en.newVersion,en))}).catch(()=>{}),vt}(An,Wn,{upgrade:(me,ae)=>{0===ae&&me.createObjectStore(W)}}).catch(me=>{throw mn.create("idb-open",{originalErrorMessage:me.message})})),B}function oe(){return(oe=(0,h.Z)(function*(me){try{return yield(yield Y()).transaction(W).objectStore(W).get(gt(me))}catch(ae){if(ae instanceof pe.ZR)Ce.warn(ae.message);else{const ke=mn.create("idb-get",{originalErrorMessage:ae?.message});Ce.warn(ke.message)}}})).apply(this,arguments)}function Oe(me,ae){return P1.apply(this,arguments)}function P1(){return(P1=(0,h.Z)(function*(me,ae){try{const b1=(yield Y()).transaction(W,"readwrite");yield b1.objectStore(W).put(ae,gt(me)),yield b1.done}catch(ke){if(ke instanceof pe.ZR)Ce.warn(ke.message);else{const b1=mn.create("idb-set",{originalErrorMessage:ke?.message});Ce.warn(b1.message)}}})).apply(this,arguments)}function gt(me){return`${me.name}!${me.options.appId}`}class Pt{constructor(ae){this.container=ae,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new ar(ke),this._heartbeatsCachePromise=this._storage.read().then(b1=>(this._heartbeatsCache=b1,b1))}triggerHeartbeat(){var ae=this;return(0,h.Z)(function*(){const b1=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),k1=rt();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==k1&&!ae._heartbeatsCache.heartbeats.some(Y1=>Y1.date===k1))return ae._heartbeatsCache.heartbeats.push({date:k1,agent:b1}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(Y1=>{const M1=new Date(Y1.date).valueOf();return Date.now()-M1<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,h.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const ke=rt(),{heartbeatsToSend:b1,unsentEntries:k1}=function vn(me,ae=1024){const ke=[];let b1=me.slice();for(const k1 of me){const Y1=ke.find(M1=>M1.agent===k1.agent);if(Y1){if(Y1.dates.push(k1.date),fi(ke)>ae){Y1.dates.pop();break}}else if(ke.push({agent:k1.agent,dates:[k1.date]}),fi(ke)>ae){ke.pop();break}b1=b1.slice(1)}return{heartbeatsToSend:ke,unsentEntries:b1}}(ae._heartbeatsCache.heartbeats),Y1=(0,pe.L)(JSON.stringify({version:2,heartbeats:b1}));return ae._heartbeatsCache.lastSentHeartbeatDate=ke,k1.length>0?(ae._heartbeatsCache.heartbeats=k1,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),Y1})()}}function rt(){return(new Date).toISOString().substring(0,10)}class ar{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,h.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function Me(me){return oe.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var ke=this;return(0,h.Z)(function*(){var b1;if(yield ke._canUseIndexedDBPromise){const Y1=yield ke.read();return Oe(ke.app,{lastSentHeartbeatDate:null!==(b1=ae.lastSentHeartbeatDate)&&void 0!==b1?b1:Y1.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var ke=this;return(0,h.Z)(function*(){var b1;if(yield ke._canUseIndexedDBPromise){const Y1=yield ke.read();return Oe(ke.app,{lastSentHeartbeatDate:null!==(b1=ae.lastSentHeartbeatDate)&&void 0!==b1?b1:Y1.lastSentHeartbeatDate,heartbeats:[...Y1.heartbeats,...ae.heartbeats]})}})()}}function fi(me){return(0,pe.L)(JSON.stringify({version:2,heartbeats:me})).length}!function G3(me){sr(new U.wA("platform-logger",ae=>new h1(ae),"PRIVATE")),sr(new U.wA("heartbeat",ae=>new Pt(ae),"PRIVATE")),Vn(p1,"0.9.10",me),Vn(p1,"0.9.10","esm2017"),Vn("fire-js","")}("")},4859:(T1,Ie,F)=>{F.d(Ie,{H0:()=>Pe,wA:()=>X});var h=F(5861),U=F(2090);class X{constructor(Z,q,te){this.name=Z,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const pe="[DEFAULT]";class ye{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const te=new U.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:q});Ye&&te.resolve(Ye)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const te=this.normalizeInstanceIdentifier(Z?.identifier),Ye=null!==(q=Z?.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ee){if(Ye)return null;throw Ee}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function Ge(He){return"EAGER"===He.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[q,te]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(q);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ye});te.resolve(Ee)}catch{}}}}clearInstance(Z=pe){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,h.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=pe){return this.instances.has(Z)}getOptions(Z=pe){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,te=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[Ee,n1]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ee)&&n1.resolve(Ye);return Ye}onInit(Z,q){var te;const Ye=this.normalizeInstanceIdentifier(q),Ee=null!==(te=this.onInitCallbacks.get(Ye))&&void 0!==te?te:new Set;Ee.add(Z),this.onInitCallbacks.set(Ye,Ee);const n1=this.instances.get(Ye);return n1&&Z(n1,Ye),()=>{Ee.delete(Z)}}invokeOnInitCallbacks(Z,q){const te=this.onInitCallbacks.get(q);if(te)for(const Ye of te)try{Ye(Z,q)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let te=this.instances.get(Z);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(He=Z,He===pe?void 0:He),options:q}),this.instances.set(Z,te),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(te,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,te)}catch{}var He;return te||null}normalizeInstanceIdentifier(Z=pe){return this.component?this.component.multipleInstances?Z:pe:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new ye(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(T1,Ie,F)=>{F.d(Ie,{Am:()=>He,Ub:()=>Pe,Yd:()=>Ge,in:()=>U});const h=[];var U=(()=>{return(Z=U||(U={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",U;var Z})();const X={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,ye={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ve=(Z,q,...te)=>{if(q<Z.logLevel)return;const Ye=(new Date).toISOString(),Ee=ye[q];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ee](`[${Ye}]  ${Z.name}:`,...te)};class Ge{constructor(q){this.name=q,this._logLevel=pe,this._logHandler=ve,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in U))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?X[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...q),this._logHandler(this,U.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...q),this._logHandler(this,U.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,U.INFO,...q),this._logHandler(this,U.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,U.WARN,...q),this._logHandler(this,U.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...q),this._logHandler(this,U.ERROR,...q)}}function Pe(Z){h.forEach(q=>{q.setLogLevel(Z)})}function He(Z,q){for(const te of h){let Ye=null;q&&q.level&&(Ye=X[q.level]),te.userLogHandler=null===Z?null:(Ee,n1,...d1)=>{const be=d1.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");n1>=(Ye??Ee.logLevel)&&Z({level:U[n1].toLowerCase(),message:be,args:d1,type:Ee.name})}}}},259:(T1,Ie,F)=>{F.d(Ie,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=F(6881);(0,h.registerVersion)("firebase","9.22.0","app")},9260:(T1,Ie,F)=>{F.d(Ie,{Z:()=>h.Z});var h=F(3942);h.Z.registerVersion("firebase","9.22.0","app-compat")},5861:(T1,Ie,F)=>{function h(X,pe,ye,ve,Ge,Pe,He){try{var Z=X[Pe](He),q=Z.value}catch(te){return void ye(te)}Z.done?pe(q):Promise.resolve(q).then(ve,Ge)}function U(X){return function(){var pe=this,ye=arguments;return new Promise(function(ve,Ge){var Pe=X.apply(pe,ye);function He(q){h(Pe,ve,Ge,He,Z,"next",q)}function Z(q){h(Pe,ve,Ge,He,Z,"throw",q)}He(void 0)})}}F.d(Ie,{Z:()=>U})}},T1=>{T1(T1.s=5909)}]);